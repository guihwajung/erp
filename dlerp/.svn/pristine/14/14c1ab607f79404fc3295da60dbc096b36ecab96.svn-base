<?xml version="1.0" encoding="utf-8"?>
<FDL version="2.0">
  <Form id="form" width="950" height="750" maxwidth="950" maxheight="800" titletext="예상수납안내" onload="form_onload">
    <Layouts>
      <Layout>
        <Div id="divData" taborder="1" left="0" top="0" bottom="0" right="0" cssclass="div_DATA_Bg" text="">
          <Layouts>
            <Layout>
              <Button id="btnExit" taborder="8" text="닫기" top="700" width="70" height="25" right="410" onclick="divData_btnExit_onclick"/>
              <Button id="btnConf" taborder="7" text="확인" top="700" width="70" height="25" right="btnExit:10" onclick="divData_btnConf_onclick"/>
              <Static id="sta00" taborder="1" left="0" top="0" height="22" cssclass="sta_TITLE_Bg" text="퇴거처리" right="0"/>
              <Static id="sta01" taborder="2" left="0" top="32" height="22" text="퇴거자 정보" right="0"/>
              <Static id="sta02" taborder="3" text="동층호" left="0" width="115" height="30" cssclass="sta_WF_tablelabel" top="60"/>
              <Static id="sta03" taborder="4" width="185" height="30" cssclass="sta_WF_tablebg" left="sta02:-1" top="60"/>
              <Static id="sta04" taborder="5" text="퇴거자 성명" left="sta03:-1" width="110" height="30" cssclass="sta_WF_tablelabel" top="60"/>
              <Static id="sta05" taborder="6" width="185" height="30" cssclass="sta_WF_tablebg" left="sta04:-1" top="60"/>
              <Static id="sta06" taborder="9" text="임대계약기간" left="sta05:-1" width="110" height="30" cssclass="sta_WF_tablelabel" top="60"/>
              <Static id="sta07" taborder="10" height="30" cssclass="sta_WF_tablebg" left="sta06:-1" top="60" right="0" text=""/>
              <Static id="sta08" taborder="11" text="신청 퇴거일" left="0" width="115" height="30" cssclass="sta_WF_tablelabel" top="sta02:-1"/>
              <Static id="sta09" taborder="12" width="185" height="30" cssclass="sta_WF_tablebg" left="sta08:-1" top="sta03:-1"/>
              <Static id="sta10" taborder="13" text="신청한 퇴거사유" left="sta09:-1" width="110" height="30" cssclass="sta_WF_tablelabel" top="sta04:-1"/>
              <Static id="sta11" taborder="14" height="30" cssclass="sta_WF_tablebg" left="sta10:-1" top="sta05:-1" right="0"/>
              <Static id="sta12" taborder="15" text="약정보증금" left="0" width="115" height="30" cssclass="sta_WF_tablelabel" top="sta08:-1"/>
              <Static id="sta13" taborder="16" width="185" height="30" cssclass="sta_WF_tablebg" left="sta12:-1" top="sta09:-1"/>
              <Static id="sta14" taborder="17" text="수납보증금" left="sta13:-1" width="110" height="30" cssclass="sta_WF_tablelabel" top="sta10:-1"/>
              <Static id="sta15" taborder="18" width="185" height="30" cssclass="sta_WF_tablebg" left="sta14:-1" top="sta11:-1"/>
              <Static id="sta16" taborder="19" text="예수금" left="sta15:-1" width="110" height="30" cssclass="sta_WF_tablelabel" top="sta11:-1"/>
              <Static id="sta17" taborder="20" height="30" cssclass="sta_WF_tablebg" left="sta16:-1" top="sta11:-1" right="0"/>
              <Static id="sta18" taborder="21" text="월임대료" left="0" width="115" height="30" cssclass="sta_WF_tablelabel" top="sta12:-1"/>
              <Static id="sta19" taborder="22" width="185" height="30" cssclass="sta_WF_tablebg" left="sta18:-1" top="sta13:-1"/>
              <Static id="sta20" taborder="23" text="보증수수료" left="sta19:-1" width="110" height="30" cssclass="sta_WF_tablelabel" top="sta14:-1"/>
              <Static id="sta21" taborder="24" width="185" height="30" cssclass="sta_WF_tablebg" left="sta20:-1" top="sta15:-1"/>
              <Static id="sta22" taborder="25" text="샤시비" left="sta21:-1" width="110" height="30" cssclass="sta_WF_tablelabel" top="sta16:-1"/>
              <Static id="sta23" taborder="26" height="30" cssclass="sta_WF_tablebg" left="sta22:-1" top="sta17:-1" right="0"/>
              <Static id="sta24" taborder="27" text="임대료부과기준일" left="0" width="115" height="30" cssclass="sta_WF_tablelabel" top="sta18:-1"/>
              <Static id="sta25" taborder="28" width="185" height="30" cssclass="sta_WF_tablebg" left="sta24:-1" top="sta19:-1"/>
              <Static id="sta26" taborder="29" left="0" top="sta24:5" height="22" text="임대료 부과 및 수납 현황" right="0"/>
              <Grid id="objGrid" taborder="0" left="0" top="sta26:5" right="0" height="100"/>
              <Static id="sta27" taborder="30" left="0" top="objGrid:10" height="22" text="퇴거" right="0"/>
              <Static id="sta28" taborder="31" text="퇴거일자" left="0" width="115" height="30" top="375" cssclass="sta_WF_tablelabelE"/>
              <Static id="sta29" taborder="32" width="185" height="30" cssclass="sta_WF_tablebg" left="sta28:-1" top="375"/>
              <Static id="sta30" taborder="33" text="위약금" left="0" width="115" height="30" top="sta28:-1" cssclass="sta_WF_tablelabelE"/>
              <Static id="sta31" taborder="34" width="185" height="30" cssclass="sta_WF_tablebg" left="sta30:-1" top="sta29:-1"/>
              <Static id="sta32" taborder="35" text="퇴거사유" left="sta29:-1" width="110" height="59" top="375" cssclass="sta_WF_tablelabelE"/>
              <Static id="sta33" taborder="36" height="59" cssclass="sta_WF_tablebg" left="sta32:-1" top="375" right="0"/>
              <Static id="sta34" taborder="37" text="미수(임대료)" left="0" width="115" height="30" top="sta30:-1" cssclass="sta_WF_tablelabelE"/>
              <Static id="sta35" taborder="38" width="185" height="30" cssclass="sta_WF_tablebg" left="sta34:-1" top="sta31:-1"/>
              <Static id="sta36" taborder="39" text="미수(보증수수료)" left="0" width="115" height="30" top="sta34:-1" cssclass="sta_WF_tablelabelE"/>
              <Static id="sta37" taborder="40" width="185" height="30" cssclass="sta_WF_tablebg" left="sta36:-1" top="sta35:-1" text=""/>
              <Static id="sta38" taborder="41" text="미수금(관리비)" left="0" width="115" height="30" top="sta36:-1" cssclass="sta_WF_tablelabelE"/>
              <Static id="sta39" taborder="42" width="185" height="30" cssclass="sta_WF_tablebg" left="sta38:-1" top="sta37:-1"/>
              <Static id="sta40" taborder="43" text="시설보수비" left="0" width="115" height="30" top="sta38:-1" cssclass="sta_WF_tablelabelE"/>
              <Static id="sta41" taborder="44" width="185" height="30" cssclass="sta_WF_tablebg" left="sta40:-1" top="sta39:-1"/>
              <Static id="sta42" taborder="45" text="미수(연체료)" left="0" width="115" height="30" top="sta40:-1" cssclass="sta_WF_tablelabelE"/>
              <Static id="sta43" taborder="46" width="185" height="30" cssclass="sta_WF_tablebg" left="sta42:-1" top="sta41:-1"/>
              <Static id="sta44" taborder="47" text="퇴거처리자" left="0" width="115" height="30" top="sta42:-1" cssclass="sta_WF_tablelabelE"/>
              <Static id="sta45" taborder="48" width="185" height="30" cssclass="sta_WF_tablebg" left="sta44:-1" top="sta43:-1"/>
              <Static id="sta46" taborder="49" text="대납이자" left="0" width="115" height="30" cssclass="sta_WF_tablelabel" top="sta44:-1"/>
              <Static id="sta47" taborder="50" width="185" height="30" cssclass="sta_WF_tablebg" left="sta46:-1" top="sta45:-1"/>
              <Static id="sta48" taborder="51" text="중도상환수수료" left="0" width="115" height="30" cssclass="sta_WF_tablelabel" top="sta46:-1"/>
              <Static id="sta49" taborder="52" width="185" height="30" cssclass="sta_WF_tablebg" left="sta48:-1" top="sta47:-1"/>
              <Static id="sta50" taborder="53" text="장기손충당금" left="0" width="115" height="30" cssclass="sta_WF_tablelabel" top="sta48:-1"/>
              <Static id="sta51" taborder="54" width="185" height="30" cssclass="sta_WF_tablebg" left="sta50:-1" top="sta49:-1"/>
              <Static id="sta52" taborder="55" text="분양전환승계금액" left="0" width="115" height="30" cssclass="sta_WF_tablelabel" top="sta50:-1"/>
              <Static id="sta53" taborder="56" width="185" height="30" cssclass="sta_WF_tablebg" left="sta52:-1" top="sta51:-1"/>
              <Static id="sta54" taborder="57" left="299" top="464" height="22" text="정산/지급" right="0"/>
              <Static id="sta55" taborder="58" text="정산/발행 여부" left="sta39:-1" width="110" height="30" top="sta54:5" cssclass="sta_WF_tablelabelE"/>
              <Static id="sta56" taborder="59" height="30" cssclass="sta_WF_tablebg" left="sta55:-1" top="sta54:5" right="0"/>
              <Static id="sta57" taborder="60" text="결제일자(개인)" left="sta41:-1" width="110" height="30" top="520" cssclass="sta_WF_tablelabelE"/>
              <Static id="sta58" taborder="61" width="185" height="30" cssclass="sta_WF_tablebg" left="sta57:-1" top="520"/>
              <Static id="sta59" taborder="62" text="지급금액(개인)" left="sta58:-1" width="110" height="30" top="520" cssclass="sta_WF_tablelabelE"/>
              <Static id="sta60" taborder="63" height="30" cssclass="sta_WF_tablebg" left="sta59:-1" top="520" right="0"/>
              <Static id="sta61" taborder="64" text="결제일자(관리비)" left="sta43:-1" width="110" height="30" top="549" cssclass="sta_WF_tablelabelE"/>
              <Static id="sta62" taborder="65" width="185" height="30" cssclass="sta_WF_tablebg" left="sta61:-1" top="549"/>
              <Static id="sta63" taborder="66" text="지급금액(관리비)" left="sta62:-1" width="110" height="30" top="549" cssclass="sta_WF_tablelabelE"/>
              <Static id="sta64" taborder="67" height="30" cssclass="sta_WF_tablebg" left="sta63:-1" top="549" right="0" text=""/>
              <Static id="sta65" taborder="68" text="환불은행" left="sta45:-1" width="110" height="30" cssclass="sta_WF_tablelabel" top="578"/>
              <Static id="sta66" taborder="69" width="185" height="30" cssclass="sta_WF_tablebg" left="sta65:-1" top="578"/>
              <Static id="sta67" taborder="70" text="환불계좌" left="sta66:-1" width="110" height="30" cssclass="sta_WF_tablelabel" top="578"/>
              <Static id="sta68" taborder="71" height="30" cssclass="sta_WF_tablebg" left="sta67:-1" top="578" right="0"/>
              <Static id="sta69" taborder="72" text="예금주" left="sta47:-1" width="110" height="30" cssclass="sta_WF_tablelabel" top="607"/>
              <Static id="sta70" taborder="73" width="185" height="30" cssclass="sta_WF_tablebg" left="sta69:-1" top="607"/>
              <Static id="staDS_DONGHO" taborder="74" left="sta02:5" top="sta03:-25" height="20" width="170"/>
              <Edit id="txtDS_CONTRACTOR" taborder="75" left="sta04:5" top="sta05:-25" height="20" readonly="true" width="100"/>
              <Edit id="txtDT_LEASE_FR" taborder="76" left="sta06:5" top="sta07:-25" height="20" readonly="true" width="70"/>
              <Static id="sta71" taborder="77" text="~" left="txtDT_LEASE_FR:5" top="sta07:-25" width="10" height="20"/>
              <Edit id="txtDT_LEASE_TO" taborder="78" left="sta71:5" top="sta07:-25" height="20" readonly="true" width="70"/>
              <Edit id="txtDT_APPQUIT" taborder="79" left="sta08:5" top="sta09:-25" height="20" readonly="true" width="150"/>
              <Edit id="txtRM_APPQUIT" taborder="80" left="sta10:5" top="sta11:-25" height="20" readonly="true" right="5"/>
              <MaskEdit id="txtAM_BUNYANGPLAN" taborder="81" left="sta12:5" top="sta13:-25" width="150" height="20" format="#,###" readonly="true"/>
              <Static id="sta72" taborder="82" text="원" left="txtAM_BUNYANGPLAN:5" top="sta13:-25" width="10" height="20"/>
              <MaskEdit id="txtAM_BUNYANGGET" taborder="83" left="sta14:5" top="sta15:-25" width="150" height="20" format="#,###" readonly="true"/>
              <Static id="sta73" taborder="84" text="원" left="txtAM_BUNYANGGET:5" top="sta15:-25" width="10" height="20"/>
              <MaskEdit id="txtAM_KASU" taborder="85" left="sta16:5" top="sta17:-25" width="150" height="20" format="#,###" readonly="true"/>
              <Static id="sta74" taborder="86" text="원" left="txtAM_KASU:5" top="sta17:-25" width="10" height="20"/>
              <MaskEdit id="txtAM_MLEASE" taborder="87" left="sta18:5" top="sta19:-25" width="150" height="20" format="#,###" readonly="true"/>
              <Static id="sta75" taborder="88" text="원" left="txtAM_MLEASE:5" top="sta19:-25" width="10" height="20"/>
              <MaskEdit id="txtAM_ASSU" taborder="89" left="sta20:5" top="sta21:-25" width="150" height="20" format="#,###" readonly="true"/>
              <Static id="sta76" taborder="90" text="원" left="txtAM_ASSU:5" top="sta21:-25" width="10" height="20"/>
              <MaskEdit id="txtAM_SHASI" taborder="91" left="sta22:5" top="sta23:-25" width="150" height="20" format="#,###" readonly="true"/>
              <Static id="sta77" taborder="92" text="원" left="txtAM_SHASI:5" top="sta23:-25" width="10" height="20"/>
              <Calendar id="tclDT_KIJUN" taborder="93" left="sta24:5" top="sta25:-25" width="105" height="20" dateformat="yyyy-MM-dd" editformat="yyyyMMdd" autoselect="true"/>
              <Button id="btnSightLease" taborder="94" text="임대료부과내역보기" top="180" width="140" height="25" left="298" onclick="divData_btnSightLease_onclick"/>
              <Calendar id="tclDT_QUIT" taborder="95" left="sta28:5" top="sta29:-25" width="105" height="20" dateformat="yyyy-MM-dd" editformat="yyyyMMdd" autoselect="true" onchanged="fnSearchInit"/>
              <MaskEdit id="txtAM_FORFEIT" taborder="96" left="sta30:5" top="sta31:-25" width="150" height="20" format="#,###"/>
              <Static id="sta78" taborder="97" text="원" left="txtAM_FORFEIT:5" top="sta31:-25" width="10" height="20"/>
              <TextArea id="txtDS_REMARK" taborder="98" left="sta32:5" top="sta33:-54" height="50" right="5"/>
              <MaskEdit id="txtAM_MISULEASE" taborder="99" left="sta34:5" top="sta35:-25" width="150" height="20" format="#,###"/>
              <Static id="sta79" taborder="100" text="원" left="txtAM_MISULEASE:5" top="sta35:-25" width="10" height="20"/>
              <MaskEdit id="txtAM_MISUASSU" taborder="101" left="sta36:5" top="sta37:-25" width="150" height="20" format="#,###"/>
              <Static id="sta80" taborder="102" text="원" left="txtAM_MISUASSU:5" top="sta37:-25" width="10" height="20"/>
              <MaskEdit id="txtAM_MISUMG" taborder="103" left="sta38:5" top="sta39:-25" width="150" height="20" format="#,###"/>
              <Static id="sta81" taborder="104" text="원" left="txtAM_MISUMG:5" top="sta39:-25" width="10" height="20"/>
              <MaskEdit id="txtAM_REPAIR" taborder="105" left="sta40:5" top="sta41:-25" width="150" height="20" format="#,###"/>
              <Static id="sta82" taborder="106" text="원" left="txtAM_REPAIR:5" top="sta41:-25" width="10" height="20"/>
              <MaskEdit id="txtAM_ETC" taborder="107" left="sta42:5" top="sta43:-25" width="150" height="20" format="#,###"/>
              <Static id="sta83" taborder="108" text="원" left="txtAM_ETC:5" top="sta43:-25" width="10" height="20"/>
              <Edit id="txtID_QUIT" taborder="109" left="sta44:5" top="sta45:-25" height="20" width="150" readonly="true"/>
              <MaskEdit id="txtAM_INTEREST" taborder="110" left="sta46:5" top="sta47:-25" width="150" height="20" format="#,###"/>
              <Static id="sta84" taborder="111" text="원" left="txtAM_INTEREST:5" top="sta47:-25" width="10" height="20"/>
              <MaskEdit id="txtAM_FEE" taborder="112" left="sta48:5" top="sta49:-25" width="150" height="20" format="#,###"/>
              <Static id="sta85" taborder="113" text="원" left="txtAM_FEE:5" top="sta49:-25" width="10" height="20"/>
              <MaskEdit id="txtAM_JANGISON" taborder="114" left="sta50:5" top="sta51:-25" width="150" height="20" format="#,###"/>
              <Static id="sta86" taborder="115" text="원" left="txtAM_JANGISON:5" top="sta51:-25" width="10" height="20"/>
              <MaskEdit id="txtAM_BUNYANGTRANS" taborder="116" left="sta52:5" top="sta53:-25" width="150" height="20" format="#,###"/>
              <Static id="sta87" taborder="117" text="원" left="txtAM_BUNYANGTRANS:5" top="sta53:-25" width="10" height="20"/>
              <Radio id="rdoYN_PAYMENT" taborder="118" left="sta55:5" top="496" height="20" direction="vertical" fittocontents="width" codecolumn="CD_CODE" datacolumn="DS_CODE" innerdataset="dsYN_PAYMENT" right="5"/>
              <Calendar id="tclDT_PAYMENT" taborder="119" left="sta57:5" top="sta58:-25" width="105" height="20" dateformat="yyyy-MM-dd" editformat="yyyyMMdd" autoselect="true"/>
              <MaskEdit id="txtAM_PAYMENT" taborder="120" left="sta59:5" top="sta60:-25" width="150" height="20" format="#,###"/>
              <Static id="sta88" taborder="121" text="원" left="txtAM_PAYMENT:5" top="sta60:-25" width="10" height="20"/>
              <Calendar id="tclDT_PAYMENT2" taborder="122" left="sta61:5" top="sta62:-25" width="105" height="20" dateformat="yyyy-MM-dd" editformat="yyyyMMdd" autoselect="true"/>
              <MaskEdit id="txtAM_PAYMENT2" taborder="123" left="sta63:5" top="sta64:-25" width="150" height="20" format="#,###"/>
              <Static id="sta89" taborder="124" text="원" left="txtAM_PAYMENT2:5" top="sta64:-25" width="10" height="20"/>
              <Edit id="txtDS_REPAYBANK" taborder="125" left="sta65:5" top="sta66:-25" height="20" width="170"/>
              <Edit id="txtNO_REPAYGUJA" taborder="126" left="sta67:5" top="sta68:-25" height="20" width="150"/>
              <Edit id="txtDS_REPAYOWNER" taborder="127" left="sta69:5" top="sta70:-25" height="20" width="170"/>
            </Layout>
          </Layouts>
        </Div>
      </Layout>
    </Layouts>
    <Script type="xscript5.1"><![CDATA[this.objApp = this.gfnGetApplication();

this.form_onload = function(obj:nexacro.Form,e:nexacro.LoadEventInfo)
{
	// -- 필수 -------------------//
	this.gfnFormOnLoad(this);	
	this.gfnFormInfo(this);		
	// ---------------------------//	
	this.fnSetButton();
	this.fnSetExtendButton();
	this.fnSetVariable();
	this.fnSetEvent();
	this.fnSetParameter();
	
	
	this.dsSearch.setColumn(0, "CD_ACNTUNIT", this.getOwnerFrame().CD_ACNTUNIT);
	this.dsSearch.setColumn(0, "NO_DONG", this.getOwnerFrame().NO_DONG);
	this.dsSearch.setColumn(0, "NO_FLOOR", this.getOwnerFrame().NO_FLOOR);
	this.dsSearch.setColumn(0, "NO_HO", this.getOwnerFrame().NO_HO);
	
	this.dsSingle.setColumn(0, "DS_CONTRACTOR", this.getOwnerFrame().DS_CONTRACTOR);
	this.dsSingle.setColumn(0, "DS_DONGHO", this.getOwnerFrame().DS_DONGHO);
	this.dsSingle.setColumn(0, "DT_KIJUN", this.gfnGetDate());
	this.dsSingle.setColumn(0, "YN_PAYMENT", "Y");

	if (!this.gfnIsNull(this.dsSearch.getColumn(0, "CD_ACNTUNIT"))) {
		this.fnSelect();
	}
};

/************************************************************************
 * 버튼 설정 : 화면(Tab) 전환시 마다 호출
 ************************************************************************/
this.fnSetButton = function() {		
}

/************************************************************************
 * 확장 버튼 : 화면별 버튼 설정 ID, function 연결
 ************************************************************************/
this.fnSetExtendButton = function() {
};

/************************************************************************
 * 변수 선언
 ************************************************************************/
this.fnSetVariable = function() {
	this.dxGrid = this.divData.form.objGrid;
	
	this.tclDT_RECEIPT = this.divData.form.tclDT_RECEIPT;
	this.txtAM_RECEIPT = this.divData.form.txtAM_RECEIPT;
};

/************************************************************************
 * 이벤트 설정
 ************************************************************************/
this.fnSetEvent = function() {	
	this.gfnGridInit(this.dxGrid, this.dsList, "DL", "DLC_DLGQUIT");
	
	this.dxGrid.BeforeUserDataSetParam = "fnGrid_BeforeUserDataSetParam";
	this.dxGrid.EnterCell = "fnGrid_EnterCell";
}

/************************************************************************
 * 파라미터 설정
 ************************************************************************/
this.fnSetParameter = function() {
	this.dsSelect = new Dataset();
	this.dsSelect.addColumn("CD_ACNTUNIT", "string");
	this.dsSelect.addColumn("TY_GUBUN", "string");
	this.dsSelect.addColumn("NO_CHASU", "string");
	this.dsSelect.addColumn("NO_DONG", "string");
	this.dsSelect.addColumn("NO_FLOOR", "string");
	this.dsSelect.addColumn("NO_HO", "string");
	
	this.dsSelectLease = new Dataset();
	this.dsSelectLease.addColumn("CD_ACNTUNIT", "string");
	this.dsSelectLease.addColumn("TY_GUBUN", "string");
	this.dsSelectLease.addColumn("NO_CHASU", "string");
	this.dsSelectLease.addColumn("NO_DONG", "string");
	this.dsSelectLease.addColumn("NO_FLOOR", "string");
	this.dsSelectLease.addColumn("NO_HO", "string");
	this.dsSelectLease.addColumn("DT_QUIT", "string");
	this.dsSelectLease.addColumn("ID_INSERT", "string");
	
	this.dsInsert = new Dataset();
	this.dsInsert.addColumn("CD_ACNTUNIT", "string");
	this.dsInsert.addColumn("TY_GUBUN", "string");
	this.dsInsert.addColumn("NO_CHASU", "string");
	this.dsInsert.addColumn("NO_DONG", "string");
	this.dsInsert.addColumn("NO_FLOOR", "string");
	this.dsInsert.addColumn("NO_HO", "string");
	this.dsInsert.addColumn("HNAME_QUIT", "string");
	this.dsInsert.addColumn("DT_OUT", "string");
	this.dsInsert.addColumn("DS_REMARK", "string");
	this.dsInsert.addColumn("AM_FORFEIT", "bigdecimal");
	this.dsInsert.addColumn("AM_REPAIR", "bigdecimal");
	this.dsInsert.addColumn("AM_MISUMG", "bigdecimal");
	this.dsInsert.addColumn("AM_MISULEASE", "bigdecimal");
	this.dsInsert.addColumn("AM_MISUASSU", "bigdecimal");
	this.dsInsert.addColumn("AM_ETC", "bigdecimal");
	this.dsInsert.addColumn("YN_PAYMENT", "string");
	this.dsInsert.addColumn("DT_PAYMENT", "string");
	this.dsInsert.addColumn("AM_PAYMENT", "bigdecimal");
	this.dsInsert.addColumn("DS_REPAYBANK", "string");
	this.dsInsert.addColumn("NO_REPAYGUJA", "string");
	this.dsInsert.addColumn("DS_REPAYOWNER", "string");
	this.dsInsert.addColumn("ID_QUIT", "string");
	this.dsInsert.addColumn("ID_INSERT", "string");
	this.dsInsert.addColumn("AM_SHASI", "bigdecimal");
	this.dsInsert.addColumn("AM_INTEREST", "bigdecimal");
	this.dsInsert.addColumn("AM_FEE", "bigdecimal");
	this.dsInsert.addColumn("AM_JANGISON", "bigdecimal");
	this.dsInsert.addColumn("AM_BUNYANGTRANS", "bigdecimal");

	this.dsUpdate = new Dataset();
	this.dsUpdate.addColumn("CD_ACNTUNIT", "string");
	this.dsUpdate.addColumn("TY_GUBUN", "string");
	this.dsUpdate.addColumn("NO_CHASU", "string");
	this.dsUpdate.addColumn("NO_DONG", "string");
	this.dsUpdate.addColumn("NO_FLOOR", "string");
	this.dsUpdate.addColumn("NO_HO", "string");
	this.dsUpdate.addColumn("YM_IMPOSE", "string");
	this.dsUpdate.addColumn("AM_RECEIVABLE", "bigdecimal");
	this.dsUpdate.addColumn("AM_DELAYRECEIVABLE", "bigdecimal");
	this.dsUpdate.addColumn("AM_LEASE", "bigdecimal");
	this.dsUpdate.addColumn("AM_DELAY", "bigdecimal");
	this.dsUpdate.addColumn("AM_RECEIVABLE_ASSU", "bigdecimal");
	this.dsUpdate.addColumn("AM_DELAYRECEIVABLE_ASSU", "bigdecimal");
	this.dsUpdate.addColumn("AM_ASSU", "bigdecimal");
	this.dsUpdate.addColumn("AM_DELAY_ASSU", "bigdecimal");
	this.dsUpdate.addColumn("DT_RECEIVED", "string");
	this.dsUpdate.addColumn("AM_RECEIVED", "bigdecimal");
	this.dsUpdate.addColumn("TY_POSITION", "string");
	this.dsUpdate.addColumn("CD_GUJA", "string");
	this.dsUpdate.addColumn("HNAME_QUIT", "string");
	this.dsUpdate.addColumn("DT_OUT", "string");
	this.dsUpdate.addColumn("DS_REMARK", "string");
	this.dsUpdate.addColumn("AM_FORFEIT", "bigdecimal");
	this.dsUpdate.addColumn("AM_REPAIR", "bigdecimal");
	this.dsUpdate.addColumn("AM_MISUMG", "bigdecimal");
	this.dsUpdate.addColumn("AM_MISULEASE", "bigdecimal");
	this.dsUpdate.addColumn("AM_MISUASSU", "bigdecimal");
	this.dsUpdate.addColumn("AM_ETC", "bigdecimal");
	this.dsUpdate.addColumn("YN_PAYMENT", "string");
	this.dsUpdate.addColumn("DT_PAYMENT", "string");
	this.dsUpdate.addColumn("AM_PAYMENT", "bigdecimal");
	this.dsUpdate.addColumn("DS_REPAYBANK", "string");
	this.dsUpdate.addColumn("NO_REPAYGUJA", "string");
	this.dsUpdate.addColumn("DS_REPAYOWNER", "string");
	this.dsUpdate.addColumn("ID_QUIT", "string");
	this.dsUpdate.addColumn("ID_INSERT", "string");
	this.dsUpdate.addColumn("AM_SHASI", "bigdecimal");
	this.dsUpdate.addColumn("AM_INTEREST", "bigdecimal");
	this.dsUpdate.addColumn("AM_FEE", "bigdecimal");
}

/************************************************************************
 * 버튼 이벤트
 ************************************************************************/
this.fnSelect = function() {
	if (!this.fnSelectValidate()) return;
	
	this.dsSelect.clearData();
	this.dsSelect.addRow();
	this.dsSelect.setColumn(0, "CD_ACNTUNIT", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(0, 6));
	this.dsSelect.setColumn(0, "TY_GUBUN", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(6, 1));
	this.dsSelect.setColumn(0, "NO_CHASU", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(7, 2));
	this.dsSelect.setColumn(0, "NO_DONG", this.dsSearch.getColumn(0, "NO_DONG"));
	this.dsSelect.setColumn(0, "NO_FLOOR", this.dsSearch.getColumn(0, "NO_FLOOR"));
	this.dsSelect.setColumn(0, "NO_HO", this.dsSearch.getColumn(0, "NO_HO"));
	
	var strSvcId    = "select";
	var strSvcType  = "grid";
	var inProc		= "_dsProc";
	var inData      = "select=dsSelect";
	var outData     = "dsResult=select0";
	var strArg      = "";
	var callBackFnc = "fnCallback";
	
	this.gfnTransaction( strSvcId , 	// transaction을 구분하기 위한 svc id값
						strSvcType , 	// trabsaction을 요청할 구분
						inProc,			// Procedure 정보 Dataset 이름
						inData , 		// 입력값으로 보낼 dataset id , a=b형태로 실제이름과 입력이름을 매칭
						outData , 		// 처리결과값으로 받을 dataset id, a=b형태로 실제이름과 입력이름을 매칭
						strArg, 			// 입력갑스로 보낼 arguments, strFormData="20120607"
						callBackFnc); // 통신방법 정의 [생략가능]	
}

this.fnSave = function() {
	if (!this.fnSaveValidate()) return;
	
	var inData = "";
	
	this.dsInsert.clearData();
	this.dsUpdate.clearData();

	if (this.dsList.rowcount > 0) {
		for (var i = 0; i < this.dsList.rowcount; i++) {
			var flag = this.gfnGetFlag(this.dsList, i);
			switch(flag) {
				case "U":
					var nrow = this.dsUpdate.addRow();
					this.dsUpdate.setColumn(nrow, "CD_ACNTUNIT", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(0, 6));
					this.dsUpdate.setColumn(nrow, "TY_GUBUN", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(6, 1));
					this.dsUpdate.setColumn(nrow, "NO_CHASU", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(7, 2));
					this.dsUpdate.setColumn(nrow, "NO_DONG", this.dsSearch.getColumn(0, "NO_DONG"));
					this.dsUpdate.setColumn(nrow, "NO_FLOOR", this.dsSearch.getColumn(0, "NO_FLOOR"));
					this.dsUpdate.setColumn(nrow, "NO_HO", this.dsSearch.getColumn(0, "NO_HO"));
					this.dsUpdate.setColumn(nrow, "YM_IMPOSE", nexacro.replaceAll(this.dsList.getColumn(i, "YM_IMPOSE"), "-", ""));
					this.dsUpdate.setColumn(nrow, "AM_RECEIVABLE", this.dsList.getColumn(i, "AM_RECEIVABLE"));
					this.dsUpdate.setColumn(nrow, "AM_DELAYRECEIVABLE", this.dsList.getColumn(i, "AM_DELAYRECEIVABLE"));
					this.dsUpdate.setColumn(nrow, "AM_LEASE", this.dsList.getColumn(i, "AM_LEASE"));
					this.dsUpdate.setColumn(nrow, "AM_DELAY", this.dsList.getColumn(i, "AM_DELAY"));
					this.dsUpdate.setColumn(nrow, "AM_RECEIVABLE_ASSU", this.dsList.getColumn(i, "AM_RECEIVABLE_ASSU"));
					this.dsUpdate.setColumn(nrow, "AM_DELAYRECEIVABLE_ASSU", this.dsList.getColumn(i, "AM_DELAYRECEIVABLE_ASSU"));
					this.dsUpdate.setColumn(nrow, "AM_ASSU", this.dsList.getColumn(i, "AM_ASSU"));
					this.dsUpdate.setColumn(nrow, "AM_DELAY_ASSU", this.dsList.getColumn(i, "AM_DELAY_ASSU"));
					this.dsUpdate.setColumn(nrow, "DT_RECEIVED", nexacro.replaceAll(this.dsList.getColumn(i, "DT_RECEIVED"), "-", ""));
					this.dsUpdate.setColumn(nrow, "AM_RECEIVED", this.dsList.getColumn(i, "AM_RECEIVED"));
					var tyPosition = "";
					switch (this.dsList.getColumn(i, "TY_POSITION")) {
						case "M/H": tyPosition = "1"; break;
						case "은행": tyPosition = "2"; break;
						case "본사": tyPosition = "3"; break;
						case "기타": tyPosition = "4"; break;
					}
					this.dsUpdate.setColumn(nrow, "TY_POSITION", tyPosition);
					this.dsUpdate.setColumn(nrow, "CD_GUJA", this.dsList.getColumn(i, "CD_GUJA"));
					this.dsUpdate.setColumn(nrow, "HNAME_QUIT", this.dsSingle.getColumn(0, "DS_CONTRACTOR"));
					this.dsUpdate.setColumn(nrow, "DT_OUT", this.dsSingle.getColumn(0, "DT_QUIT"));
					this.dsUpdate.setColumn(nrow, "DS_REMARK", this.dsSingle.getColumn(0, "DS_REMARK"));
					this.dsUpdate.setColumn(nrow, "AM_FORFEIT", this.dsSingle.getColumn(0, "AM_FORFEIT"));
					this.dsUpdate.setColumn(nrow, "AM_REPAIR", this.dsSingle.getColumn(0, "AM_REPAIR"));
					this.dsUpdate.setColumn(nrow, "AM_MISUMG", this.dsSingle.getColumn(0, "AM_MISUMG"));
					this.dsUpdate.setColumn(nrow, "AM_MISULEASE", this.dsSingle.getColumn(0, "AM_MISULEASE"));
					this.dsUpdate.setColumn(nrow, "AM_MISUASSU", this.dsSingle.getColumn(0, "AM_MISUASSU"));
					this.dsUpdate.setColumn(nrow, "AM_ETC", this.dsSingle.getColumn(0, "AM_ETC"));
					this.dsUpdate.setColumn(nrow, "YN_PAYMENT", this.dsSingle.getColumn(0, "YN_PAYMENT"));
					this.dsUpdate.setColumn(nrow, "DT_PAYMENT", this.dsSingle.getColumn(0, "DT_PAYMENT"));
					this.dsUpdate.setColumn(nrow, "AM_PAYMENT", this.dsSingle.getColumn(0, "AM_PAYMENT"));
					this.dsUpdate.setColumn(nrow, "DS_REPAYBANK", this.dsSingle.getColumn(0, "DS_REPAYBANK"));
					this.dsUpdate.setColumn(nrow, "NO_REPAYGUJA", this.dsSingle.getColumn(0, "NO_REPAYGUJA"));
					this.dsUpdate.setColumn(nrow, "DS_REPAYOWNER", this.dsSingle.getColumn(0, "DS_REPAYOWNER"));
					this.dsUpdate.setColumn(nrow, "ID_QUIT", this.dsSingle.getColumn(0, "ID_QUIT"));
					this.dsUpdate.setColumn(nrow, "ID_INSERT", this.AuthClient.ID_USER);
					this.dsUpdate.setColumn(nrow, "AM_SHASI", this.dsSingle.getColumn(0, "AM_SHASI"));
					this.dsUpdate.setColumn(nrow, "AM_INTEREST", this.dsSingle.getColumn(0, "AM_INTEREST"));
					this.dsUpdate.setColumn(nrow, "AM_FEE", this.dsSingle.getColumn(0, "AM_FEE"));
					break;
			}
		}
	
		inData      = "update=dsUpdate";
	}
	else {
		var nrow = this.dsInsert.addRow();
		this.dsInsert.setColumn(nrow, "CD_ACNTUNIT", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(0, 6));
		this.dsInsert.setColumn(nrow, "TY_GUBUN", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(6, 1));
		this.dsInsert.setColumn(nrow, "NO_CHASU", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(7, 2));
		this.dsInsert.setColumn(nrow, "NO_DONG", this.dsSearch.getColumn(0, "NO_DONG"));
		this.dsInsert.setColumn(nrow, "NO_FLOOR", this.dsSearch.getColumn(0, "NO_FLOOR"));
		this.dsInsert.setColumn(nrow, "NO_HO", this.dsSearch.getColumn(0, "NO_HO"));
		this.dsInsert.setColumn(nrow, "HNAME_QUIT", this.dsSingle.getColumn(0, "DS_CONTRACTOR"));
		this.dsInsert.setColumn(nrow, "DT_OUT", this.dsSingle.getColumn(0, "DT_QUIT"));
		this.dsInsert.setColumn(nrow, "DS_REMARK", this.dsSingle.getColumn(0, "DS_REMARK"));
		this.dsInsert.setColumn(nrow, "AM_FORFEIT", this.dsSingle.getColumn(0, "AM_FORFEIT"));
		this.dsInsert.setColumn(nrow, "AM_REPAIR", this.dsSingle.getColumn(0, "AM_REPAIR"));
		this.dsInsert.setColumn(nrow, "AM_MISUMG", this.dsSingle.getColumn(0, "AM_MISUMG"));
		this.dsInsert.setColumn(nrow, "AM_MISULEASE", this.dsSingle.getColumn(0, "AM_MISULEASE"));
		this.dsInsert.setColumn(nrow, "AM_MISUASSU", this.dsSingle.getColumn(0, "AM_MISUASSU"));
		this.dsInsert.setColumn(nrow, "AM_ETC", this.dsSingle.getColumn(0, "AM_ETC"));
		this.dsInsert.setColumn(nrow, "YN_PAYMENT", this.dsSingle.getColumn(0, "YN_PAYMENT"));
		this.dsInsert.setColumn(nrow, "DT_PAYMENT", this.dsSingle.getColumn(0, "DT_PAYMENT"));
		this.dsInsert.setColumn(nrow, "AM_PAYMENT", this.dsSingle.getColumn(0, "AM_PAYMENT"));
		this.dsInsert.setColumn(nrow, "DS_REPAYBANK", this.dsSingle.getColumn(0, "DS_REPAYBANK"));
		this.dsInsert.setColumn(nrow, "NO_REPAYGUJA", this.dsSingle.getColumn(0, "NO_REPAYGUJA"));
		this.dsInsert.setColumn(nrow, "DS_REPAYOWNER", this.dsSingle.getColumn(0, "DS_REPAYOWNER"));
		this.dsInsert.setColumn(nrow, "ID_QUIT", this.dsSingle.getColumn(0, "ID_QUIT"));
		this.dsInsert.setColumn(nrow, "ID_INSERT", this.AuthClient.ID_USER);
		this.dsInsert.setColumn(nrow, "AM_SHASI", this.dsSingle.getColumn(0, "AM_SHASI"));
		this.dsInsert.setColumn(nrow, "AM_INTEREST", this.dsSingle.getColumn(0, "AM_INTEREST"));
		this.dsInsert.setColumn(nrow, "AM_FEE", this.dsSingle.getColumn(0, "AM_FEE"));
		this.dsInsert.setColumn(nrow, "AM_JANGISON", this.dsSingle.getColumn(0, "AM_JANGISON"));
		this.dsInsert.setColumn(nrow, "AM_BUNYANGTRANS", this.dsSingle.getColumn(0, "AM_BUNYANGTRANS"));

		inData      = "insert=dsInsert";
	}

	var strSvcId    = "save";
	var strSvcType  = "save";
	var inProc		= "_dsProc";
	//var inData      = "insert=dsInsert update=dsUpdate";
	var outData     = "";
	var strArg      = "";
	var callBackFnc = "fnCallback";
	
	this.gfnTransaction( strSvcId , 	// transaction을 구분하기 위한 svc id값
						strSvcType , 	// transaction을 요청할 구분
						inProc,			// Procedure 정보 Dataset 이름
						inData , 		// 입력값으로 보낼 dataset id , a=b형태로 실제이름과 입력이름을 매칭
						outData , 		// 처리결과값으로 받을 dataset id, a=b형태로 실제이름과 입력이름을 매칭
						strArg, 			// 입력갑스로 보낼 arguments, strFormData="20120607"
						callBackFnc); // 통신방법 정의 [생략가능]
}

/************************************************************************
 * Validate
 ************************************************************************/
this.fnSelectValidate = function() {
	var validate = true;
	if (this.gfnIsNull(this.dsSearch.getColumn(0, "CD_ACNTUNIT"))) {
		this.gfnAlert("사업지정보가 정확하지 않습니다!!");
		validate = false;
	}
	else if (this.gfnIsNull(this.dsSearch.getColumn(0, "NO_DONG")) || this.gfnIsNull(this.dsSearch.getColumn(0, "NO_FLOOR")) || this.gfnIsNull(this.dsSearch.getColumn(0, "NO_HO"))) {
		this.gfnAlert("동층호정보가 정확하지 않습니다!!");
		validate = false;
	}
	return validate;
};

this.fnSaveValidate = function() {
	var validate = true;
	var strMsg = "";
	if (this.gfnIsNull(this.dsSearch.getColumn(0, "CD_ACNTUNIT"))) {
		strMsg += "사업지코드가 존재하지 않습니다.\n";
		validate = false;
	}
	if (this.gfnIsNull(this.dsSearch.getColumn(0, "NO_DONG"))) {
		strMsg += "동정보가 존재하지 않습니다.\n";
		validate = false;
	}
	if (this.gfnIsNull(this.dsSearch.getColumn(0, "NO_FLOOR"))) {
		strMsg += "층정보가 존재하지 않습니다.\n";
		validate = false;
	}
	if (this.gfnIsNull(this.dsSearch.getColumn(0, "NO_HO"))) {
		strMsg += "호정보가 존재하지 않습니다.\n";
		validate = false;
	}
	
	if (this.gfnIsNull(this.dsSingle.getColumn(0, "DT_QUIT"))) {
		strMsg += "해지일자를 입력하지 않았습니다.\n";
		validate = false;
	}
	if (this.gfnIsNull(this.dsSingle.getColumn(0, "DS_REMARK"))) {
		strMsg += "해지사유를 입력하지 않았습니다.\n";
		validate = false;
	}
	if (this.gfnIsNull(this.dsSingle.getColumn(0, "AM_FORFEIT"))) {
		strMsg += "위약금을 입력하지 않았습니다.\n";
		validate = false;
	}
	if (this.gfnIsNull(this.dsSingle.getColumn(0, "AM_REPAIR"))) {
		strMsg += "시설보수비를 입력하지 않았습니다.\n";
		validate = false;
	}
	if (this.gfnIsNull(this.dsSingle.getColumn(0, "AM_MISUMG"))) {
		strMsg += "미수금관리비를 입력하지 않았습니다.\n";
		validate = false;
	}
	if (this.gfnIsNull(this.dsSingle.getColumn(0, "AM_MISULEASE"))) {
		strMsg += "미수금임대료를 입력하지 않았습니다.\n";
		validate = false;
	}
	if (this.gfnIsNull(this.dsSingle.getColumn(0, "AM_ETC"))) {
		strMsg += "기타금액을 입력하지 않았습니다.\n";
		validate = false;
	}
	if (this.gfnIsNull(this.dsSingle.getColumn(0, "DT_PAYMENT"))) {
		strMsg += "지급일자를 입력하지 않았습니다.\n";
		validate = false;
	}
	if (this.gfnIsNull(this.dsSingle.getColumn(0, "AM_PAYMENT"))) {
		strMsg += "지급금액을 입력하지 않았습니다.\n";
		validate = false;
	}
	
	if (!validate) {
		this.gfnAlert(strMsg);
		return false;
	}
	
	return true;
};
 
/************************************************************************
 * 콜백 이벤트
 ************************************************************************/
/*
 *	콜백 처리
 */
this.fnCallback = function(svcID, errorCode, errorMsg) {
	if (svcID == "select") {
		if (this.dsResult.rowcount > 0) {
			this.dsSingle.setColumn(0, "DT_QUIT", this.dsResult.getColumn(0, "DT_APPQUIT"));
			this.dsSingle.setColumn(0, "DS_REMARK", this.dsResult.getColumn(0, "RM_APPQUIT"));
			this.dsSingle.setColumn(0, "DT_LEASE_FR", this.dsResult.getColumn(0, "DT_LEASE_FR"));
			this.dsSingle.setColumn(0, "DT_LEASE_TO", this.dsResult.getColumn(0, "DT_LEASE_TO"));
			this.dsSingle.setColumn(0, "AM_BUNYANGPLAN", this.dsResult.getColumn(0, "AM_BUNYANGPLAN"));
			this.dsSingle.setColumn(0, "AM_BUNYANGGET", this.dsResult.getColumn(0, "AM_BUNYANGGET"));
			this.dsSingle.setColumn(0, "AM_KASU", this.dsResult.getColumn(0, "AM_KASU"));
			this.dsSingle.setColumn(0, "AM_SHASI", this.dsResult.getColumn(0, "AM_SHASI"));
			this.dsSingle.setColumn(0, "AM_MLEASE", this.dsResult.getColumn(0, "AM_MLEASE"));
			this.dsSingle.setColumn(0, "AM_ASSU", this.dsResult.getColumn(0, "AM_ASSU"));
			this.dsSingle.setColumn(0, "DT_APPQUIT", this.dsResult.getColumn(0, "DT_APPQUIT"));
			this.dsSingle.setColumn(0, "RM_APPQUIT", this.dsResult.getColumn(0, "RM_APPQUIT"));
			this.dsSingle.setColumn(0, "DS_REMARK", this.dsResult.getColumn(0, "RM_APPQUIT"));
			this.dsSingle.setColumn(0, "ID_QUIT", this.AuthClient.DS_HNAME);
			this.dsSingle.setColumn(0, "AM_BUNYANGTRANS", this.dsResult.getColumn(0, "AM_BUNYANGTRANS"));
		}
		else {
			this.fnSelectCallback = function() {
				this.getParentContext().close(false);
			}
			this.gfnAlert("자료가 존재하지 않습니다.", "fnSelectCallback");
			return;
		}
		
		this.fnAmount();
	}
	else if (svcID == "selectLease") {
		if (this.dsList.rowcount > 0) {
			var row = this.dsList.rowcount - 1;
			this.dsList.setColumn(row, "DT_TO", this.dsSingle.getColumn(0, "DT_KIJUN"));
			this.dsList.setColumn(row, "DT_IN", this.dsSingle.getColumn(0, "DT_KIJUN"));
			this.dsList.setColumn(row, "DT_RECEIPT", this.dsSingle.getColumn(0, "DT_KIJUN"));
			this.dsList.setColumn(row, "AM_RECEIPT", this.dsList.getColumn(row, "AM_INLEASE"));
			this.dsList.setColumn(row, "TY_POSITION", "본사");
			this.dsList.setColumn(row, this.ucFlag, "U");
		}
		
		this.dsSingle.setColumn(0, "DT_QUIT", this.dsSingle.getColumn(0, "DT_KIJUN"));
	}
	else if(svcID == "save") {
		if (errorCode == 0) {
			this.getParentContext().close(true);
		} else {
			this.gfnAlert(errorMsg);
		}
	}
}

/************************************************************************
 * 코드파인드 이벤트
 ************************************************************************/

/************************************************************************
 * 그리드 이벤트
 ************************************************************************/
this.fnGrid_BeforeUserDataSetParam = function(id, dsUserParam, nrow) {	
 	if (id == "DLB_CFBANK_ACCOUNT_LEASE_CODEFIND") {
 		dsUserParam.setColumn(nrow, "CD_ACNTUNIT", this.dsSearch.getColumn(0, "CD_ACNTUNIT"));
 		dsUserParam.setColumn(nrow, "YN_OPTION", "N");
 		dsUserParam.setColumn(nrow, "FLG_GUBUN", "B");
 	}
	return true;
}

this.fnGrid_EnterCell = function(obj:nexacro.Grid, row, cell) {
	if (this.FormInfo.TY_AUTH == "R") {
		return false;
	}
}

/************************************************************************
 * 기타 이벤트
 ************************************************************************/
this.dsSingle_onvaluechanged = function(obj:nexacro.NormalDataset,e:nexacro.DSColChangeEventInfo) {
	if (e.oldvalue != e.newvalue) {
		switch (e.columnid) {
			case "AM_FORFEIT":
			case "AM_MISULEASE":
			case "AM_MISUASSU":
			case "AM_MISUMG":
			case "AM_REPAIR":
			case "AM_ETC":
			case "AM_INTEREST":
			case "AM_FEE":
			case "AM_JANGISON":
			case "AM_BUNYANGTRANS":
			case "AM_LOAN":
			case "AM_LOAN2":
			case "AM_LOANINTEREST":
			case "AM_LOANINTEREST2":
				var dx = nexacro.toNumber(this.dsSingle.getColumn(0, "AM_BUNYANGGET"))
						+ nexacro.toNumber(this.dsSingle.getColumn(0, "AM_SHASI"))
						- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_FORFEIT"))
						- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_MISULEASE"))
						- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_MISUASSU"))
						+ nexacro.toNumber(this.dsSingle.getColumn(0, "AM_JANGISON"))
						- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_MISUMG"))
						- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_REPAIR"))
						- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_LOAN"))
						- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_LOAN2"))
						- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_LOANINTEREST"))
						- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_LOANINTEREST2"))
						- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_ETC"))
						- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_INTEREST"))
						- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_FEE"))
						- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_BUNYANGTRANS"));
				this.dsSingle(0, "AM_PAYMENT", dx);
				break;
		}
	}
};

this.fnAmount = function() {
	var amPayment = nexacro.toNumber(this.dsSingle.getColumn(0, "AM_BUNYANGGET"))
					- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_FORFEIT"))
					- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_MISULEASE"))
					- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_MISUASSU"))
					- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_MISUMG"))
					- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_REPAIR"))
					- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_ETC"))
					- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_LOAN"))
					- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_LOAN2"))
					- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_LOANINTEREST"))
					- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_LOANINTEREST2"))
					- nexacro.toNumber(this.dsSingle.getColumn(0, "AM_BUNYANGTRANS"));
	this.dsSingle.getColumn(0, "AM_PAYMENT", amPayment);
}
 
 
this.divData_btnConf_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo) {
	var msg = "";
	
	if (this.dsSingle.getColumn(0, "YN_PAYMENT") == "Y") {
		msg = "퇴거 및 자동으로 해약전표를 발행합니다.\n계속 진행하시겠습니까?";
	}
	else {
		msg = "퇴거처리 하시겠습니까?";
	}
	
	this.gfnConfirm(msg, "btnConf_callback");
};

this.btnConf_callback = function(strID, val) {
	if (!val) return;

	this.fnSave();
}

this.divData_btnExit_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo) {
	this.getParentContext().close(false);
};

this.divData_btnSightLease_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo) {
	this.fnSelectSightLease();
};

this.fnSelectSightLease = function() {
	this.dsSelectLease.clearData();
	this.dsSelectLease.addRow();
	this.dsSelectLease.setColumn(0, "CD_ACNTUNIT", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(0, 6));
	this.dsSelectLease.setColumn(0, "TY_GUBUN", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(6, 1));
	this.dsSelectLease.setColumn(0, "NO_CHASU", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(7, 2));
	this.dsSelectLease.setColumn(0, "NO_DONG", this.dsSearch.getColumn(0, "NO_DONG"));
	this.dsSelectLease.setColumn(0, "NO_FLOOR", this.dsSearch.getColumn(0, "NO_FLOOR"));
	this.dsSelectLease.setColumn(0, "NO_HO", this.dsSearch.getColumn(0, "NO_HO"));
	this.dsSelectLease.setColumn(0, "DT_QUIT", this.dsSingle.getColumn(0, "DT_KIJUN"));
	this.dsSelectLease.setColumn(0, "ID_INSERT", this.AuthClient.ID_USER);

	var strSvcId    = "selectLease";
	var strSvcType  = "grid";
	var inProc		= "_dsProc";
	var inData      = "selectLease=dsSelectLease";
	var outData     = "dsList=selectLease0";
	var strArg      = "";
	var callBackFnc = "fnCallback";
	
	this.gfnTransaction( strSvcId , 	// transaction을 구분하기 위한 svc id값
						strSvcType , 	// trabsaction을 요청할 구분
						inProc,			// Procedure 정보 Dataset 이름
						inData , 		// 입력값으로 보낼 dataset id , a=b형태로 실제이름과 입력이름을 매칭
						outData , 		// 처리결과값으로 받을 dataset id, a=b형태로 실제이름과 입력이름을 매칭
						strArg, 			// 입력갑스로 보낼 arguments, strFormData="20120607"
						callBackFnc); // 통신방법 정의 [생략가능]	
}
]]></Script>
    <Objects>
      <Dataset id="dsList"/>
      <Dataset id="_dsProc">
        <ColumnInfo>
          <Column id="TARGET" type="STRING" size="256"/>
          <Column id="SP" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="TARGET">select</Col>
            <Col id="SP">DLCPR_QUITAPPLYINFO_SELECT</Col>
          </Row>
          <Row>
            <Col id="TARGET">selectLease</Col>
            <Col id="SP">DLCPR_QUIT_SELECT</Col>
          </Row>
          <Row>
            <Col id="TARGET">update</Col>
            <Col id="SP">DLCPR_QUIT_LEASE_HANDLE</Col>
          </Row>
          <Row>
            <Col id="TARGET">insert</Col>
            <Col id="SP">DLCPR_QUIT_HANDLE</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsSearch">
        <ColumnInfo>
          <Column id="CD_ACNTUNIT" type="STRING" size="256"/>
          <Column id="NO_DONG" type="STRING" size="256"/>
          <Column id="NO_FLOOR" type="STRING" size="256"/>
          <Column id="NO_HO" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="dsYN_PAYMENT">
        <ColumnInfo>
          <Column id="CD_CODE" type="STRING" size="256"/>
          <Column id="DS_CODE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CD_CODE">Y</Col>
            <Col id="DS_CODE">정산/전표발행</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">N</Col>
            <Col id="DS_CODE">정산/전표미발행</Col>
          </Row>
          <Row>
            <Col id="DS_CODE">대체퇴거(분양전환세대 및 후입주자 승계)</Col>
            <Col id="CD_CODE">X</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsSingle" onvaluechanged="dsSingle_onvaluechanged">
        <ColumnInfo>
          <Column id="DS_DONGHO" type="STRING" size="256"/>
          <Column id="DS_CONTRACTOR" type="STRING" size="256"/>
          <Column id="DT_LEASE_FR" type="STRING" size="256"/>
          <Column id="DT_LEASE_TO" type="STRING" size="256"/>
          <Column id="DT_APPQUIT" type="STRING" size="256"/>
          <Column id="RM_APPQUIT" type="STRING" size="256"/>
          <Column id="AM_BUNYANGPLAN" type="BIGDECIMAL" size="256"/>
          <Column id="AM_BUNYANGGET" type="BIGDECIMAL" size="256"/>
          <Column id="AM_KASU" type="BIGDECIMAL" size="256"/>
          <Column id="AM_MLEASE" type="BIGDECIMAL" size="256"/>
          <Column id="AM_ASSU" type="BIGDECIMAL" size="256"/>
          <Column id="AM_SHASI" type="BIGDECIMAL" size="256"/>
          <Column id="DT_KIJUN" type="STRING" size="256"/>
          <Column id="DT_QUIT" type="STRING" size="256"/>
          <Column id="AM_FORFEIT" type="BIGDECIMAL" size="256"/>
          <Column id="AM_MISULEASE" type="BIGDECIMAL" size="256"/>
          <Column id="AM_MISUASSU" type="BIGDECIMAL" size="256"/>
          <Column id="AM_MISUMG" type="BIGDECIMAL" size="256"/>
          <Column id="AM_REPAIR" type="BIGDECIMAL" size="256"/>
          <Column id="AM_ETC" type="BIGDECIMAL" size="256"/>
          <Column id="ID_QUIT" type="STRING" size="256"/>
          <Column id="AM_INTEREST" type="BIGDECIMAL" size="256"/>
          <Column id="AM_FEE" type="BIGDECIMAL" size="256"/>
          <Column id="AM_JANGISON" type="BIGDECIMAL" size="256"/>
          <Column id="DS_REMARK" type="STRING" size="256"/>
          <Column id="YN_PAYMENT" type="STRING" size="256"/>
          <Column id="DT_PAYMENT" type="STRING" size="256"/>
          <Column id="DT_PAYMENT2" type="STRING" size="256"/>
          <Column id="AM_PAYMENT" type="BIGDECIMAL" size="256"/>
          <Column id="AM_PAYMENT2" type="BIGDECIMAL" size="256"/>
          <Column id="DS_REPAYBANK" type="STRING" size="256"/>
          <Column id="NO_REPAYGUJA" type="STRING" size="256"/>
          <Column id="DS_REPAYOWNER" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="dsResult"/>
    </Objects>
    <Bind>
      <BindItem id="item0" compid="divData.form.staDS_DONGHO" propid="text" datasetid="dsSingle" columnid="DS_DONGHO"/>
      <BindItem id="item1" compid="divData.form.txtDS_CONTRACTOR" propid="value" datasetid="dsSingle" columnid="DS_CONTRACTOR"/>
      <BindItem id="item2" compid="divData.form.txtDT_LEASE_FR" propid="value" datasetid="dsSingle" columnid="DT_LEASE_FR"/>
      <BindItem id="item3" compid="divData.form.txtDT_LEASE_TO" propid="value" datasetid="dsSingle" columnid="DT_LEASE_TO"/>
      <BindItem id="item4" compid="divData.form.txtDT_APPQUIT" propid="value" datasetid="dsSingle" columnid="DT_APPQUIT"/>
      <BindItem id="item5" compid="divData.form.txtRM_APPQUIT" propid="value" datasetid="dsSingle" columnid="RM_APPQUIT"/>
      <BindItem id="item6" compid="divData.form.txtAM_BUNYANGPLAN" propid="value" datasetid="dsSingle" columnid="AM_BUNYANGPLAN"/>
      <BindItem id="item7" compid="divData.form.txtAM_BUNYANGGET" propid="value" datasetid="dsSingle" columnid="AM_BUNYANGGET"/>
      <BindItem id="item8" compid="divData.form.txtAM_KASU" propid="value" datasetid="dsSingle" columnid="AM_KASU"/>
      <BindItem id="item9" compid="divData.form.txtAM_MLEASE" propid="value" datasetid="dsSingle" columnid="AM_MLEASE"/>
      <BindItem id="item10" compid="divData.form.txtAM_ASSU" propid="value" datasetid="dsSingle" columnid="AM_ASSU"/>
      <BindItem id="item11" compid="divData.form.txtAM_SHASI" propid="value" datasetid="dsSingle" columnid="AM_SHASI"/>
      <BindItem id="item12" compid="divData.form.tclDT_KIJUN" propid="value" datasetid="dsSingle" columnid="DT_KIJUN"/>
      <BindItem id="item13" compid="divData.form.tclDT_QUIT" propid="value" datasetid="dsSingle" columnid="DT_QUIT"/>
      <BindItem id="item14" compid="divData.form.txtAM_FORFEIT" propid="value" datasetid="dsSingle" columnid="AM_FORFEIT"/>
      <BindItem id="item15" compid="divData.form.txtAM_MISULEASE" propid="value" datasetid="dsSingle" columnid="AM_MISULEASE"/>
      <BindItem id="item16" compid="divData.form.txtAM_MISUASSU" propid="value" datasetid="dsSingle" columnid="AM_MISUASSU"/>
      <BindItem id="item17" compid="divData.form.txtAM_MISUMG" propid="value" datasetid="dsSingle" columnid="AM_MISUMG"/>
      <BindItem id="item18" compid="divData.form.txtAM_REPAIR" propid="value" datasetid="dsSingle" columnid="AM_REPAIR"/>
      <BindItem id="item19" compid="divData.form.txtAM_ETC" propid="value" datasetid="dsSingle" columnid="AM_ETC"/>
      <BindItem id="item20" compid="divData.form.txtID_QUIT" propid="value" datasetid="dsSingle" columnid="ID_QUIT"/>
      <BindItem id="item21" compid="divData.form.txtAM_INTEREST" propid="value" datasetid="dsSingle" columnid="AM_INTEREST"/>
      <BindItem id="item22" compid="divData.form.txtAM_FEE" propid="value" datasetid="dsSingle" columnid="AM_FEE"/>
      <BindItem id="item23" compid="divData.form.txtAM_JANGISON" propid="value" datasetid="dsSingle" columnid="AM_JANGISON"/>
      <BindItem id="item24" compid="divData.form.txtDS_REMARK" propid="value" datasetid="dsSingle" columnid="DS_REMARK"/>
      <BindItem id="item25" compid="divData.form.rdoYN_PAYMENT" propid="value" datasetid="dsSingle" columnid="YN_PAYMENT"/>
      <BindItem id="item26" compid="divData.form.tclDT_PAYMENT" propid="value" datasetid="dsSingle" columnid="DT_PAYMENT"/>
      <BindItem id="item27" compid="divData.form.tclDT_PAYMENT2" propid="value" datasetid="dsSingle" columnid="DT_PAYMENT2"/>
      <BindItem id="item28" compid="divData.form.txtAM_PAYMENT" propid="value" datasetid="dsSingle" columnid="AM_PAYMENT"/>
      <BindItem id="item29" compid="divData.form.txtAM_PAYMENT2" propid="value" datasetid="dsSingle" columnid="AM_PAYMENT2"/>
      <BindItem id="item30" compid="divData.form.txtDS_REPAYBANK" propid="value" datasetid="dsSingle" columnid="DS_REPAYBANK"/>
      <BindItem id="item31" compid="divData.form.txtNO_REPAYGUJA" propid="value" datasetid="dsSingle" columnid="NO_REPAYGUJA"/>
      <BindItem id="item32" compid="divData.form.txtDS_REPAYOWNER" propid="value" datasetid="dsSingle" columnid="DS_REPAYOWNER"/>
    </Bind>
  </Form>
</FDL>
