<?xml version="1.0" encoding="utf-8"?>
<FDL version="2.0">
  <Form id="form" width="1280" height="1032" titletext="당직일지" onload="form_onload">
    <Layouts>
      <Layout>
        <Div id="divSearch" taborder="0" left="0" top="0" height="46.0" right="0" cssclass="div_SEARCH_Bg" text="">
          <Layouts>
            <Layout>
              <Static id="staCD_CORP" taborder="0" text="법인" left="0.0" top="10.0" width="92.0" height="24.0" cssclass="sta_WF_SchLabelE"/>
              <Div id="ccfCD_CORP" CodeFindName="DAX_CFCORP_CODEFIND" CDTextWidth="30" taborder="1" left="staCD_CORP:0.0" top="10.0" width="250" height="24.0" url="cmm::cmmCodeFind.xfdl" text=""/>
              <Static id="orderPeriod" taborder="5" text="당직일자" left="ccfCD_CORP:0.0" top="10.0" width="92.0" height="24.0" cssclass="sta_WF_SchLabel"/>
              <Calendar id="ctclFR_DAYDUTY" taborder="4" left="orderPeriod:0.0" top="10.0" width="97" height="24.0" dateformat="yyyy-MM-dd" editformat="yyyyMMdd" autoselect="true"/>
              <Static id="staCD_TILDE" taborder="2" text="~" left="ctclFR_DAYDUTY:0.0" top="10.0" width="30.0" height="24.0" cssclass="sta_WF_AC"/>
              <Calendar id="ctclTO_DAYDUTY" taborder="3" left="staCD_TILDE:0.0" top="10.0" width="94" height="24.0" dateformat="yyyy-MM-dd" editformat="yyyyMMdd" autoselect="true"/>
              <Div id="ccfID_SABUN" CodeFindName="DAX_CFBASEINFO_ALL" CDTextWidth="80" taborder="7" left="ctclTO_DAYDUTY:0.0" top="10.0" width="250" height="24.0" url="cmm::cmmCodeFind.xfdl" text=""/>
              <Edit id="edtID_PERSON" taborder="6" left="ccfID_SABUN:0.0" top="10.0" width="60" height="24.0" visible="false" readonly="true"/>
              <Static id="staID_SABUN" taborder="8" text="성명" left="ctclTO_DAYDUTY:0.0" top="10.0" width="92.0" height="24.0" cssclass="sta_WF_SchLabel"/>
            </Layout>
          </Layouts>
        </Div>
        <Div id="divData" taborder="0" left="0" top="divSearch:10" bottom="0" right="0" cssclass="div_DATA_Bg" ondragmove="divData_ondragmove">
          <Layouts>
            <Layout>
              <Div id="divSplitter" taborder="2" left="40.47%" top="0" width="5" height="100.00%" background="skyblue" cursor="ew-resize" ondrag="divData_divSplitter_ondrag"/>
              <Div id="divDataLeft" taborder="0" left="0" top="0" bottom="0" right="divSplitter:5">
                <Layouts>
                  <Layout>
                    <Grid id="objGrid" taborder="0" left="0" top="0" bottom="0" right="0"/>
                  </Layout>
                </Layouts>
              </Div>
              <Div id="divDataRight" taborder="1" left="divSplitter:5" top="0" bottom="0" right="0">
                <Layouts>
                  <Layout>
                    <Static id="sta30" taborder="0" text="당직일자" left="0" top="0" width="120" height="30" cssclass="sta_WF_tablelabel" textDecoration="none"/>
                    <Static id="sta00" taborder="1" left="119" top="29" height="30" cssclass="sta_WF_tablebg" right="0"/>
                    <Static id="sta35" taborder="2" left="119" top="0" height="30" cssclass="sta_WF_tablebg" width="255"/>
                    <Static id="sta02" taborder="3" text="당직시간" left="0" top="29" width="120" height="30" cssclass="sta_WF_tablelabel" textDecoration="none"/>
                    <Static id="sta01" taborder="4" left="119" top="58" height="30" cssclass="sta_WF_tablebg" right="0"/>
                    <Static id="sta03" taborder="5" text="당직자" left="0" top="58" width="120" height="30" cssclass="sta_WF_tablelabel" textDecoration="none"/>
                    <Calendar id="ctclDT_WORK" taborder="6" left="124" top="5" width="105" height="20" dateformat="yyyy-MM-dd" editformat="yyyyMMdd" autoselect="true" enable="true" readonly="true"/>
                    <Static id="staTO_EDUCATION00" taborder="9" text="~" left="234" top="34" width="10" height="20"/>
                    <Combo id="cboHH_DAYDUTY_TO" taborder="10" left="249" top="34" width="50" height="20" datacolumn="DS_CODE" codecolumn="CD_CODE" value="" text="" index="0" innerdataset="dsHH"/>
                    <Combo id="cboMM_DAYDUTY_TO" taborder="11" left="304" top="34" width="50" height="20" datacolumn="DS_CODE" codecolumn="CD_CODE" value="" text="" index="0" innerdataset="dsMM"/>
                    <Combo id="cboMM_DAYDUTY_FROM" taborder="12" left="179" top="34" width="50" height="20" datacolumn="DS_CODE" codecolumn="CD_CODE" value="" text="" index="0" innerdataset="dsMM"/>
                    <Combo id="cboHH_DAYDUTY_FROM" taborder="13" left="124" top="34" width="50" height="20" datacolumn="DS_CODE" codecolumn="CD_CODE" value="" text="" index="0" innerdataset="dsHH"/>
                    <Static id="sta31" taborder="14" left="492" top="0" height="30" cssclass="sta_WF_tablebg" right="0"/>
                    <Static id="sta32" taborder="15" text="결재상태 " left="373" top="0" width="120" height="30" cssclass="sta_WF_tablelabel" textDecoration="none"/>
                    <Edit id="txtDS_APPROVAL" taborder="16" left="497" top="5" height="20" onkeyup="divData_divDataRight_onkeyup" onkillfocus="divData_divDataRight_onkillfocus" enable="true" right="5" readonly="true"/>
                    <Edit id="txtDS_HNAME" taborder="17" left="124" top="63" height="20" onkeyup="divData_divDataRight_onkeyup" onkillfocus="divData_divDataRight_onkillfocus" enable="true" right="5" readonly="true"/>
                    <Static id="staTITLE" taborder="18" text="지시 또는 전달사항" left="0" top="100" width="44.55%" height="22" cssclass="sta_TITLE_Bg" textAlign="left"/>
                    <Static id="sta26" taborder="7" left="0" top="125" height="71" cssclass="sta_WF_tablebg" right="0"/>
                    <TextArea id="txtDS_DIRECTION" taborder="8" left="5" top="130" height="61" right="5"/>
                    <Static id="sta04" taborder="19" left="0" top="235" height="71" cssclass="sta_WF_tablebg" right="0"/>
                    <TextArea id="txtDS_ACTION" taborder="20" left="5" top="240" height="61" right="5"/>
                    <Static id="staTITLE00" taborder="21" text="조치사항" left="0" top="210" width="44.55%" height="22" cssclass="sta_TITLE_Bg" textAlign="left"/>
                    <Static id="sta05" taborder="22" text="점검요소" left="0" top="348" width="120" height="67" cssclass="sta_WF_tablelabel" textDecoration="none" textAlign="center"/>
                    <Static id="staTITLE01" taborder="23" text="안전점검" left="0" top="320" width="44.55%" height="22" cssclass="sta_TITLE_Bg" textAlign="left"/>
                    <Static id="sta06" taborder="24" text="점검결과&#13;&#10;( 이상 無 O / 이상 有 X 표시 )" left="119" top="348" width="513" height="38" cssclass="sta_WF_tablelabel" textDecoration="none" textAlign="center"/>
                    <Static id="sta07" taborder="25" text="특이사항" left="631" top="348" height="67" cssclass="sta_WF_tablelabel" textDecoration="none" right="0" textAlign="center"/>
                    <Static id="sta08" taborder="26" text="소등상태" left="0" top="414" width="120" height="30" cssclass="sta_WF_tablelabel" textDecoration="none" textAlign="center"/>
                    <Static id="sta10" taborder="27" text="8시" left="119" top="385" width="128" height="30" cssclass="sta_WF_tablelabel" textDecoration="none" textAlign="center"/>
                    <Static id="sta11" taborder="28" text="12시" left="246" top="385" width="128" height="30" cssclass="sta_WF_tablelabel" textDecoration="none" textAlign="center"/>
                    <Static id="sta12" taborder="29" text="15시" left="373" top="385" width="128" height="30" cssclass="sta_WF_tablelabel" textDecoration="none" textAlign="center"/>
                    <Static id="sta13" taborder="30" text="17시" left="500" top="385" width="132" height="30" cssclass="sta_WF_tablelabel" textDecoration="none" textAlign="center"/>
                    <Static id="sta14" taborder="31" left="119" top="414" height="30" cssclass="sta_WF_tablebg" width="128"/>
                    <Static id="sta15" taborder="32" left="246" top="414" height="30" cssclass="sta_WF_tablebg" width="128"/>
                    <Static id="sta16" taborder="33" left="373" top="414" height="30" cssclass="sta_WF_tablebg" width="128"/>
                    <Static id="sta17" taborder="34" left="500" top="414" height="30" cssclass="sta_WF_tablebg" width="132"/>
                    <Static id="sta18" taborder="35" left="631" top="414" height="30" cssclass="sta_WF_tablebg" right="0"/>
                    <Combo id="cboDS_LIGHTS_08" taborder="36" left="124" top="419" width="118" height="20" datacolumn="DS_CODE" codecolumn="CD_CODE" value="" text="" index="0" innerdataset="dsOX"/>
                    <Combo id="cboDS_LIGHTS_12" taborder="37" left="251" top="419" width="118" height="20" datacolumn="DS_CODE" codecolumn="CD_CODE" value="" text="" index="0" innerdataset="dsOX"/>
                    <Combo id="cboDS_LIGHTS_15" taborder="38" left="378" top="419" width="118" height="20" datacolumn="DS_CODE" codecolumn="CD_CODE" value="" text="" index="0" innerdataset="dsOX"/>
                    <Combo id="cboDS_LIGHTS_17" taborder="39" left="505" top="419" width="122" height="20" datacolumn="DS_CODE" codecolumn="CD_CODE" value="" text="" index="0" innerdataset="dsOX"/>
                    <Edit id="txtDS_LIGHTS_ETC" taborder="40" left="635" top="419" height="20" onkeyup="divData_divDataRight_onkeyup" onkillfocus="divData_divDataRight_onkillfocus" enable="true" right="5"/>
                    <Static id="sta09" taborder="41" left="500" top="443" height="30" cssclass="sta_WF_tablebg" width="132"/>
                    <Static id="sta19" taborder="42" left="373" top="443" height="30" cssclass="sta_WF_tablebg" width="128"/>
                    <Static id="sta20" taborder="43" left="246" top="443" height="30" cssclass="sta_WF_tablebg" width="128"/>
                    <Static id="sta21" taborder="44" left="119" top="443" height="30" cssclass="sta_WF_tablebg" width="128"/>
                    <Static id="sta22" taborder="45" text="소방상태" left="0" top="443" width="120" height="30" cssclass="sta_WF_tablelabel" textDecoration="none" textAlign="center"/>
                    <Combo id="cboDS_FIRE_08" taborder="46" left="124" top="448" width="118" height="20" datacolumn="DS_CODE" codecolumn="CD_CODE" value="" text="" index="0" innerdataset="dsOX"/>
                    <Combo id="cboDS_FIRE_12" taborder="47" left="251" top="448" width="118" height="20" datacolumn="DS_CODE" codecolumn="CD_CODE" value="" text="" index="0" innerdataset="dsOX"/>
                    <Combo id="cboDS_FIRE_15" taborder="48" left="378" top="448" width="118" height="20" datacolumn="DS_CODE" codecolumn="CD_CODE" value="" text="" index="0" innerdataset="dsOX"/>
                    <Combo id="cboDS_FIRE_17" taborder="49" left="505" top="448" width="122" height="20" datacolumn="DS_CODE" codecolumn="CD_CODE" value="" text="" index="0" innerdataset="dsOX"/>
                    <Static id="sta23" taborder="50" left="631" top="443" height="30" cssclass="sta_WF_tablebg" right="0"/>
                    <Edit id="txtDS_FIRE_ETC" taborder="51" left="635" top="448" height="20" onkeyup="divData_divDataRight_onkeyup" onkillfocus="divData_divDataRight_onkillfocus" enable="true" right="5"/>
                    <Static id="sta24" taborder="52" left="500" top="472" height="30" cssclass="sta_WF_tablebg" width="132"/>
                    <Static id="sta25" taborder="53" left="373" top="472" height="30" cssclass="sta_WF_tablebg" width="128"/>
                    <Static id="sta27" taborder="54" left="246" top="472" height="30" cssclass="sta_WF_tablebg" width="128"/>
                    <Static id="sta28" taborder="55" left="119" top="472" height="30" cssclass="sta_WF_tablebg" width="128"/>
                    <Static id="sta29" taborder="56" text="단속상태" left="0" top="472" width="120" height="30" cssclass="sta_WF_tablelabel" textDecoration="none" textAlign="center"/>
                    <Combo id="cboDS_CURB_08" taborder="57" left="124" top="477" width="118" height="20" datacolumn="DS_CODE" codecolumn="CD_CODE" value="" text="" index="0" innerdataset="dsOX"/>
                    <Combo id="cboDS_CURB_12" taborder="58" left="251" top="477" width="118" height="20" datacolumn="DS_CODE" codecolumn="CD_CODE" value="" text="" index="0" innerdataset="dsOX"/>
                    <Combo id="cboDS_CURB_15" taborder="59" left="378" top="477" width="118" height="20" datacolumn="DS_CODE" codecolumn="CD_CODE" value="" text="" index="0" innerdataset="dsOX"/>
                    <Combo id="cboDS_CURB_17" taborder="60" left="505" top="477" width="122" height="20" datacolumn="DS_CODE" codecolumn="CD_CODE" value="" text="" index="0" innerdataset="dsOX"/>
                    <Static id="sta33" taborder="61" left="631" top="472" height="30" cssclass="sta_WF_tablebg" right="0"/>
                    <Edit id="txtDS_CURB_ETC" taborder="62" left="635" top="477" height="20" onkeyup="divData_divDataRight_onkeyup" onkillfocus="divData_divDataRight_onkillfocus" enable="true" right="5"/>
                    <Static id="staTITLE02" taborder="63" text="사옥출입자현황" left="0" top="510" width="44.55%" height="22" cssclass="sta_TITLE_Bg" textAlign="left"/>
                    <Button id="btnDel" taborder="65" text="삭제" top="512" height="20" right="5" width="60" onclick="divData_divDataRight_btnDel_onclick"/>
                    <Button id="btnAdd" taborder="64" text="추가" top="512" height="20" width="60" right="btnDel:6" onclick="divData_divDataRight_btnAdd_onclick"/>
                    <Grid id="objGridSub" taborder="66" left="0" top="538" right="0" height="150"/>
                    <Static id="sta34" taborder="67" left="0" top="721" height="71" cssclass="sta_WF_tablebg" right="0"/>
                    <TextArea id="txtDS_ACCEPT" taborder="68" left="5" top="726" height="61" right="5"/>
                    <Static id="staTITLE03" taborder="69" text="접수" left="0" top="696" width="44.55%" height="22" cssclass="sta_TITLE_Bg" textAlign="left"/>
                    <Static id="sta36" taborder="70" left="0" top="821" height="71" cssclass="sta_WF_tablebg" right="0"/>
                    <TextArea id="txtDS_VISIT" taborder="71" left="5" top="826" height="61" right="5"/>
                    <Static id="staTITLE04" taborder="72" text="내방" left="0" top="796" width="44.55%" height="22" cssclass="sta_TITLE_Bg" textAlign="left"/>
                    <Static id="sta37" taborder="73" left="0" top="921" height="71" cssclass="sta_WF_tablebg" right="0"/>
                    <TextArea id="txtDS_REMARK" taborder="74" left="5" top="926" height="61" right="5"/>
                    <Static id="staTITLE05" taborder="75" text="비고" left="0" top="896" width="44.55%" height="22" cssclass="sta_TITLE_Bg" textAlign="left"/>
                  </Layout>
                </Layouts>
              </Div>
            </Layout>
          </Layouts>
        </Div>
      </Layout>
    </Layouts>
    <Script type="xscript5.1"><![CDATA[this.objApp = this.gfnGetApplication();
this.FlagGb = "";	// 저장 플래그값

this.form_onload = function(obj:nexacro.Form,e:nexacro.LoadEventInfo)
{
	// -- 필수 -------------------//
	this.gfnFormOnLoad(this);	
	this.gfnFormInfo(this);		
	// ---------------------------//
	
	this.fnSetButton();
	this.fnSetExtendButton();
	this.fnSetVariable();
	this.fnSetEvent();
	this.fnSetParameter();
	
	var toDay = this.gfnGetDate().substr(0,8);
	this.dsSearch.setColumn(0, "FR_DAYDUTY", this.gfnGetFirstDate(toDay));
	this.dsSearch.setColumn(0, "TO_DAYDUTY", this.gfnGetLastDate(toDay));	
	
	this.dsSearch.setColumn(0, "CD_CORP", this.AuthClient.CD_CORP);	
	this.divSearch.form.ccfCD_CORP.form.DSTextBox.set_value(this.AuthClient.DS_CORP);
	this.dsSearch.setColumn(0, "ID_SABUN", this.AuthClient.ID_USER);	
	this.divSearch.form.ccfID_SABUN.form.DSTextBox.set_value(this.AuthClient.DS_HNAME);
	this.divSearch.form.edtID_PERSON.set_value(this.AuthClient.ID_PERSON);
	
	this.divData.form.divDataRight.form.btnAdd.set_enable(false);	// 추가버튼
	this.divData.form.divDataRight.form.btnDel.set_enable(false);	// 삭제버튼
	
	if(this.FormInfo.GR_SEARCH == "1"){
		this.ccfCD_CORP.set_enable(true);
		this.ccfID_SABUN.set_enable(true);
	}else{
		this.ccfCD_CORP.set_enable(false);
		this.ccfID_SABUN.set_enable(false);
	}
};

/************************************************************************
 * 버튼 설정 : 화면(Tab) 전환시 마다 호출
 ************************************************************************/
this.fnSetButton = function() {
	// 서브 버튼 사용(2개 그리드 중간에 있는 파란선) 상단에 공통 셋트가 하나더 생긴다
	//this.gfnUseSubBtn(true, this.divData, this.divData.form.divSplitter); // divSplitter sync
}

/************************************************************************
 * 확장 버튼 : 화면별 버튼 설정 ID, function 연결
 ************************************************************************/
this.fnSetExtendButton = function() {
	this.btnElctrncPmnt = this.gfnFormButtonAdd("btnElctrncPmnt", "fnElctrncPmnt", "전자결재");
	//this.btnElctrncPmntDoc = this.gfnFormButtonAdd("btnElctrncPmntDoc", "fnElctrncPmntDoc", "전자결재문서조회");	
};

/************************************************************************
 * 변수 선언
 ************************************************************************/
this.fnSetVariable = function() {	
	this.ccfCD_CORP = this.divSearch.form.ccfCD_CORP;
	this.ccfID_SABUN = this.divSearch.form.ccfID_SABUN;
	this.ctclFR_DAYDUTY = this.divSearch.form.ctclFR_DAYDUTY;
	this.ctclTO_DAYDUTY = this.divSearch.form.ctclTO_DAYDUTY;
	this.edtID_PERSON = this.divSearch.form.edtID_PERSON;
	
	/*
	this.ccfCD_CORP_DT = this.divData.form.divDataRight.form.ccfCD_CORP;
	this.ctclDT_BASE_DT = this.divData.form.divDataRight.form.ctclDT_BASE;
	this.rdoTY_DEPT_DT = this.divData.form.divDataRight.form.rdoTY_DEPT;
	this.ccfCD_DEPT = this.divData.form.divDataRight.form.ccfCD_DEPT;
	
	this.cboHH_SWORK = this.divData.form.divDataRight.form.cboHH_SWORK;
	this.cboMM_SWORK = this.divData.form.divDataRight.form.cboMM_SWORK;
	this.cboHH_EWORK = this.divData.form.divDataRight.form.cboHH_EWORK;	
	this.cboMM_EWORK = this.divData.form.divDataRight.form.cboMM_EWORK;
	this.cboHH_SOBLIGATE = this.divData.form.divDataRight.form.cboHH_SOBLIGATE;
	this.cboMM_SOBLIGATE = this.divData.form.divDataRight.form.cboMM_SOBLIGATE;
	this.cboHH_EOBLIGATE = this.divData.form.divDataRight.form.cboHH_EOBLIGATE;
	this.cboMM_EOBLIGATE = this.divData.form.divDataRight.form.cboMM_EOBLIGATE;
	this.cboHH_BREAKWORK = this.divData.form.divDataRight.form.cboHH_BREAKWORK;
	this.cboMM_BREAKWORK = this.divData.form.divDataRight.form.cboMM_BREAKWORK;
	this.txtTM_WORK_DAY = this.divData.form.divDataRight.form.txtTM_WORK_DAY;
	this.rdoYN_OVER_MIN = this.divData.form.divDataRight.form.rdoYN_OVER_MIN;
	this.cboHH_OVER_MIN = this.divData.form.divDataRight.form.cboHH_OVER_MIN;
	this.cboMM_OVER_MIN = this.divData.form.divDataRight.form.cboMM_OVER_MIN;
	this.rdoYN_OVER_MAX = this.divData.form.divDataRight.form.rdoYN_OVER_MAX;
	this.cboHH_OVER_MAX = this.divData.form.divDataRight.form.cboHH_OVER_MAX;
	this.cboMM_OVER_MAX = this.divData.form.divDataRight.form.cboMM_OVER_MAX;
	this.rdoYN_SATURDAY = this.divData.form.divDataRight.form.rdoYN_SATURDAY;
	this.cboHH_SATSTART = this.divData.form.divDataRight.form.cboHH_SATSTART;
	this.cboMM_SATSTART = this.divData.form.divDataRight.form.cboMM_SATSTART;
	this.cboHH_SATEND = this.divData.form.divDataRight.form.cboHH_SATEND;
	this.cboMM_SATEND = this.divData.form.divDataRight.form.cboMM_SATEND;
	this.cboHH_SATBREAK = this.divData.form.divDataRight.form.cboHH_SATBREAK;
	this.cboMM_SATBREAK = this.divData.form.divDataRight.form.cboMM_SATBREAK;
	this.txtTM_SATWORK = this.divData.form.divDataRight.form.txtTM_SATWORK;	
	this.rdoYN_DELETE = this.divData.form.divDataRight.form.rdoYN_DELETE;
	this.txtDS_REMARK = this.divData.form.divDataRight.form.txtDS_REMARK;
	*/
	
	this.dxGrid = this.divData.form.divDataLeft.form.objGrid;
	this.dxGridSub = this.divData.form.divDataRight.form.objGridSub;
};

/************************************************************************
 * 이벤트 설정
 ************************************************************************/
this.fnSetEvent = function() {	
	this.gfnGridInit(this.dxGrid, this.dsList, "DA", "DAB_DAYDUTY");
	this.gfnGridInit(this.dxGridSub, this.dsListSub, "DA", "DAB_DAYDUTY_DTL");	
	
	this.ccfCD_CORP.BeforeUserDataSetParam = "fnBeforeUserDataSetParam";	

	this.ccfID_SABUN.BeforeUserDataSetParam = "fnBeforeUserDataSetParam";
	this.ccfID_SABUN.AfterCDTextChanged = "fnAfterCDTextChanged"; 
	
	
	this.dxGrid.set_selecttype("cell");	
	this.dxGrid.addEventHandler("onselectchanged", this.fnGrid_RowCellChanged, this);
	//this.dsList.addEventHandler("canrowposchange", this.dsList_canrowposchange, this);
	
	
	this.dxGridSub.EnterCell = "fnGrid_EnterCell";
}

/************************************************************************
 * 파라미터 설정
 ************************************************************************/
this.fnSetParameter = function() {

	this.dsSelect = new Dataset();
	this.dsSelect.addColumn("CD_CORP", "string");
	this.dsSelect.addColumn("FR_DAYDUTY", "string");
	this.dsSelect.addColumn("TO_DAYDUTY", "string");
	this.dsSelect.addColumn("ID_PERSON", "int");
	this.dsSelect.addColumn("ID_SABUN", "string");
	this.dsSelect.addColumn("ID_USER", "string");
	this.dsSelect.addColumn("GR_SEARCH", "string");
	this.dsSelect.addColumn("GR_CORP", "string");
	
	
	this.dsSave = new Dataset();
	this.dsSave.addColumn("DT_DAYDUTY", "string");
	this.dsSave.addColumn("ID_PERSON", "int");
	this.dsSave.addColumn("HH_DAYDUTY_FROM", "string");
	this.dsSave.addColumn("MM_DAYDUTY_FROM", "string");
	this.dsSave.addColumn("HH_DAYDUTY_TO", "string");
	this.dsSave.addColumn("MM_DAYDUTY_TO", "string");
	this.dsSave.addColumn("ID_SABUN", "string");
	this.dsSave.addColumn("DS_DIRECTION", "string");
	this.dsSave.addColumn("DS_ACTION", "string");
	this.dsSave.addColumn("DS_LIGHTS_08", "string");
	this.dsSave.addColumn("DS_LIGHTS_12", "string");
	this.dsSave.addColumn("DS_LIGHTS_15", "string");
	this.dsSave.addColumn("DS_LIGHTS_17", "string");
	this.dsSave.addColumn("DS_LIGHTS_ETC", "string");
	this.dsSave.addColumn("DS_FIRE_08", "string");
	this.dsSave.addColumn("DS_FIRE_12", "string");
	this.dsSave.addColumn("DS_FIRE_15", "string");
	this.dsSave.addColumn("DS_FIRE_17", "string");
	this.dsSave.addColumn("DS_FIRE_ETC", "string");
	this.dsSave.addColumn("DS_CURB_08", "string");
	this.dsSave.addColumn("DS_CURB_12", "string");
	this.dsSave.addColumn("DS_CURB_15", "string");
	this.dsSave.addColumn("DS_CURB_17", "string");
	this.dsSave.addColumn("DS_CURB_ETC", "string");
	this.dsSave.addColumn("DS_ACCEPT", "string");
	this.dsSave.addColumn("DS_VISIT", "string");
	this.dsSave.addColumn("DS_REMARK", "string");
	this.dsSave.addColumn("TY_SAVE_DTL", "string");
	this.dsSave.addColumn("NO_SEQ", "int");
	this.dsSave.addColumn("HH_VISIT_FROM", "string");
	this.dsSave.addColumn("MM_VISIT_FROM", "string");
	this.dsSave.addColumn("HH_VISIT_TO", "string");
	this.dsSave.addColumn("MM_VISIT_TO", "string");
	this.dsSave.addColumn("DS_ORG", "string");
	this.dsSave.addColumn("DS_POSITION", "string");
	this.dsSave.addColumn("DS_HNAME", "string");
	this.dsSave.addColumn("DS_REMARK_DTL", "string");
	this.dsSave.addColumn("ID_USER", "string");
	this.dsSave.addColumn("GR_SEARCH", "string");
	this.dsSave.addColumn("GR_CORP", "string");
	
	this.dsSelectSub = new Dataset();
	this.dsSelectSub.addColumn("DT_DAYDUTY", "string");
	this.dsSelectSub.addColumn("ID_PERSON", "int");
	this.dsSelectSub.addColumn("ID_USER", "string");
	this.dsSelectSub.addColumn("GR_SEARCH", "string");
	this.dsSelectSub.addColumn("GR_CORP", "string");
	
}

/************************************************************************
 * 버튼 이벤트
 ************************************************************************/
 /*
  *	조회 버튼
  */
this.fnSelect = function() {
	if (!this.fnSelectValidate()) return false;
	
	this.gfnGridBeforeSelect(this.dxGrid);
	
	this.dsSelect.clearData();
	this.dsSelect.addRow();
	
	this.dsSelect.setColumn(0, "CD_CORP", this.dsSearch.getColumn(0, "CD_CORP"));
	this.dsSelect.setColumn(0, "FR_DAYDUTY", this.dsSearch.getColumn(0, "FR_DAYDUTY"));
	this.dsSelect.setColumn(0, "TO_DAYDUTY", this.dsSearch.getColumn(0, "TO_DAYDUTY"));
	this.dsSelect.setColumn(0, "ID_PERSON", this.dsSearch.getColumn(0, "ID_PERSON"));
	this.dsSelect.setColumn(0, "ID_SABUN", this.dsSearch.getColumn(0, "ID_SABUN"));
	this.dsSelect.setColumn(0, "ID_USER", this.AuthClient.ID_USER);
	this.dsSelect.setColumn(0, "GR_SEARCH", this.FormInfo.GR_SEARCH);
	this.dsSelect.setColumn(0, "GR_CORP", this.AuthClient.CD_CORP);
	
	var strSvcId    = "select";
	var strSvcType  = "grid";
	var inProc		= "_dsProc";
	var inData      = "select=dsSelect";
	var outData     = "dsList=select0";
	var strArg      = "";
	var callBackFnc = "fnCallback";
	
	this.gfnTransaction( strSvcId , 	// transaction을 구분하기 위한 svc id값
						strSvcType , 	// transaction을 요청할 구분
						inProc,			// Procedure 정보 Dataset 이름
						inData , 		// 입력값으로 보낼 dataset id , a=b형태로 실제이름과 입력이름을 매칭
						outData , 		// 처리결과값으로 받을 dataset id, a=b형태로 실제이름과 입력이름을 매칭
						strArg, 			// 입력갑스로 보낼 arguments, strFormData="20120607"
						callBackFnc); // 통신방법 정의 [생략가능]
}

this.fnSelectSub = function() {
	if (this.dxGrid.rowcount == 0 || this.dxGrid.currentrow < 0) return false;
	
	this.dsListSub.clearData();
	
	this.gfnGridBeforeSelect(this.dxGridSub);
	
	this.dsSelectSub.clearData();
	this.dsSelectSub.addRow();	
		
	this.dsSelectSub.setColumn(0, "DT_DAYDUTY", this.dsList.getColumn(this.dsList.rowposition, "DT_WORK"));
	this.dsSelectSub.setColumn(0, "ID_PERSON", this.dsList.getColumn(this.dsList.rowposition, "ID_PERSON"));
	this.dsSelectSub.setColumn(0, "ID_USER", this.AuthClient.ID_USER);
	this.dsSelectSub.setColumn(0, "GR_SEARCH", this.FormInfo.GR_SEARCH);
	this.dsSelectSub.setColumn(0, "GR_CORP", this.AuthClient.CD_CORP);
	

	var strSvcId    = "detail";
	var strSvcType  = "grid";
	var inProc		= "_dsProc";
	var inData      = "d_select=dsSelectSub";
	var outData     = "dsListSub=d_select0";
	var strArg      = "";
	var callBackFnc = "fnCallback";
	
	this.gfnTransaction( strSvcId , 	// transaction을 구분하기 위한 svc id값
						strSvcType , 	// transaction을 요청할 구분
						inProc,			// Procedure 정보 Dataset 이름
						inData , 		// 입력값으로 보낼 dataset id , a=b형태로 실제이름과 입력이름을 매칭
						outData , 		// 처리결과값으로 받을 dataset id, a=b형태로 실제이름과 입력이름을 매칭
						strArg, 			// 입력갑스로 보낼 arguments, strFormData="20120607"
						callBackFnc); // 통신방법 정의 [생략가능]
}

/*
 *	입력 버튼
 */
this.fnAdd = function() {
	var nrow = this.gfnGridAdd(this.dxGrid, "bottom"); // top (default), bottom, current
	
	
}

/*
 *	삭제 버튼
 */ 
this.fnDel = function() {
	this.gfnGridDel(this.dxGrid);
}

/*
 *	저장 버튼
 */
this.fnSave = function() {
	// 그리드 필수항목 체크
	if (!this.gfnGridValidate(this.dxGrid)) return;	

	this.dxGrid.updateToDataset();
	
	// save SP 한개로 사용하는 경우
	this.dsSave.clearData();
	
	var listRow = this.dsList.rowposition;
	
	// 사옥출입자현황 그리드에 변경된 값이있으면 변경된 갯수만큼 저장값을 담아준다
	if(this.dsListSub.rowcount > 0){		
		
		// 사옥출입자현황 그리드에 데이터가 있을때 추가,수정,삭제된 값이 있을때 값 셋팅
		for (var i = 0; i < this.dsListSub.rowcount; i++) {
			var flag = this.gfnGetFlag(this.dsListSub, i);
			switch(flag) {
				case "I":
				case "U":
				case "D":
					var nrow = this.dsSave.addRow();
					this.dsSave.setColumn(nrow, "DT_DAYDUTY", this.dsList.getColumn(listRow, "DT_WORK"));
					this.dsSave.setColumn(nrow, "ID_PERSON", this.dsList.getColumn(listRow, "ID_PERSON"));
					this.dsSave.setColumn(nrow, "HH_DAYDUTY_FROM", this.dsList.getColumn(listRow, "HH_DAYDUTY_FROM"));
					this.dsSave.setColumn(nrow, "MM_DAYDUTY_FROM", this.dsList.getColumn(listRow, "MM_DAYDUTY_FROM"));
					this.dsSave.setColumn(nrow, "HH_DAYDUTY_TO", this.dsList.getColumn(listRow, "HH_DAYDUTY_TO"));
					this.dsSave.setColumn(nrow, "MM_DAYDUTY_TO", this.dsList.getColumn(listRow, "MM_DAYDUTY_TO"));
					this.dsSave.setColumn(nrow, "ID_SABUN", this.dsList.getColumn(listRow, "ID_SABUN"));
					this.dsSave.setColumn(nrow, "DS_DIRECTION", this.dsList.getColumn(listRow, "DS_DIRECTION"));
					this.dsSave.setColumn(nrow, "DS_ACTION", this.dsList.getColumn(listRow, "DS_ACTION"));
					this.dsSave.setColumn(nrow, "DS_LIGHTS_08", this.dsList.getColumn(listRow, "DS_LIGHTS_08"));
					this.dsSave.setColumn(nrow, "DS_LIGHTS_12", this.dsList.getColumn(listRow, "DS_LIGHTS_12"));
					this.dsSave.setColumn(nrow, "DS_LIGHTS_15", this.dsList.getColumn(listRow, "DS_LIGHTS_15"));
					this.dsSave.setColumn(nrow, "DS_LIGHTS_17", this.dsList.getColumn(listRow, "DS_LIGHTS_17"));
					this.dsSave.setColumn(nrow, "DS_LIGHTS_ETC", this.dsList.getColumn(listRow, "DS_LIGHTS_ETC"));
					this.dsSave.setColumn(nrow, "DS_FIRE_08", this.dsList.getColumn(listRow, "DS_FIRE_08"));
					this.dsSave.setColumn(nrow, "DS_FIRE_12", this.dsList.getColumn(listRow, "DS_FIRE_12"));
					this.dsSave.setColumn(nrow, "DS_FIRE_15", this.dsList.getColumn(listRow, "DS_FIRE_15"));
					this.dsSave.setColumn(nrow, "DS_FIRE_17", this.dsList.getColumn(listRow, "DS_FIRE_17"));
					this.dsSave.setColumn(nrow, "DS_FIRE_ETC", this.dsList.getColumn(listRow, "DS_FIRE_ETC"));
					this.dsSave.setColumn(nrow, "DS_CURB_08", this.dsList.getColumn(listRow, "DS_CURB_08"));
					this.dsSave.setColumn(nrow, "DS_CURB_12", this.dsList.getColumn(listRow, "DS_CURB_12"));
					this.dsSave.setColumn(nrow, "DS_CURB_15", this.dsList.getColumn(listRow, "DS_CURB_15"));
					this.dsSave.setColumn(nrow, "DS_CURB_17", this.dsList.getColumn(listRow, "DS_CURB_17"));
					this.dsSave.setColumn(nrow, "DS_CURB_ETC", this.dsList.getColumn(listRow, "DS_CURB_ETC"));
					this.dsSave.setColumn(nrow, "DS_ACCEPT", this.dsList.getColumn(listRow, "DS_ACCEPT"));
					this.dsSave.setColumn(nrow, "DS_VISIT", this.dsList.getColumn(listRow, "DS_VISIT"));
					this.dsSave.setColumn(nrow, "DS_REMARK", this.dsList.getColumn(listRow, "DS_REMARK"));
					this.dsSave.setColumn(nrow, "ID_USER", this.AuthClient.ID_USER);
					this.dsSave.setColumn(nrow, "GR_SEARCH", this.FormInfo.GR_SEARCH);
					this.dsSave.setColumn(nrow, "GR_CORP", this.AuthClient.CD_CORP);
					
					this.dsSave.setColumn(nrow, "TY_SAVE_DTL", flag);
					this.dsSave.setColumn(nrow, "NO_SEQ", this.dsListSub.getColumn(i, "NO_SEQ"));
					this.dsSave.setColumn(nrow, "HH_VISIT_FROM", this.dsListSub.getColumn(i, "HH_VISIT_FROM"));
					this.dsSave.setColumn(nrow, "MM_VISIT_FROM", this.dsListSub.getColumn(i, "MM_VISIT_FROM"));
					this.dsSave.setColumn(nrow, "HH_VISIT_TO", this.dsListSub.getColumn(i, "HH_VISIT_TO"));
					this.dsSave.setColumn(nrow, "MM_VISIT_TO", this.dsListSub.getColumn(i, "MM_VISIT_TO"));
					this.dsSave.setColumn(nrow, "DS_ORG", this.dsListSub.getColumn(i, "DS_ORG"));
					this.dsSave.setColumn(nrow, "DS_POSITION", this.dsListSub.getColumn(i, "DS_POSITION"));
					this.dsSave.setColumn(nrow, "DS_HNAME", this.dsListSub.getColumn(i, "DS_HNAME"));
					this.dsSave.setColumn(nrow, "DS_REMARK_DTL", this.dsListSub.getColumn(i, "DS_REMARK"));
					break;
			}
		}
		
		// 사옥출입자현황 그리드에 변경된 데이터가 없고 싱글폼에 변경된 데이터가 있을때 값 셋팅
		if (this.dsSave.rowcount == 0){
			if(this.FlagGb == "U"){
				var nrow = this.dsSave.addRow();
				this.dsSave.setColumn(nrow, "DT_DAYDUTY", this.dsList.getColumn(listRow, "DT_WORK"));
				this.dsSave.setColumn(nrow, "ID_PERSON", this.dsList.getColumn(listRow, "ID_PERSON"));
				this.dsSave.setColumn(nrow, "HH_DAYDUTY_FROM", this.dsList.getColumn(listRow, "HH_DAYDUTY_FROM"));
				this.dsSave.setColumn(nrow, "MM_DAYDUTY_FROM", this.dsList.getColumn(listRow, "MM_DAYDUTY_FROM"));
				this.dsSave.setColumn(nrow, "HH_DAYDUTY_TO", this.dsList.getColumn(listRow, "HH_DAYDUTY_TO"));
				this.dsSave.setColumn(nrow, "MM_DAYDUTY_TO", this.dsList.getColumn(listRow, "MM_DAYDUTY_TO"));
				this.dsSave.setColumn(nrow, "ID_SABUN", this.dsList.getColumn(listRow, "ID_SABUN"));
				this.dsSave.setColumn(nrow, "DS_DIRECTION", this.dsList.getColumn(listRow, "DS_DIRECTION"));
				this.dsSave.setColumn(nrow, "DS_ACTION", this.dsList.getColumn(listRow, "DS_ACTION"));
				this.dsSave.setColumn(nrow, "DS_LIGHTS_08", this.dsList.getColumn(listRow, "DS_LIGHTS_08"));
				this.dsSave.setColumn(nrow, "DS_LIGHTS_12", this.dsList.getColumn(listRow, "DS_LIGHTS_12"));
				this.dsSave.setColumn(nrow, "DS_LIGHTS_15", this.dsList.getColumn(listRow, "DS_LIGHTS_15"));
				this.dsSave.setColumn(nrow, "DS_LIGHTS_17", this.dsList.getColumn(listRow, "DS_LIGHTS_17"));
				this.dsSave.setColumn(nrow, "DS_LIGHTS_ETC", this.dsList.getColumn(listRow, "DS_LIGHTS_ETC"));
				this.dsSave.setColumn(nrow, "DS_FIRE_08", this.dsList.getColumn(listRow, "DS_FIRE_08"));
				this.dsSave.setColumn(nrow, "DS_FIRE_12", this.dsList.getColumn(listRow, "DS_FIRE_12"));
				this.dsSave.setColumn(nrow, "DS_FIRE_15", this.dsList.getColumn(listRow, "DS_FIRE_15"));
				this.dsSave.setColumn(nrow, "DS_FIRE_17", this.dsList.getColumn(listRow, "DS_FIRE_17"));
				this.dsSave.setColumn(nrow, "DS_FIRE_ETC", this.dsList.getColumn(listRow, "DS_FIRE_ETC"));
				this.dsSave.setColumn(nrow, "DS_CURB_08", this.dsList.getColumn(listRow, "DS_CURB_08"));
				this.dsSave.setColumn(nrow, "DS_CURB_12", this.dsList.getColumn(listRow, "DS_CURB_12"));
				this.dsSave.setColumn(nrow, "DS_CURB_15", this.dsList.getColumn(listRow, "DS_CURB_15"));
				this.dsSave.setColumn(nrow, "DS_CURB_17", this.dsList.getColumn(listRow, "DS_CURB_17"));
				this.dsSave.setColumn(nrow, "DS_CURB_ETC", this.dsList.getColumn(listRow, "DS_CURB_ETC"));
				this.dsSave.setColumn(nrow, "DS_ACCEPT", this.dsList.getColumn(listRow, "DS_ACCEPT"));
				this.dsSave.setColumn(nrow, "DS_VISIT", this.dsList.getColumn(listRow, "DS_VISIT"));
				this.dsSave.setColumn(nrow, "DS_REMARK", this.dsList.getColumn(listRow, "DS_REMARK"));
				this.dsSave.setColumn(nrow, "ID_USER", this.AuthClient.ID_USER);
				this.dsSave.setColumn(nrow, "GR_SEARCH", this.FormInfo.GR_SEARCH);
				this.dsSave.setColumn(nrow, "GR_CORP", this.AuthClient.CD_CORP);
			}
		}
		
	}else{	// 싱글폼에 변경된 값이 있을때 저장
		if(this.FlagGb == "U"){
			var nrow = this.dsSave.addRow();
			this.dsSave.setColumn(nrow, "DT_DAYDUTY", this.dsList.getColumn(listRow, "DT_WORK"));
			this.dsSave.setColumn(nrow, "ID_PERSON", this.dsList.getColumn(listRow, "ID_PERSON"));
			this.dsSave.setColumn(nrow, "HH_DAYDUTY_FROM", this.dsList.getColumn(listRow, "HH_DAYDUTY_FROM"));
			this.dsSave.setColumn(nrow, "MM_DAYDUTY_FROM", this.dsList.getColumn(listRow, "MM_DAYDUTY_FROM"));
			this.dsSave.setColumn(nrow, "HH_DAYDUTY_TO", this.dsList.getColumn(listRow, "HH_DAYDUTY_TO"));
			this.dsSave.setColumn(nrow, "MM_DAYDUTY_TO", this.dsList.getColumn(listRow, "MM_DAYDUTY_TO"));
			this.dsSave.setColumn(nrow, "ID_SABUN", this.dsList.getColumn(listRow, "ID_SABUN"));
			this.dsSave.setColumn(nrow, "DS_DIRECTION", this.dsList.getColumn(listRow, "DS_DIRECTION"));
			this.dsSave.setColumn(nrow, "DS_ACTION", this.dsList.getColumn(listRow, "DS_ACTION"));
			this.dsSave.setColumn(nrow, "DS_LIGHTS_08", this.dsList.getColumn(listRow, "DS_LIGHTS_08"));
			this.dsSave.setColumn(nrow, "DS_LIGHTS_12", this.dsList.getColumn(listRow, "DS_LIGHTS_12"));
			this.dsSave.setColumn(nrow, "DS_LIGHTS_15", this.dsList.getColumn(listRow, "DS_LIGHTS_15"));
			this.dsSave.setColumn(nrow, "DS_LIGHTS_17", this.dsList.getColumn(listRow, "DS_LIGHTS_17"));
			this.dsSave.setColumn(nrow, "DS_LIGHTS_ETC", this.dsList.getColumn(listRow, "DS_LIGHTS_ETC"));
			this.dsSave.setColumn(nrow, "DS_FIRE_08", this.dsList.getColumn(listRow, "DS_FIRE_08"));
			this.dsSave.setColumn(nrow, "DS_FIRE_12", this.dsList.getColumn(listRow, "DS_FIRE_12"));
			this.dsSave.setColumn(nrow, "DS_FIRE_15", this.dsList.getColumn(listRow, "DS_FIRE_15"));
			this.dsSave.setColumn(nrow, "DS_FIRE_17", this.dsList.getColumn(listRow, "DS_FIRE_17"));
			this.dsSave.setColumn(nrow, "DS_FIRE_ETC", this.dsList.getColumn(listRow, "DS_FIRE_ETC"));
			this.dsSave.setColumn(nrow, "DS_CURB_08", this.dsList.getColumn(listRow, "DS_CURB_08"));
			this.dsSave.setColumn(nrow, "DS_CURB_12", this.dsList.getColumn(listRow, "DS_CURB_12"));
			this.dsSave.setColumn(nrow, "DS_CURB_15", this.dsList.getColumn(listRow, "DS_CURB_15"));
			this.dsSave.setColumn(nrow, "DS_CURB_17", this.dsList.getColumn(listRow, "DS_CURB_17"));
			this.dsSave.setColumn(nrow, "DS_CURB_ETC", this.dsList.getColumn(listRow, "DS_CURB_ETC"));
			this.dsSave.setColumn(nrow, "DS_ACCEPT", this.dsList.getColumn(listRow, "DS_ACCEPT"));
			this.dsSave.setColumn(nrow, "DS_VISIT", this.dsList.getColumn(listRow, "DS_VISIT"));
			this.dsSave.setColumn(nrow, "DS_REMARK", this.dsList.getColumn(listRow, "DS_REMARK"));
			this.dsSave.setColumn(nrow, "ID_USER", this.AuthClient.ID_USER);
			this.dsSave.setColumn(nrow, "GR_SEARCH", this.FormInfo.GR_SEARCH);
			this.dsSave.setColumn(nrow, "GR_CORP", this.AuthClient.CD_CORP);
		}
	}	
	
	if (this.dsSave.rowcount == 0) return;
	
	var strSvcId    = "save";
	var strSvcType  = "save";
	var inProc		= "_dsProc";
	var inData      = "save=dsSave";
	var outData     = "";
	var strArg      = "";
	var callBackFnc = "fnCallback";
	
	this.gfnTransaction( strSvcId , 	// transaction을 구분하기 위한 svc id값
						strSvcType , 	// transaction을 요청할 구분
						inProc,			// Procedure 정보 Dataset 이름
						inData , 		// 입력값으로 보낼 dataset id , a=b형태로 실제이름과 입력이름을 매칭
						outData , 		// 처리결과값으로 받을 dataset id, a=b형태로 실제이름과 입력이름을 매칭
						strArg, 			// 입력갑스로 보낼 arguments, strFormData="20120607"
						callBackFnc); // 통신방법 정의 [생략가능]
}


/*
 *	엑셀 버튼
 */ 
this.fnExcel = function() {
	this.gfnExcelExport(this.dxGrid);
}

/*
 *	출력 버튼
 */
this.fnPrint = function() {
}
 
/************************************************************************
 * 서브 버튼 이벤트
 ************************************************************************/

/************************************************************************
 * Validate
 ************************************************************************/
/*
 *	조회 Validate
 */
this.fnSelectValidate = function() {
	var validate = true;
	
	if (this.gfnIsNull(this.dsSearch.getColumn(0,"CD_CORP"))) {
		validate = false;
		// Alert후 실행할 처리
		this.fnVaidateCallback = function() {
			this.ccfCD_CORP.form.CDTextBox.setFocus();
		}
		this.gfnAlert("법인을 입력하세요.", "fnVaidateCallback");
	}
	
	return validate;
};
/************************************************************************
 * 콜백 이벤트
 ************************************************************************/
/*
 *	콜백 처리
 */
this.fnCallback = function(svcID, errorCode, errorMsg)
{
	if (svcID == "select") {
		this.gfnGridAfterSelect(this.dxGrid);	
		
		this.fnEnableSet();
	}
	else if(svcID == "save") {
		if (errorCode == 0) {
			this.FlagGb = "";

			this.FormBtns.Select.click();
		} else {
			this.gfnAlert(errorMsg);
		}
	}	
	else if (svcID == "detail") {
		this.gfnGridAfterSelect(this.dxGridSub);	
		
		
	}
}

/************************************************************************
 * 코드파인드 이벤트
 ************************************************************************/
this.fnBeforeUserDataSetParam = function(id, dsUserParam, nrow) {
	
	if(id == "ccfCD_CORP") { 
		dsUserParam.setColumn(nrow, "CD_CORP", this.AuthClient.CD_CORP);
		dsUserParam.setColumn(nrow, "GR_SEARCH", this.FormInfo.GR_SEARCH);
		dsUserParam.setColumn(nrow, "ID_USER", this.AuthClient.ID_USER);
	}
	
	if(id == "ccfID_SABUN") { 
		if(this.gfnIsNull(this.dsSearch.getColumn(0, "CD_CORP"))){
			this.gfnAlert("법인을 먼저 선택하세요.");
			return false;
		}
		
		dsUserParam.setColumn(nrow, "CD_DEPT", this.AuthClient.CD_DEPT);
		dsUserParam.setColumn(nrow, "CD_CORP", this.dsSearch.getColumn(0, "CD_CORP"));
		dsUserParam.setColumn(nrow, "GR_SEARCH", this.FormInfo.GR_SEARCH);
		dsUserParam.setColumn(nrow, "YN_CORP", "N");
		dsUserParam.setColumn(nrow, "TY_RETIRE", "%");
	}
	
	return true;
};


this.fnAfterCDTextChanged = function(id, codeFindData) {
	var arr = codeFindData; 
	
	if(id == "ccfCD_CORP"){
		this.ccfID_SABUN.form.CDTextBox.set_value("");
		this.ccfID_SABUN.form.DSTextBox.set_value("");
		this.edtID_PERSON.set_value("");
	}else if(id == "ccfID_SABUN") {
		if(arr.length > 0) {
			this.edtID_PERSON.set_value(arr[0]["ID_PERSON"]);
		}else{
			this.edtID_PERSON.set_value("");
		}
	}
};


/************************************************************************
 * 그리드 이벤트
 ************************************************************************/
this.fnGrid_RowCellChanged = function(obj:nexacro.Grid,e:nexacro.GridSelectEventInfo)
{
    if ((obj.oldrow > -1 && obj.oldrow == e.row)
		|| (obj.oldrow == -1 && e.oldrow != e.row)) {
		
		this.fnEnableSet();
		this.FormBtns.SubSelect.click();
		obj.oldrow = -1;
	}
};



this.dsList_canrowposchange = function(obj:nexacro.NormalDataset,e:nexacro.DSRowPosChangeEventInfo) {
	var can_rowchange = true;
	for (var i = 0; i < this.dsListSub.rowcount; i++) {
		var flag = this.gfnGetFlag(this.dsListSub, i);
		if (flag == "I" || flag == "U" || flag == "D") {
			can_rowchange = false;
			break;
		}
	}
	if(!can_rowchange) {
		this._row = e.newrow;
		this.gfnConfirm("변경된 데이터가 있습니다.\r\n계속 진행하시겠습니까?", "dsList_canrowposchange_callback");
	}
	return can_rowchange;
}

this.dsList_canrowposchange_callback = function(strId, val) 
{
	if(val == true) {
		this.dsList.set_enableevent(false);
		this.dsList.set_rowposition(this._row);
		this.dsList.set_enableevent(true);
	}	
}


 this.fnGrid_EnterCell = function(obj:nexacro.Grid, row, cell) {
	// 수정가능 true, false 처리하려는 컬럼에 대해서만 return 처리할것. 
	var colnm = this.gfnGridGetBindColumnNameByIndex(this.dxGrid, cell);	// 클릭한 cell의 컬럼명

	// 클릭했을때 클릭한 cell을 수정 가능 or 불가능 상태로 만든다.
	// YN_EDIT 값이 Y일때만 수정가능상태
	var flag = this.gfnGetFlag(this.dsList, this.dsList.rowposition);
	var cdApproval = this.dsList.getColumn(this.dsList.rowposition, "CD_APPROVAL");
	if(cdApproval == "00" || cdApproval == "01" || cdApproval == "02" || flag == "#"){		
		return false;
	}
		
}
/************************************************************************
 * 기타 이벤트
 ************************************************************************/
this.fnSearchInit = function(obj,e) {
	if(e == null || (e.pretext != e.posttext)) {
		this.gfnSetFormStatus(this);
		this.gfnGridClear(this.dxGrid);
		this.gfnGridClear(this.dxGridSub);
	}
}

this.divData_ondragmove = function(obj:nexacro.Div,e:nexacro.DragEventInfo)
{
   if(e.userdata == "splitter") {
      this.divData.form.divSplitter.set_left(e.clientx);
      this.divData.form.resetScroll();
   }
};

this.divData_divSplitter_ondrag = function(obj:nexacro.Div,e:nexacro.DragEventInfo)
{
   e.set_userdata("splitter");
   return true;
};
this.dsSearch_onvaluechanged = function(obj:nexacro.NormalDataset,e:nexacro.DSColChangeEventInfo)
{
	if(e.oldvalue != e.newvalue){
	this.gfnGridClear(this.dxGrid);
	this.gfnGridClear(this.dxGridSub);
	}
};



this.dsList_onvaluechanged = function(obj:nexacro.NormalDataset,e:nexacro.DSColChangeEventInfo)
{
	if(e.oldvalue != e.newvalue)
	{
		this.FlagGb = "U";		
	}
};



// 싱글폼 활성화 or 비활성화 처리
this.fnEnableSet = function() {

trace("fnEnableSet====>");

	if(this.dsList.rowcount < 1){
		this.divData.form.divDataRight.form.btnAdd.set_enable(false);
		this.divData.form.divDataRight.form.btnDel.set_enable(false);
		return;
	}
	
	this.divData.form.divDataRight.form.btnAdd.set_enable(true);
	this.divData.form.divDataRight.form.btnDel.set_enable(true);
	
	var flag = this.gfnGetFlag(this.dsList, this.dsList.rowposition);
	var cdApproval = this.dsList.getColumn(this.dsList.rowposition, "CD_APPROVAL");
	
	var sYN_EDIT = this.dsList.getColumn(this.dsList.rowposition, "YN_EDIT");
	//if(cdApproval == "00" || cdApproval == "01" || cdApproval == "02" || flag == "#"){
	if(sYN_EDIT == "N"){
		this.divData.form.divDataRight.form.cboHH_DAYDUTY_FROM.set_readonly(true);
		this.divData.form.divDataRight.form.cboMM_DAYDUTY_FROM.set_readonly(true);
		this.divData.form.divDataRight.form.cboHH_DAYDUTY_TO.set_readonly(true);
		this.divData.form.divDataRight.form.cboMM_DAYDUTY_TO.set_readonly(true);
		
		this.divData.form.divDataRight.form.txtDS_DIRECTION.set_readonly(true);
		this.divData.form.divDataRight.form.txtDS_ACTION.set_readonly(true);
		
		this.divData.form.divDataRight.form.cboDS_LIGHTS_08.set_readonly(true);
		this.divData.form.divDataRight.form.cboDS_FIRE_08.set_readonly(true);
		this.divData.form.divDataRight.form.cboDS_CURB_08.set_readonly(true);
		this.divData.form.divDataRight.form.cboDS_LIGHTS_12.set_readonly(true);
		this.divData.form.divDataRight.form.cboDS_FIRE_12.set_readonly(true);
		this.divData.form.divDataRight.form.cboDS_CURB_12.set_readonly(true);
		this.divData.form.divDataRight.form.cboDS_LIGHTS_15.set_readonly(true);
		this.divData.form.divDataRight.form.cboDS_FIRE_15.set_readonly(true);
		this.divData.form.divDataRight.form.cboDS_CURB_15.set_readonly(true);
		this.divData.form.divDataRight.form.cboDS_LIGHTS_17.set_readonly(true);
		this.divData.form.divDataRight.form.cboDS_FIRE_17.set_readonly(true);
		this.divData.form.divDataRight.form.cboDS_CURB_17.set_readonly(true);
		this.divData.form.divDataRight.form.txtDS_LIGHTS_ETC.set_readonly(true);
		this.divData.form.divDataRight.form.txtDS_FIRE_ETC.set_readonly(true);
		this.divData.form.divDataRight.form.txtDS_CURB_ETC.set_readonly(true);
		
		this.divData.form.divDataRight.form.btnAdd.set_enable(false);
		this.divData.form.divDataRight.form.btnDel.set_enable(false);
		//this.dxGridSub.set_readonly(true);
		
		this.divData.form.divDataRight.form.txtDS_ACCEPT.set_readonly(true);
		this.divData.form.divDataRight.form.txtDS_VISIT.set_readonly(true);
		this.divData.form.divDataRight.form.txtDS_REMARK.set_readonly(true);
	}else{
		this.divData.form.divDataRight.form.cboHH_DAYDUTY_FROM.set_readonly(false);
		this.divData.form.divDataRight.form.cboMM_DAYDUTY_FROM.set_readonly(false);
		this.divData.form.divDataRight.form.cboHH_DAYDUTY_TO.set_readonly(false);
		this.divData.form.divDataRight.form.cboMM_DAYDUTY_TO.set_readonly(false);
		
		this.divData.form.divDataRight.form.txtDS_DIRECTION.set_readonly(false);
		this.divData.form.divDataRight.form.txtDS_ACTION.set_readonly(false);
		
		this.divData.form.divDataRight.form.cboDS_LIGHTS_08.set_readonly(false);
		this.divData.form.divDataRight.form.cboDS_FIRE_08.set_readonly(false);
		this.divData.form.divDataRight.form.cboDS_CURB_08.set_readonly(false);
		this.divData.form.divDataRight.form.cboDS_LIGHTS_12.set_readonly(false);
		this.divData.form.divDataRight.form.cboDS_FIRE_12.set_readonly(false);
		this.divData.form.divDataRight.form.cboDS_CURB_12.set_readonly(false);
		this.divData.form.divDataRight.form.cboDS_LIGHTS_15.set_readonly(false);
		this.divData.form.divDataRight.form.cboDS_FIRE_15.set_readonly(false);
		this.divData.form.divDataRight.form.cboDS_CURB_15.set_readonly(false);
		this.divData.form.divDataRight.form.cboDS_LIGHTS_17.set_readonly(false);
		this.divData.form.divDataRight.form.cboDS_FIRE_17.set_readonly(false);
		this.divData.form.divDataRight.form.cboDS_CURB_17.set_readonly(false);
		this.divData.form.divDataRight.form.txtDS_LIGHTS_ETC.set_readonly(false);
		this.divData.form.divDataRight.form.txtDS_FIRE_ETC.set_readonly(false);
		this.divData.form.divDataRight.form.txtDS_CURB_ETC.set_readonly(false);
		
		this.divData.form.divDataRight.form.btnAdd.set_enable(true);
		this.divData.form.divDataRight.form.btnDel.set_enable(true);
		//this.dxGridSub.set_readonly(false);
		
		this.divData.form.divDataRight.form.txtDS_ACCEPT.set_readonly(false);
		this.divData.form.divDataRight.form.txtDS_VISIT.set_readonly(false);
		this.divData.form.divDataRight.form.txtDS_REMARK.set_readonly(false);
	}	
}

// 추가 버튼 클릭
this.divData_divDataRight_btnAdd_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	var nrow = this.gfnGridAdd(this.dxGridSub, "bottom"); // top (default), bottom, current
};

// 삭제 버튼 클릭
this.divData_divDataRight_btnDel_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.gfnGridDel(this.dxGridSub);
};

// 전자결재
this.fnElctrncPmnt = function(obj:nexacro.Button,e:nexacro.ClickEventInfo) {
	if(!this.gfnGridIsRow(this.dxGrid)) return;	
	
	var nICnt = this.dsList.findRow(this.ucFlag,"I");
	var nUCnt = this.dsList.findRow(this.ucFlag,"U");
	var nDCnt = this.dsList.findRow(this.ucFlag,"D");	
	
	if( nICnt > -1|| nUCnt > -1 || nDCnt > -1) { 
		this.gfnAlert("저장 후 처리하세요.", "");
		return; 
	}		

	var param = {};
	param.V1 = this.dsList.getColumn(this.dsList.rowposition, "DT_WORK");		// DT_WORK
	param.V2 = this.dsList.getColumn(this.dsList.rowposition, "ID_PERSON");			// ID_PERSON
	param.V3 = this.dsList.getColumn(this.dsList.rowposition, "CD_CORP");			// CD_CORP
	param.V4 = this.dsList.getColumn(this.dsList.rowposition, "ID_SABUN");			// ID_SABUN
	param.ID_AP = this.dsList.getColumn(this.dsList.rowposition, "NO_APPROVAL");	// 전자결재문서번호
	param.DS_ETITLE = "당직일지";

	this.gfnFormOpen("DAB", "DAB_DAYDUTY_APP", "fnAprvDialogCallback", param, 1200, 700);

// 	//var url = "http://ngw.booyoung.co.kr/approval/legacy/goFormLink.do?mode=DRAFT&legacyFormID=WF_FORM_ERP_LONG_FUND";
// 	var url = this.gfnGetConfig("DZ" , "GW_APROVAL_URL");
// 	url += "approval/legacy/goFormLink.do?mode=DRAFT";
// 	url += "&legacyFormID=WF_FORM_ERP_LONG_FUND";		
// 	url += "&subject="+encodeURI("장기자금계획 상신");
// 	url += "&dataType=proc";
// 	url += "&empno=" + this.AuthClient.ID_USER;
// 	//url += "&empno="+this.AuthClient.ID_USER; 현재 하나의 사번만가능하여 사번 고정
// 	url += "&P_DS_KEY1="+this.dsSearch.getColumn(0, "YM_PLAN");						// 작성년월
// 	url += "&P_DS_KEY2="+this.dsList.getColumn(this.dsList.rowposition, "CD_CORP");	// 법인코드
// 	url += "&P_DS_KEY3="+this.dsList.getColumn(this.dsList.rowposition, "CD_SITE");	// 작성부서
// 	url += "&P_DS_KEY4="+this.dsList.getColumn(this.dsList.rowposition, "YN_FINAL");// 구분
// 	url += "&P_DS_KEY5="
// 
// 	trace("url :: " + url);
// 
// 	window.open(url,"_blank", "width=790,height=1000,menubar=no,scrollbars=no,resizable=no,status=no");
}

 this.fnAprvDialogCallback = function(svcID, value) {
	// 리턴값
	//if(value){
		// 결재완료, 결재취소, 결재상신 후에는 재조회를 한다
		this.FormBtns.Select.click();
	//}
};


// 전자결재문서조회
this.fnElctrncPmntDoc = function(obj:nexacro.Button,e:nexacro.ClickEventInfo) {
	if(!this.gfnGridIsRow(this.dxGrid)) return;	
	
	var nICnt = this.dsList.findRow(this.ucFlag,"I");
	var nUCnt = this.dsList.findRow(this.ucFlag,"U");
	var nDCnt = this.dsList.findRow(this.ucFlag,"D");	
	
	if( nICnt > -1|| nUCnt > -1 || nDCnt > -1) { 
		this.gfnAlert("저장 후 처리하세요.", "");
		return; 
	}	
	var nRow = this.dsList.rowposition;
	if(this.gfnIsNull(this.dsList.getColumn(this.dsList.rowposition , "NO_APPROVAL"))){
		this.gfnAlert("결재번호 정보가 존재하지 않습니다.");
		return;
	}
	
// 	// 결재상태 0 : 결재전 시 return;
// 	var tyAppr = this.dsList.getColumn(this.dsList.rowposition, "TY_APPR");
// 	if ( tyAppr == "0") {
// 		this.gfnAlert("결재상태를 확인 바랍니다.");
// 		return;
// 	}


	var param = {};	
	param.V1 = this.dsList.getColumn(nRow, "DT_WORK");
	param.V2 = this.dsList.getColumn(nRow, "ID_PERSON");    
	param.V3 = this.dsList.getColumn(nRow, "CD_CORP");    
	param.V4 = this.dsList.getColumn(nRow, "ID_SABUN");    
	param.ID_AP = this.dsList.getColumn(nRow, "NO_APPROVAL");	// 전자결재문서번호
	param.YN_LINK = "N";	// 화면에서 팝업을 호출할경우 N, 링크를 통해서 화면을 오픈할경우 null 이다
	//param.NO_SILHENG = "";	
	//param.CD_ELAPPRGS = this.dsList.getColumn(nRow, "ST_APPR");	// 전자결재진행상태		

	// 화면 오픈. 
	// CD_MODULE은 보통 같은 모듈에서 호출하는 경우가 많으니 this.FormInfo.CD_MODULE 사용
	// 타 모듈 화면 호출시 지정할것.
	
	this.gfnFormOpen("DAB", "DAB_DAYDUTY_APP", "fnAprvDialogCallback", param, 1200, 700);

	
// 	var url = this.gfnGetConfig("DZ" , "GW_APROVAL_URL");
// 	url += "approval/approval_Form.do?";
// 	url +="forminstanceID="+this.dsList.getColumn(this.dsList.rowposition , "NO_APPR");
// 	url +="&processID="+this.dsList.getColumn(this.dsList.rowposition , "NM_APPR");
// 	
// 	trace("url :: " + url);
// 	window.open(url,"_blank", "width=790,height=1000,menubar=no,scrollbars=no,resizable=no,status=no");
}
]]></Script>
    <Objects>
      <Dataset id="dsList" onvaluechanged="dsList_onvaluechanged">
        <ColumnInfo>
          <Column id="ID_PERSON" type="INT" size="256"/>
          <Column id="DT_WORK" type="STRING" size="256"/>
          <Column id="CD_CORP" type="STRING" size="256"/>
          <Column id="DS_CORP" type="STRING" size="256"/>
          <Column id="ID_SABUN" type="STRING" size="256"/>
          <Column id="DS_HNAME" type="STRING" size="256"/>
          <Column id="CD_DEPT" type="STRING" size="256"/>
          <Column id="DS_DEPT" type="STRING" size="256"/>
          <Column id="YN_DUTY" type="STRING" size="256"/>
          <Column id="TM_DAYDUTY_FROM" type="STRING" size="256"/>
          <Column id="HH_DAYDUTY_FROM" type="STRING" size="256"/>
          <Column id="MM_DAYDUTY_FROM" type="STRING" size="256"/>
          <Column id="TM_DAYDUTY_TO" type="STRING" size="256"/>
          <Column id="HH_DAYDUTY_TO" type="STRING" size="256"/>
          <Column id="MM_DAYDUTY_TO" type="STRING" size="256"/>
          <Column id="CD_POSITION" type="STRING" size="256"/>
          <Column id="DS_POSITION" type="STRING" size="256"/>
          <Column id="DS_DIRECTION" type="STRING" size="256"/>
          <Column id="DS_ACTION" type="STRING" size="256"/>
          <Column id="DS_LIGHTS_08" type="STRING" size="256"/>
          <Column id="DS_LIGHTS_12" type="STRING" size="256"/>
          <Column id="DS_LIGHTS_15" type="STRING" size="256"/>
          <Column id="DS_LIGHTS_17" type="STRING" size="256"/>
          <Column id="DS_LIGHTS_ETC" type="STRING" size="256"/>
          <Column id="DS_FIRE_08" type="STRING" size="256"/>
          <Column id="DS_FIRE_12" type="STRING" size="256"/>
          <Column id="DS_FIRE_15" type="STRING" size="256"/>
          <Column id="DS_FIRE_17" type="STRING" size="256"/>
          <Column id="DS_FIRE_ETC" type="STRING" size="256"/>
          <Column id="DS_CURB_08" type="STRING" size="256"/>
          <Column id="DS_CURB_12" type="STRING" size="256"/>
          <Column id="DS_CURB_15" type="STRING" size="256"/>
          <Column id="DS_CURB_17" type="STRING" size="256"/>
          <Column id="DS_CURB_ETC" type="STRING" size="256"/>
          <Column id="DS_ACCEPT" type="STRING" size="256"/>
          <Column id="DS_VISIT" type="STRING" size="256"/>
          <Column id="DS_REMARK" type="STRING" size="256"/>
          <Column id="CD_APPROVAL" type="STRING" size="256"/>
          <Column id="DS_APPROVAL" type="STRING" size="256"/>
          <Column id="DT_APPROVAL" type="STRING" size="256"/>
          <Column id="ID_APPROVAL" type="STRING" size="256"/>
          <Column id="NO_APPROVAL" type="STRING" size="256"/>
          <Column id="YN_EDIT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="_dsProc">
        <ColumnInfo>
          <Column id="TARGET" type="STRING" size="256"/>
          <Column id="SP" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="TARGET">select</Col>
            <Col id="SP">DABPR_DAYDUTY_SELECT</Col>
          </Row>
          <Row>
            <Col id="TARGET">save</Col>
            <Col id="SP">DABPR_DAYDUTY_SAVE</Col>
          </Row>
          <Row>
            <Col id="TARGET">d_select</Col>
            <Col id="SP">DABPR_DAYDUTY_DTL_SELECT</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsSearch" onvaluechanged="dsSearch_onvaluechanged">
        <ColumnInfo>
          <Column id="CD_CORP" type="STRING" size="256"/>
          <Column id="FR_DAYDUTY" type="STRING" size="256"/>
          <Column id="TO_DAYDUTY" type="STRING" size="256"/>
          <Column id="ID_SABUN" type="STRING" size="256"/>
          <Column id="ID_PERSON" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CD_CORP"/>
            <Col id="FR_DAYDUTY"/>
            <Col id="TO_DAYDUTY">%</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsHH">
        <ColumnInfo>
          <Column id="CD_CODE" type="STRING" size="256"/>
          <Column id="DS_CODE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CD_CODE">00</Col>
            <Col id="DS_CODE">00</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">01</Col>
            <Col id="DS_CODE">01</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">02</Col>
            <Col id="DS_CODE">02</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">03</Col>
            <Col id="DS_CODE">03</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">04</Col>
            <Col id="DS_CODE">04</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">05</Col>
            <Col id="DS_CODE">05</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">06</Col>
            <Col id="DS_CODE">06</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">07</Col>
            <Col id="DS_CODE">07</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">08</Col>
            <Col id="DS_CODE">08</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">09</Col>
            <Col id="DS_CODE">09</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">10</Col>
            <Col id="DS_CODE">10</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">11</Col>
            <Col id="DS_CODE">11</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">12</Col>
            <Col id="DS_CODE">12</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">13</Col>
            <Col id="DS_CODE">13</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">14</Col>
            <Col id="DS_CODE">14</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">15</Col>
            <Col id="DS_CODE">15</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">16</Col>
            <Col id="DS_CODE">16</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">17</Col>
            <Col id="DS_CODE">17</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">18</Col>
            <Col id="DS_CODE">18</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">19</Col>
            <Col id="DS_CODE">19</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">20</Col>
            <Col id="DS_CODE">20</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">21</Col>
            <Col id="DS_CODE">21</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">22</Col>
            <Col id="DS_CODE">22</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">23</Col>
            <Col id="DS_CODE">23</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsMM">
        <ColumnInfo>
          <Column id="CD_CODE" type="STRING" size="256"/>
          <Column id="DS_CODE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CD_CODE">00</Col>
            <Col id="DS_CODE">00</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">10</Col>
            <Col id="DS_CODE">10</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">20</Col>
            <Col id="DS_CODE">20</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">30</Col>
            <Col id="DS_CODE">30</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">40</Col>
            <Col id="DS_CODE">40</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">50</Col>
            <Col id="DS_CODE">50</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsListSub" onvaluechanged="dsList_onvaluechanged">
        <ColumnInfo>
          <Column id="DT_DAYDUTY" type="STRING" size="256"/>
          <Column id="ID_PERSON" type="INT" size="256"/>
          <Column id="NO_SEQ" type="INT" size="256"/>
          <Column id="TM_VISIT_FROM" type="STRING" size="256"/>
          <Column id="HH_VISIT_FROM" type="STRING" size="256"/>
          <Column id="MM_VISIT_FROM" type="STRING" size="256"/>
          <Column id="TM_VISIT_TO" type="STRING" size="256"/>
          <Column id="HH_VISIT_TO" type="STRING" size="256"/>
          <Column id="MM_VISIT_TO" type="STRING" size="256"/>
          <Column id="DS_ORG" type="STRING" size="256"/>
          <Column id="DS_POSITION" type="STRING" size="256"/>
          <Column id="DS_HNAME" type="STRING" size="256"/>
          <Column id="DS_REMARK" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="dsOX">
        <ColumnInfo>
          <Column id="CD_CODE" type="STRING" size="256"/>
          <Column id="DS_CODE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CD_CODE">○</Col>
            <Col id="DS_CODE">○</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">X</Col>
            <Col id="DS_CODE">X</Col>
          </Row>
        </Rows>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item0" compid="divSearch.form.ccfCD_CORP.form.CDTextBox" propid="value" datasetid="dsSearch" columnid="CD_CORP"/>
      <BindItem id="item3" compid="divData.form.divDataRight.form.ctclDT_WORK" propid="value" datasetid="dsList" columnid="DT_WORK"/>
      <BindItem id="item20" compid="divData.form.divDataRight.form.txtDS_DIRECTION" propid="value" datasetid="dsList" columnid="DS_DIRECTION"/>
      <BindItem id="item5" compid="divData.form.divDataRight.form.cboHH_DAYDUTY_TO" propid="value" datasetid="dsList" columnid="HH_DAYDUTY_TO"/>
      <BindItem id="item6" compid="divData.form.divDataRight.form.cboMM_DAYDUTY_TO" propid="value" datasetid="dsList" columnid="MM_DAYDUTY_TO"/>
      <BindItem id="item7" compid="divData.form.divDataRight.form.cboMM_DAYDUTY_FROM" propid="value" datasetid="dsList" columnid="MM_DAYDUTY_FROM"/>
      <BindItem id="item8" compid="divData.form.divDataRight.form.cboHH_DAYDUTY_FROM" propid="value" datasetid="dsList" columnid="HH_DAYDUTY_FROM"/>
      <BindItem id="item1" compid="divSearch.form.ctclTO_DAYDUTY" propid="value" datasetid="dsSearch" columnid="TO_DAYDUTY"/>
      <BindItem id="item9" compid="divSearch.form.ctclFR_DAYDUTY" propid="value" datasetid="dsSearch" columnid="FR_DAYDUTY"/>
      <BindItem id="item36" compid="divSearch.form.edtID_PERSON" propid="value" datasetid="dsSearch" columnid="ID_PERSON"/>
      <BindItem id="item37" compid="divSearch.form.ccfID_SABUN.form.CDTextBox" propid="value" datasetid="dsSearch" columnid="ID_SABUN"/>
      <BindItem id="item2" compid="divData.form.divDataRight.form.txtDS_ACTION" propid="value" datasetid="dsList" columnid="DS_ACTION"/>
      <BindItem id="item4" compid="divData.form.divDataRight.form.cboDS_LIGHTS_08" propid="value" datasetid="dsList" columnid="DS_LIGHTS_08"/>
      <BindItem id="item10" compid="divData.form.divDataRight.form.cboDS_LIGHTS_12" propid="value" datasetid="dsList" columnid="DS_LIGHTS_12"/>
      <BindItem id="item11" compid="divData.form.divDataRight.form.cboDS_LIGHTS_15" propid="value" datasetid="dsList" columnid="DS_LIGHTS_15"/>
      <BindItem id="item12" compid="divData.form.divDataRight.form.cboDS_LIGHTS_17" propid="value" datasetid="dsList" columnid="DS_LIGHTS_17"/>
      <BindItem id="item13" compid="divData.form.divDataRight.form.cboDS_FIRE_08" propid="value" datasetid="dsList" columnid="DS_FIRE_08"/>
      <BindItem id="item14" compid="divData.form.divDataRight.form.cboDS_FIRE_12" propid="value" datasetid="dsList" columnid="DS_FIRE_12"/>
      <BindItem id="item15" compid="divData.form.divDataRight.form.cboDS_FIRE_15" propid="value" datasetid="dsList" columnid="DS_FIRE_15"/>
      <BindItem id="item16" compid="divData.form.divDataRight.form.cboDS_FIRE_17" propid="value" datasetid="dsList" columnid="DS_FIRE_17"/>
      <BindItem id="item17" compid="divData.form.divDataRight.form.cboDS_CURB_08" propid="value" datasetid="dsList" columnid="DS_CURB_08"/>
      <BindItem id="item18" compid="divData.form.divDataRight.form.cboDS_CURB_12" propid="value" datasetid="dsList" columnid="DS_CURB_12"/>
      <BindItem id="item19" compid="divData.form.divDataRight.form.cboDS_CURB_15" propid="value" datasetid="dsList" columnid="DS_CURB_15"/>
      <BindItem id="item21" compid="divData.form.divDataRight.form.cboDS_CURB_17" propid="value" datasetid="dsList" columnid="DS_CURB_17"/>
      <BindItem id="item22" compid="divData.form.divDataRight.form.txtDS_ACCEPT" propid="value" datasetid="dsList" columnid="DS_ACCEPT"/>
      <BindItem id="item23" compid="divData.form.divDataRight.form.txtDS_VISIT" propid="value" datasetid="dsList" columnid="DS_VISIT"/>
      <BindItem id="item24" compid="divData.form.divDataRight.form.txtDS_REMARK" propid="value" datasetid="dsList" columnid="DS_REMARK"/>
      <BindItem id="item25" compid="divData.form.divDataRight.form.txtDS_APPROVAL" propid="value" datasetid="dsList" columnid="DS_APPROVAL"/>
      <BindItem id="item26" compid="divData.form.divDataRight.form.txtDS_HNAME" propid="value" datasetid="dsList" columnid="DS_HNAME"/>
      <BindItem id="item27" compid="divData.form.divDataRight.form.txtDS_LIGHTS_ETC" propid="value" datasetid="dsList" columnid="DS_LIGHTS_ETC"/>
      <BindItem id="item28" compid="divData.form.divDataRight.form.txtDS_FIRE_ETC" propid="value" datasetid="dsList" columnid="DS_FIRE_ETC"/>
      <BindItem id="item29" compid="divData.form.divDataRight.form.txtDS_CURB_ETC" propid="value" datasetid="dsList" columnid="DS_CURB_ETC"/>
    </Bind>
  </Form>
</FDL>
