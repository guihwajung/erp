<?xml version="1.0" encoding="utf-8"?>
<FDL version="2.0">
  <Form id="form" width="1280" height="720" titletext="New Form" onload="form_onload">
    <Layouts>
      <Layout>
        <Div id="divSearch" taborder="0" left="0.0" top="10.0" height="46.0" right="0" cssclass="div_SEARCH_Bg" formscrolltype="none">
          <Layouts>
            <Layout>
              <Static id="staCD_ACNTUNIT" taborder="0" text="사업지코드" left="0.0" top="10.0" width="118.0" height="24.0" textDecoration="none" cssclass="sta_WF_SchLabel"/>
              <Edit id="ctxtCD_ACNTUNIT" taborder="1" left="staCD_ACNTUNIT:0.0" top="10.0" width="120" height="24.0" value="" readonly="true"/>
              <Edit id="ctxtDS_ACNTUNIT" taborder="2" left="ctxtCD_ACNTUNIT:0.0" top="10.0" width="200" height="24.0" value="" readonly="true"/>
              <Static id="staNO_DONG" taborder="3" text="동층호" left="ctxtDS_ACNTUNIT:0.0" top="10.0" width="118.0" height="24.0" textDecoration="none" cssclass="sta_WF_SchLabel"/>
              <Edit id="ctxtNO_DONG" taborder="4" left="staNO_DONG:0.0" top="10.0" width="80" height="24.0" value="" readonly="true"/>
              <Edit id="ctxtNO_FLOOR" taborder="5" left="ctxtNO_DONG:0.0" top="10.0" width="60" height="24.0" value="" readonly="true"/>
              <Edit id="ctxtNO_HO" taborder="6" left="ctxtNO_FLOOR:0.0" top="10.0" width="80" height="24.0" value="" readonly="true"/>
              <Static id="staYN_CONTRACT" taborder="7" text="계약처리여부" left="ctxtNO_HO:0.0" top="10.0" width="118.0" height="24.0" textDecoration="none" cssclass="sta_WF_SchLabel"/>
              <Edit id="ctxtYN_CONTRACT" taborder="8" left="staYN_CONTRACT:0.0" top="10.0" width="80" height="24.0" value="" readonly="true"/>
            </Layout>
          </Layouts>
        </Div>
        <Div id="divData" taborder="0" left="0" top="divSearch:10" bottom="0" right="0" cssclass="div_DATA_Bg" ondragmove="divData_ondragmove">
          <Layouts>
            <Layout>
              <Div id="divSplitter" taborder="1" left="0" top="50%" width="100%" height="5" background="skyblue" cursor="ns-resize" ondrag="divData_divSplitter_ondrag"/>
              <Div id="divDataTop" taborder="0" left="0" top="0" bottom="divSplitter:5" right="0" text="">
                <Layouts>
                  <Layout>
                    <Static id="staTopTitle" taborder="0" text="기본정보" left="0" top="0" width="100%" height="22" cssclass="sta_TITLE_Bg"/>
                    <Static id="staTY_STATE" taborder="1" text="분양상태" left="0" width="100" height="30" cssclass="sta_WF_tablelabel" top="staTopTitle:10" textAlign="center"/>
                    <Static id="staBgTY_STATE" taborder="2" width="246" height="30" cssclass="sta_WF_tablebg" left="staTY_STATE:-1" top="staTopTitle:10"/>
                    <Static id="staTY_BUNYANG" taborder="3" text="분양구분" left="staBgTY_STATE:-1" width="125" height="30" cssclass="sta_WF_tablelabel" top="staTopTitle:10" textAlign="center"/>
                    <Static id="staBgTY_BUNYANG" taborder="4" right="0" height="30" cssclass="sta_WF_tablebg" left="staTY_BUNYANG:-1" top="staTopTitle:10"/>
                    <Static id="staDT_CONTRACT" taborder="5" text="계약일자" left="0" width="100" height="30" cssclass="sta_WF_tablelabel" top="staTY_STATE:-1" textAlign="center"/>
                    <Static id="staBgDT_CONTRACT" taborder="6" width="246" height="30" cssclass="sta_WF_tablebg" left="staDT_CONTRACT:-1" top="staBgTY_STATE:-1"/>
                    <Static id="staTY_CONTRACTOR" taborder="7" text="계약구분" left="staBgDT_CONTRACT:-1" width="125" height="30" cssclass="sta_WF_tablelabel" top="staTY_BUNYANG:-1" textAlign="center"/>
                    <Static id="staBgTY_CONTRACTOR" taborder="8" height="30" cssclass="sta_WF_tablebg" left="staTY_CONTRACTOR:-1" top="staBgTY_BUNYANG:-1" right="0" minwidth="190" maxwidth=""/>
                    <Static id="staDS_CONTRACTOR" taborder="9" text="계약자명" left="0" width="100" height="30" cssclass="sta_WF_tablelabel" top="staDT_CONTRACT:-1" textAlign="center"/>
                    <Static id="staBgDS_CONTRACTOR" taborder="10" height="30" cssclass="sta_WF_tablebg" left="staDS_CONTRACTOR:-1" top="staBgDT_CONTRACT:-1" width="246"/>
                    <Static id="staNO_JUMIN" taborder="11" text="주민등록번호" left="staBgDS_CONTRACTOR:-1" width="125" height="30" cssclass="sta_WF_tablelabel" top="staTY_CONTRACTOR:-1" textAlign="center"/>
                    <Static id="staBgNO_JUMIN" taborder="12" height="30" cssclass="sta_WF_tablebg" left="staNO_JUMIN:-1" top="staBgTY_CONTRACTOR:-1" right="0" minwidth="190" maxwidth=""/>
                    <Static id="staNO_TEL" taborder="13" text="☎(자택)" left="0" width="100" height="30" cssclass="sta_WF_tablelabel" top="staDS_CONTRACTOR:-1" textAlign="center"/>
                    <Static id="staBgNO_TEL" taborder="14" width="246" height="30" cssclass="sta_WF_tablebg" left="staNO_TEL:-1" top="staBgDS_CONTRACTOR:-1"/>
                    <Static id="staNO_OFFICETEL" taborder="15" text="☎(직장)" left="staBgNO_TEL:-1" width="125" height="30" cssclass="sta_WF_tablelabel" top="staDS_CONTRACTOR:-1" textAlign="center"/>
                    <Static id="staBgNO_OFFICETEL" taborder="16" width="150" height="30" cssclass="sta_WF_tablebg" left="staNO_OFFICETEL:-1" top="staBgDS_CONTRACTOR:-1"/>
                    <Static id="staNO_MOBILE" taborder="17" text="휴대폰" left="staBgNO_OFFICETEL:-1" width="125" height="30" cssclass="sta_WF_tablelabel" top="staDS_CONTRACTOR:-1" textAlign="center"/>
                    <Static id="staBgNO_MOBILE" taborder="18" height="30" cssclass="sta_WF_tablebg" left="staNO_MOBILE:-1" top="staBgDS_CONTRACTOR:-1" right="0" minwidth="190" maxwidth=""/>
                    <Static id="staNO_POST" taborder="19" text="현주소" left="0" width="100" height="30" cssclass="sta_WF_tablelabel" top="staNO_TEL:-1" textAlign="center"/>
                    <Static id="staBgNO_POST" taborder="20" height="30" cssclass="sta_WF_tablebg" left="staNO_POST:-1" top="staBgNO_TEL:-1" right="0" minwidth="832" maxwidth=""/>
                    <Static id="staNO_RECPOST" taborder="21" text="주민등록주소" left="0" width="100" height="30" cssclass="sta_WF_tablelabel" top="staNO_POST:-1" textAlign="center"/>
                    <Static id="staBgNO_RECPOST" taborder="22" height="30" cssclass="sta_WF_tablebg" left="staNO_RECPOST:-1" top="staBgNO_POST:-1" minwidth="832" maxwidth="" right="0"/>
                    <Static id="staDS_EMAIL" taborder="23" text="e-Mail" left="0" width="100" height="30" cssclass="sta_WF_tablelabel" top="staNO_RECPOST:-1" textAlign="center"/>
                    <Static id="staBgDS_EMAIL" taborder="24" height="30" cssclass="sta_WF_tablebg" left="staDS_EMAIL:-1" top="staBgNO_RECPOST:-1" width="246"/>
                    <Static id="staYN_JOINT" taborder="25" text="공동명의계약자여부" left="staBgDS_EMAIL:-1" width="125" height="30" cssclass="sta_WF_tablelabel" top="staNO_RECPOST:-1" textAlign="center"/>
                    <Static id="staBgYN_JOINT" taborder="26" height="30" cssclass="sta_WF_tablebg" left="staYN_JOINT:-1" top="staBgNO_RECPOST:-1" width="150"/>
                    <Static id="staYN_AUTOLEASE" taborder="27" text="자동이체" left="staBgYN_JOINT:-1" width="125" height="30" cssclass="sta_WF_tablelabel" top="staNO_RECPOST:-1" textAlign="center"/>
                    <Static id="staBgYN_AUTOLEASE" taborder="28" height="30" cssclass="sta_WF_tablebg" left="staYN_AUTOLEASE:-1" top="staBgNO_RECPOST:-1" right="0" minwidth="190" maxwidth=""/>
                    <Static id="staAM_LEASE" taborder="29" text="임대료" left="0" width="100" height="30" cssclass="sta_WF_tablelabel" top="staDS_EMAIL:-1" textAlign="center"/>
                    <Static id="staBgAM_LEASE" taborder="30" height="30" cssclass="sta_WF_tablebg" left="staAM_LEASE:-1" top="staBgDS_EMAIL:-1" width="246"/>
                    <Static id="staYN_SUNSU" taborder="31" text="선수관리비여부" left="staBgAM_LEASE:-1" width="125" height="30" cssclass="sta_WF_tablelabel" top="staYN_JOINT:-1" textAlign="center"/>
                    <Static id="staBgYN_SUNSU" taborder="32" height="30" cssclass="sta_WF_tablebg" left="staYN_JOINT:-1" top="staBgYN_JOINT:-1" width="150"/>
                    <Static id="staYN_RETURN" taborder="33" text="회수여부" left="staBgYN_SUNSU:-1" width="125" height="30" cssclass="sta_WF_tablelabel" top="staYN_AUTOLEASE:-1" textAlign="center"/>
                    <Static id="staBgYN_RETURN" taborder="34" height="30" cssclass="sta_WF_tablebg" left="staYN_RETURN:-1" top="staBgYN_AUTOLEASE:-1" right="0" minwidth="190" maxwidth=""/>
                    <Static id="staAM_MANAGEMENT" taborder="35" text="관리비" left="0" width="100" height="30" cssclass="sta_WF_tablelabel" top="staAM_LEASE:-1" textAlign="center"/>
                    <Static id="staBgAM_MANAGEMENT" taborder="36" height="30" cssclass="sta_WF_tablebg" left="staAM_MANAGEMENT:-1" top="staBgAM_LEASE:-1" width="246"/>
                    <Static id="staAM_SUNSU" taborder="37" text="선수관리비" left="staBgAM_MANAGEMENT:-1" width="125" height="30" cssclass="sta_WF_tablelabel" top="staYN_SUNSU:-1" textAlign="center"/>
                    <Static id="staBgAM_SUNSU" taborder="38" height="30" cssclass="sta_WF_tablebg" left="staAM_SUNSU:-1" top="staBgYN_SUNSU:-1" width="150"/>
                    <Static id="staDT_RETURN" taborder="39" text="회수일자" left="staBgAM_SUNSU:-1" width="125" height="30" cssclass="sta_WF_tablelabel" top="staYN_RETURN:-1" textAlign="center"/>
                    <Static id="staBgDT_RETURN" taborder="40" height="30" cssclass="sta_WF_tablebg" left="staDT_RETURN:-1" top="staBgYN_RETURN:-1" right="0" minwidth="190" maxwidth=""/>
                    <Edit id="txtTY_STATE" taborder="48" left="staTY_STATE:5" top="staTopTitle:15" width="90" height="20" readonly="true" textAlign="left"/>
                    <Edit id="txtTY_BUNYANG" taborder="49" left="staTY_BUNYANG:5" top="staTopTitle:15" width="120" height="20" readonly="true"/>
                    <Edit id="txtDT_CONTRACT" taborder="51" left="staDT_CONTRACT:5" top="txtTY_STATE:9" width="100" height="20" readonly="true"/>
                    <Radio id="rdoTY_CONTRACTOR" taborder="50" left="staTY_CONTRACTOR:5" top="txtTY_BUNYANG:9" height="20" direction="vertical" fittocontents="width" width="187" codecolumn="CD_CODE" datacolumn="DS_CODE" innerdataset="dsTY_CONTRACTOR" requiredYN="Y" requiredMsg="계약구분" enable="false"/>
                    <Edit id="txtDS_CONTRACTOR" taborder="52" left="staDS_CONTRACTOR:5" top="txtDT_CONTRACT:9" width="120" height="20" readonly="true"/>
                    <Edit id="txtNO_JUMIN" taborder="53" left="staNO_JUMIN:5" top="rdoTY_CONTRACTOR:9" width="140" height="20" readonly="true"/>
                    <Edit id="txtNO_TEL" taborder="54" left="staNO_TEL:5" top="txtDS_CONTRACTOR:9" width="120" height="20" readonly="true"/>
                    <Edit id="txtNO_OFFICETEL" taborder="56" left="staNO_OFFICETEL:5" top="txtNO_JUMIN:9" width="120" height="20" readonly="true"/>
                    <Edit id="txtNO_MOBILE" taborder="55" left="staNO_MOBILE:5" top="txtNO_JUMIN:9" width="120" height="20" readonly="true" onkeyup="divData_divDataTop_txtNO_MOBILE_onkeyup"/>
                    <Edit id="txtNO_POST" taborder="58" left="staNO_POST:5" top="txtNO_TEL:9" width="100" height="20" readonly="true"/>
                    <Edit id="txtDS_ADDR2" taborder="58" left="txtNO_POST:5" top="txtNO_TEL:9" width="220" height="20" readonly="true"/>
                    <Edit id="txtDS_ADDR3" taborder="58" left="txtDS_ADDR2:5" top="txtNO_TEL:9" width="200" height="20" readonly="true"/>
                    <Edit id="txtNO_RECPOST" taborder="58" left="staNO_RECPOST:5" top="txtNO_POST:9" width="100" height="20" readonly="true"/>
                    <Edit id="txtDS_RECADDR2" taborder="58" left="txtNO_RECPOST:5" top="txtNO_POST:9" width="220" height="20" readonly="true"/>
                    <Edit id="txtDS_RECADDR3" taborder="58" left="txtDS_RECADDR2:5" top="txtNO_POST:9" width="200" height="20" readonly="true"/>
                    <Edit id="txtDS_EMAIL" taborder="67" left="staDS_EMAIL:5" top="txtNO_RECPOST:9" width="200" height="20" readonly="true"/>
                    <Radio id="rdoYN_JOINT" taborder="66" left="staYN_JOINT:5" top="txtDS_RECADDR2:9" height="20" direction="vertical" fittocontents="width" width="133" codecolumn="CD_CODE" datacolumn="DS_CODE" innerdataset="dsYN_JOINT" requiredYN="Y" requiredMsg="계약구분" enable="false"/>
                    <Radio id="rdoYN_AUTOLEASE" taborder="66" left="staYN_AUTOLEASE:5" top="txtDS_RECADDR3:9" height="20" direction="vertical" fittocontents="width" width="133" codecolumn="CD_CODE" datacolumn="DS_CODE" innerdataset="dsYN_AUTOLEASE" requiredYN="Y" requiredMsg="계약구분" enable="false"/>
                    <MaskEdit id="txtAM_LEASE" taborder="43" left="staAM_LEASE:5" top="rdoYN_JOINT:9" width="120" minwidth="100" height="20" value="" format="#,##0" textAlign="right" readonly="false"/>
                    <Button id="btnAM_LEASE" taborder="62" text="임대료변경" left="txtAM_LEASE:10" top="txtDS_EMAIL:9" width="80" height="20" onclick="divData_divDataTop_btnAM_LEASE_onclick"/>
                    <Radio id="crdoYN_SUNSU" taborder="1" left="staYN_SUNSU:5" top="txtDS_EMAIL:9" height="20" innerdataset="dsYN_SUNSU" direction="vertical" fittocontents="width" width="140" codecolumn="CD_CODE" datacolumn="DS_CODE" enable="false"/>
                    <Radio id="crdoYN_RETURN" taborder="1" left="staYN_RETURN:5" top="txtDS_EMAIL:9" height="20" innerdataset="dsYN_RETURN" direction="vertical" fittocontents="width" width="200" codecolumn="CD_CODE" datacolumn="DS_CODE" enable="false"/>
                    <MaskEdit id="txtAM_MANAGEMENT" taborder="43" left="staAM_MANAGEMENT:5" top="txtAM_LEASE:9" width="120" minwidth="100" height="20" value="" format="#,##0" textAlign="right" readonly="false"/>
                    <Button id="btnAM_MANAGEMENT" taborder="62" text="관리비변경" left="txtAM_MANAGEMENT:10" top="txtAM_LEASE:9" width="80" height="20" onclick="divData_divDataTop_btnAM_MANAGEMENT_onclick"/>
                    <MaskEdit id="txtAM_SUNSU" taborder="43" left="staAM_SUNSU:5" top="crdoYN_SUNSU:9" width="120" minwidth="100" height="20" value="" format="#,##0" textAlign="right" readonly="true"/>
                    <Calendar id="ctclDT_RETURN" taborder="1" left="staDT_RETURN:5" top="crdoYN_RETURN:9" width="105" height="20" dateformat="yyyy-MM-dd" editformat="yyyyMMdd" autoselect="true" value="" enable="false"/>
                  </Layout>
                </Layouts>
              </Div>
              <Div id="divDataBottom" taborder="0" left="0" top="divSplitter:5" bottom="0" right="0">
                <Layouts>
                  <Layout>
                    <Static id="staAM_LAND" taborder="3" text="토지가" left="0" width="80" height="30" cssclass="sta_WF_tablelabel" textAlign="center" bottom="5"/>
                    <Static id="staBgAM_LAND" taborder="9" height="30" cssclass="sta_WF_tablebg" left="staAM_LAND:-1" minwidth="110" right="75%" bottom="5"/>
                    <Static id="staAM_BUILDING" taborder="2" text="건물가" left="staBgAM_LAND:-1" width="80" height="30" cssclass="sta_WF_tablelabel" textAlign="center" bottom="5"/>
                    <Static id="staBgAM_BUILDING" taborder="7" height="30" cssclass="sta_WF_tablebg" left="staAM_BUILDING:-1" minwidth="110" right="50%" bottom="5"/>
                    <Static id="staAM_VAT" taborder="4" text="부가세" left="staBgAM_BUILDING:-1" width="80" height="30" cssclass="sta_WF_tablelabel" textAlign="center" bottom="5"/>
                    <Static id="staBgAM_VAT" taborder="6" height="30" cssclass="sta_WF_tablebg" left="staAM_VAT:-1" minwidth="110" right="25%" bottom="5"/>
                    <Static id="staAM_SELLING" taborder="5" text="분양가" left="staBgAM_VAT:-1" width="80" height="30" cssclass="sta_WF_tablelabel" textAlign="center" bottom="5"/>
                    <Static id="staBgAM_SELLING" taborder="8" height="30" cssclass="sta_WF_tablebg" left="staAM_SELLING:-1" minwidth="110" right="5" bottom="5"/>
                    <MaskEdit id="txtAM_LAND" taborder="13" left="staAM_LAND:5" right="staAM_BUILDING:5" minwidth="100" height="20" value="" format="#,##0" textAlign="right" readonly="true" bottom="10"/>
                    <MaskEdit id="txtAM_BUILDING" taborder="12" left="staAM_BUILDING:5" right="staAM_VAT:5" minwidth="100" height="20" value="" format="#,##0" textAlign="right" readonly="true" bottom="10"/>
                    <MaskEdit id="txtAM_VAT" taborder="10" left="staAM_VAT:5" right="staAM_SELLING:5" minwidth="100" height="20" value="" format="#,##0" textAlign="right" readonly="true" bottom="10"/>
                    <MaskEdit id="txtAM_SELLING" taborder="11" left="staAM_SELLING:5" right="10" minwidth="100" height="20" value="" format="#,##0" textAlign="right" readonly="true" bottom="10"/>
                    <Grid id="objGrid1" taborder="1" left="5" top="0" bottom="50" right="5"/>
                  </Layout>
                </Layouts>
              </Div>
            </Layout>
          </Layouts>
        </Div>
      </Layout>
    </Layouts>
    <Script type="xscript5.1"><![CDATA[this.objApp = this.gfnGetApplication();

this.form_onload = function(obj:nexacro.Form,e:nexacro.LoadEventInfo)
{
	// -- 필수 -------------------//
	this.gfnFormOnLoad(this);	
	this.gfnFormInfo(this);		
	// ---------------------------//
	
	this.fnSetButton();
	this.fnSetExtendButton();
	this.fnSetVariable();
	this.fnSetEvent();
	this.fnSetParameter();
	
	this.dsSearch.setColumn(0, "CD_ACNTUNIT", this.getOwnerFrame().CD_ACNTUNIT);
	this.dsSearch.setColumn(0, "DS_ACNTUNIT", this.getOwnerFrame().DS_ACNTUNIT);
	this.dsSearch.setColumn(0, "NO_DONG", this.getOwnerFrame().DONG);
	this.dsSearch.setColumn(0, "NO_FLOOR", this.getOwnerFrame().FLOOR);
	this.dsSearch.setColumn(0, "NO_HO", this.getOwnerFrame().HO);
	this.dsSearch.setColumn(0, "YN_CONTRACT", this.getOwnerFrame().YN_CONTRACT);

	if(this.dsSearch.getColumn(0, "YN_CONTRACT") == "계약가능")
	{
		this.divSearch.form.ctxtYN_CONTRACT.set_color("Blue");
	}
	else
	{
		this.divSearch.form.ctxtYN_CONTRACT.set_color("Red");
	}
	
	// 저장버튼이 아래 그리드 변경으로만 변경이 되어야하여 sub설정 부여.
	this.divData.form.divDataTop.form.txtAM_LEASE.sub = true;
	this.divData.form.divDataTop.form.txtAM_MANAGEMENT.sub = true;
	
	this.FormBtns.Select.click();
};

/************************************************************************
 * 버튼 설정 : 화면(Tab) 전환시 마다 호출
 * 서브버튼 사용 및 공통버튼 강제 제어시 여기서 처리
 ************************************************************************/
this.fnSetButton = function() {
}

/************************************************************************
 * 확장 버튼 : 화면별 버튼 설정 ID, function 연결 (화면버튼관리)
 ************************************************************************/
this.fnSetExtendButton = function() {
	this.btnContract = this.gfnFormButtonAdd("btnContract", "fnContract"); // 임대계약
	this.btnContractChg = this.gfnFormButtonAdd("btnContractChg", "fnContractChg"); // 계약변경
	this.btnReceived = this.gfnFormButtonAdd("btnReceived", "fnReceived"); // 수납내역
	this.btnJoint = this.gfnFormButtonAdd("btnJoint", "fnJoint"); // 공동명의
	this.btnContractCancel = this.gfnFormButtonAdd("btnContractCancel", "fnContractCancel"); // 계약취소
	this.btnContImpossible = this.gfnFormButtonAdd("btnContImpossible", "fnContImpossible"); // 계약불가

};

/************************************************************************
 * 변수 선언
 ************************************************************************/
this.fnSetVariable = function() {	
	this.dxGrid1 = this.divData.form.divDataBottom.form.objGrid1;
};

/************************************************************************
 * 이벤트 설정
 ************************************************************************/
this.fnSetEvent = function() {
	// 그리드 초기화
	this.gfnGridInit(this.dxGrid1, this.dsList, "DL", "DLB_CONTRACT_DETAIL");
	
};

/************************************************************************
 * 파라미터 설정
 ************************************************************************/
this.fnSetParameter = function() {
	this.dsSelect = new Dataset();
	this.dsSelect.addColumn("CD_ACNTUNIT", "string");
	this.dsSelect.addColumn("TY_GUBUN", "string");
	this.dsSelect.addColumn("NO_CHASU", "string");
	this.dsSelect.addColumn("NO_DONG", "string");
	this.dsSelect.addColumn("NO_FLOOR", "string");
	this.dsSelect.addColumn("NO_HO", "string");

	this.dsInsert = new Dataset();
	this.dsInsert.addColumn("CD_ACNTUNIT", "string");
	this.dsInsert.addColumn("TY_GUBUN", "string");
	this.dsInsert.addColumn("NO_CHASU", "string");
	this.dsInsert.addColumn("NO_DONG", "string");
	this.dsInsert.addColumn("NO_FLOOR", "string");
	this.dsInsert.addColumn("NO_HO", "string");
	this.dsInsert.addColumn("TY_NAPIP", "string");
	this.dsInsert.addColumn("NO_NAPCHA", "string");
	this.dsInsert.addColumn("DT_STARTAGREE", "string");
	this.dsInsert.addColumn("DT_ENDAGREE", "string");
	this.dsInsert.addColumn("AM_LAND", "bigdecimal");
	this.dsInsert.addColumn("AM_BUILDING", "bigdecimal");
	this.dsInsert.addColumn("AM_VAT", "bigdecimal");
	this.dsInsert.addColumn("AM_SELLING", "bigdecimal");
	this.dsInsert.addColumn("ID_INSERT", "string");

	this.dsUpdate = new Dataset();
	this.dsUpdate.addColumn("CD_ACNTUNIT", "string");
	this.dsUpdate.addColumn("TY_GUBUN", "string");
	this.dsUpdate.addColumn("NO_CHASU", "string");
	this.dsUpdate.addColumn("NO_DONG", "string");
	this.dsUpdate.addColumn("NO_FLOOR", "string");
	this.dsUpdate.addColumn("NO_HO", "string");
	this.dsUpdate.addColumn("TY_NAPIP", "string");
	this.dsUpdate.addColumn("NO_NAPCHA", "string");
	this.dsUpdate.addColumn("DT_STARTAGREE", "string");
	this.dsUpdate.addColumn("DT_ENDAGREE", "string");
	this.dsUpdate.addColumn("AM_LAND", "bigdecimal");
	this.dsUpdate.addColumn("AM_BUILDING", "bigdecimal");
	this.dsUpdate.addColumn("AM_VAT", "bigdecimal");
	this.dsUpdate.addColumn("AM_SELLING", "bigdecimal");
	this.dsUpdate.addColumn("ID_UPDATE", "string");

	this.dsDelete = new Dataset();
	this.dsDelete.addColumn("CD_ACNTUNIT", "string");
	this.dsDelete.addColumn("TY_GUBUN", "string");
	this.dsDelete.addColumn("NO_CHASU", "string");
	this.dsDelete.addColumn("NO_DONG", "string");
	this.dsDelete.addColumn("NO_FLOOR", "string");
	this.dsDelete.addColumn("NO_HO", "string");
	this.dsDelete.addColumn("TY_NAPIP", "string");
	this.dsDelete.addColumn("NO_NAPCHA", "string");
	
	// 상단 싱글폼
	this.dsSelect1 = new Dataset();
	this.dsSelect1.addColumn("CD_ACNTUNIT", "string");
	this.dsSelect1.addColumn("TY_GUBUN", "string");
	this.dsSelect1.addColumn("NO_CHASU", "string");
	this.dsSelect1.addColumn("NO_DONG", "string");
	this.dsSelect1.addColumn("NO_FLOOR", "string");
	this.dsSelect1.addColumn("NO_HO", "string");
	
	this.dsExecLease = new Dataset();
	this.dsExecLease.addColumn("CD_ACNTUNIT", "string");
	this.dsExecLease.addColumn("TY_GUBUN", "string");
	this.dsExecLease.addColumn("NO_CHASU", "string");
	this.dsExecLease.addColumn("NO_DONG", "string");
	this.dsExecLease.addColumn("NO_FLOOR", "string");
	this.dsExecLease.addColumn("NO_HO", "string");
	this.dsExecLease.addColumn("AM_LEASE", "bigdecimal");
	this.dsExecLease.addColumn("ID_UPDATE", "string");
	
	this.dsExecManage = new Dataset();
	this.dsExecManage.addColumn("CD_ACNTUNIT", "string");
	this.dsExecManage.addColumn("TY_GUBUN", "string");
	this.dsExecManage.addColumn("NO_CHASU", "string");
	this.dsExecManage.addColumn("NO_DONG", "string");
	this.dsExecManage.addColumn("NO_FLOOR", "string");
	this.dsExecManage.addColumn("NO_HO", "string");
	this.dsExecManage.addColumn("AM_MANAGEMENT", "bigdecimal");
	this.dsExecManage.addColumn("ID_UPDATE", "string");
	
	this.dsContHandle = new Dataset();
	this.dsContHandle.addColumn("CD_ACNTUNIT", "string");
	this.dsContHandle.addColumn("TY_GUBUN", "string");
	this.dsContHandle.addColumn("NO_CHASU", "string");
	this.dsContHandle.addColumn("NO_DONG", "string");
	this.dsContHandle.addColumn("NO_FLOOR", "string");
	this.dsContHandle.addColumn("NO_HO", "string");
	this.dsContHandle.addColumn("ID_UPDATE", "string");
}

/************************************************************************
 * 컨트롤 이벤트
 ************************************************************************/
 /*
  *	조회 버튼
  */
this.fnSelect = function() {
	if (!this.fnSelectValidate()) return false;
	
	this.dsSelect.clearData();
	this.dsSelect.addRow();
	this.dsSelect.setColumn(0, "CD_ACNTUNIT", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(0, 6));
	this.dsSelect.setColumn(0, "TY_GUBUN", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(6, 1));
	this.dsSelect.setColumn(0, "NO_CHASU", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(7, 2));
	this.dsSelect.setColumn(0, "NO_DONG", this.dsSearch.getColumn(0, "NO_DONG"));
	this.dsSelect.setColumn(0, "NO_FLOOR", this.dsSearch.getColumn(0, "NO_FLOOR"));
	this.dsSelect.setColumn(0, "NO_HO", this.dsSearch.getColumn(0, "NO_HO"));

	var strSvcId    = "select";
	var strSvcType  = "grid";
	var inProc		= "_dsProc";
 	var inData      = "select=dsSelect";
 	var outData     = "dsList=select0";
	var strArg      = "";
	var callBackFnc = "fnCallback";
	
	this.gfnTransaction( strSvcId , 	// transaction을 구분하기 위한 svc id값
						strSvcType , 	// transaction을 요청할 구분
						inProc,			// Procedure 정보 Dataset 이름
						inData , 		// 입력값으로 보낼 dataset id , a=b형태로 실제이름과 입력이름을 매칭
						outData , 		// 처리결과값으로 받을 dataset id, a=b형태로 실제이름과 입력이름을 매칭
						strArg, 			// 입력갑스로 보낼 arguments, strFormData="20120607"
						callBackFnc); // 통신방법 정의 [생략가능]
}

this.fnSelectTop = function()
{
	this.dsSelect1.clearData();
	this.dsSelect1.addRow();
	this.dsSelect1.setColumn(0, "CD_ACNTUNIT", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(0, 6));
	this.dsSelect1.setColumn(0, "TY_GUBUN", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(6, 1));
	this.dsSelect1.setColumn(0, "NO_CHASU", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(7, 2));
	this.dsSelect1.setColumn(0, "NO_DONG", this.dsSearch.getColumn(0, "NO_DONG"));
	this.dsSelect1.setColumn(0, "NO_FLOOR", this.dsSearch.getColumn(0, "NO_FLOOR"));
	this.dsSelect1.setColumn(0, "NO_HO", this.dsSearch.getColumn(0, "NO_HO"));

	var strSvcId    = "select_top";
	var strSvcType  = "grid";
	var inProc		= "_dsProc";
 	var inData      = "select1=dsSelect1";
 	var outData     = "dsList1=select10";
	var strArg      = "";
	var callBackFnc = "fnCallback";
	
	this.gfnTransaction( strSvcId , 	// transaction을 구분하기 위한 svc id값
						strSvcType , 	// transaction을 요청할 구분
						inProc,			// Procedure 정보 Dataset 이름
						inData , 		// 입력값으로 보낼 dataset id , a=b형태로 실제이름과 입력이름을 매칭
						outData , 		// 처리결과값으로 받을 dataset id, a=b형태로 실제이름과 입력이름을 매칭
						strArg, 			// 입력갑스로 보낼 arguments, strFormData="20120607"
						callBackFnc); // 통신방법 정의 [생략가능]
}


/*
 *	입력 버튼
 */
this.fnAdd = function() {
	this.gfnGridAdd(this.dxGrid1);
}

/*
 *	삭제 버튼
 */ 
this.fnDel = function() {
	this.gfnGridDel(this.dxGrid1);
}

/*
 *	저장 버튼
 */
this.fnSave = function() {
	if (!this.gfnGridValidate(this.dxGrid1)) return;	

	this.dsInsert.clearData();
	this.dsUpdate.clearData();
	this.dsDelete.clearData();
	
	 for (var i = 0; i < this.dsList.rowcount; i++) {
		var flag = this.gfnGetFlag(this.dsList, i);
		switch(flag) {
			case "I":
				var nrow = this.dsInsert.addRow();
				this.dsInsert.setColumn(nrow, "CD_ACNTUNIT", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(0,6));
				this.dsInsert.setColumn(nrow, "TY_GUBUN", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(6,1));
				this.dsInsert.setColumn(nrow, "NO_CHASU", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(7,2));
				this.dsInsert.setColumn(nrow, "NO_DONG", this.dsSearch.getColumn(0, "NO_DONG"));
				this.dsInsert.setColumn(nrow, "NO_FLOOR", this.dsSearch.getColumn(0, "NO_FLOOR"));
				this.dsInsert.setColumn(nrow, "NO_HO", this.dsSearch.getColumn(0, "NO_HO"));
				this.dsInsert.setColumn(nrow, "TY_NAPIP", this.dsList.getColumn(i, "TY_NAPIP"));
				this.dsInsert.setColumn(nrow, "NO_NAPCHA", this.dsList.getColumn(i, "NO_NAPCHA"));
				this.dsInsert.setColumn(nrow, "DT_STARTAGREE", this.dsList.getColumn(i, "DT_STARTAGREE"));
				this.dsInsert.setColumn(nrow, "DT_ENDAGREE", this.dsList.getColumn(i, "DT_ENDAGREE"));
				this.dsInsert.setColumn(nrow, "AM_LAND", this.dsList.getColumn(i, "AM_LAND"));
				this.dsInsert.setColumn(nrow, "AM_BUILDING", this.dsList.getColumn(i, "AM_BUILDING"));
				this.dsInsert.setColumn(nrow, "AM_VAT", this.dsList.getColumn(i, "AM_VAT"));
				this.dsInsert.setColumn(nrow, "AM_SELLING", this.dsList.getColumn(i, "AM_SELLING"));
				this.dsInsert.setColumn(nrow, "ID_INSERT", this.AuthClient.ID_USER);
				break;
			case "U":
				var nrow = this.dsUpdate1.addRow();
				this.dsUpdate.setColumn(nrow, "CD_ACNTUNIT", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(0,6));
				this.dsUpdate.setColumn(nrow, "TY_GUBUN", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(6,1));
				this.dsUpdate.setColumn(nrow, "NO_CHASU", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(7,2));
				this.dsUpdate.setColumn(nrow, "NO_DONG", this.dsSearch.getColumn(0, "NO_DONG"));
				this.dsUpdate.setColumn(nrow, "NO_FLOOR", this.dsSearch.getColumn(0, "NO_FLOOR"));
				this.dsUpdate.setColumn(nrow, "NO_HO", this.dsSearch.getColumn(0, "NO_HO"));
				this.dsUpdate.setColumn(nrow, "TY_NAPIP", this.dsList.getColumn(i, "TY_NAPIP"));
				this.dsUpdate.setColumn(nrow, "NO_NAPCHA", this.dsList.getColumn(i, "NO_NAPCHA"));
				this.dsUpdate.setColumn(nrow, "DT_STARTAGREE", this.dsList.getColumn(i, "DT_STARTAGREE"));
				this.dsUpdate.setColumn(nrow, "DT_ENDAGREE", this.dsList.getColumn(i, "DT_ENDAGREE"));
				this.dsUpdate.setColumn(nrow, "AM_LAND", this.dsList.getColumn(i, "AM_LAND"));
				this.dsUpdate.setColumn(nrow, "AM_BUILDING", this.dsList.getColumn(i, "AM_BUILDING"));
				this.dsUpdate.setColumn(nrow, "AM_VAT", this.dsList.getColumn(i, "AM_VAT"));
				this.dsUpdate.setColumn(nrow, "AM_SELLING", this.dsList.getColumn(i, "AM_SELLING"));
				this.dsUpdate.setColumn(nrow, "ID_UPDATE", this.AuthClient.ID_USER);
			break;
			case "D":
				var nrow = this.dsDelete.addRow();
				this.dsDelete.setColumn(nrow, "CD_ACNTUNIT", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(0,6));
				this.dsDelete.setColumn(nrow, "TY_GUBUN", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(6,1));
				this.dsDelete.setColumn(nrow, "NO_CHASU", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(7,2));
				this.dsDelete.setColumn(nrow, "NO_DONG", this.dsSearch.getColumn(0, "NO_DONG"));
				this.dsDelete.setColumn(nrow, "NO_FLOOR", this.dsSearch.getColumn(0, "NO_FLOOR"));
				this.dsDelete.setColumn(nrow, "NO_HO", this.dsSearch.getColumn(0, "NO_HO"));
				this.dsDelete.setColumn(nrow, "TY_NAPIP", this.dsList1.getColumn(i, "TY_NAPIP"));
				this.dsDelete.setColumn(nrow, "NO_NAPCHA", this.dsList1.getColumn(i, "NO_NAPCHA"));
			break;
		}
	}
	
	if(this.dsInsert.rowcount == 0 && this.dsUpdate.rowcount == 0 && this.dsDelete.rowcount == 0) return;
	
	var strSvcId    = "save";
	var strSvcType  = "save";
	var inProc		= "_dsProc";
	var inData      = "insert=dsInsert update=dsUpdate delete=dsDelete";
	var outData     = "";
	var strArg      = "";
	var callBackFnc = "fnCallback";
	
	this.gfnTransaction( strSvcId , 	// transaction을 구분하기 위한 svc id값
						strSvcType , 	// transaction을 요청할 구분
						inProc,			// Procedure 정보 Dataset 이름
						inData , 		// 입력값으로 보낼 dataset id , a=b형태로 실제이름과 입력이름을 매칭
						outData , 		// 처리결과값으로 받을 dataset id, a=b형태로 실제이름과 입력이름을 매칭
						strArg, 			// 입력갑스로 보낼 arguments, strFormData="20120607"
						callBackFnc); // 통신방법 정의 [생략가능]
}

/*
 *	엑셀 버튼
 */
this.fnExcel = function() {
	this.gfnExcelExport(this.dxGrid1);
}

/*
 *	출력 버튼
 */
this.fnPrint = function() {
}

/************************************************************************
 * Validate
 ************************************************************************/
/*
 *	조회 Validate
 */
this.fnSelectValidate = function() {
	var validate = true;
	if (this.gfnIsNull(this.dsSearch.getColumn(0, "NO_DONG"))) {
		this.fnVaidateCallback = function() {
			this.divSearch.form.ctxtNO_DONG.setFocus();
		}
		validate = false;
		this.gfnAlert("동층호를 입력하세요!", "fnVaidateCallback");
		
	}
	else if (this.gfnIsNull(this.dsSearch.getColumn(0, "NO_FLOOR"))) {
		this.fnVaidateCallback = function() {
			this.divSearch.form.ctxtNO_FLOOR.setFocus();
		}
		validate = false;
		this.gfnAlert("동층호를 입력하세요!", "fnVaidateCallback");
	}
	else if (this.gfnIsNull(this.dsSearch.getColumn(0, "NO_HO"))) {
		this.fnVaidateCallback = function() {
			this.divSearch.form.ctxtNO_HO.setFocus();
		}
		validate = false;
		this.gfnAlert("동층호를 입력하세요!", "fnVaidateCallback");
	}
	return validate;
};

/*
 *	저장 Validate
 */
this.fnSaveValidate = function() {
	var strMsg = "";
	var validate = true;
	
	if (this.gfnIsNull(this.dsSearch.getColumn(0, "CD_ACNTUNIT"))) {
		strMsg += "사업지코드는 반드시 입력 하셔야 합니다.\n";
		validate = false;
	}
	
	if(this.gfnTrim(this.dsList.getColumn(0, "TY_STATE")) == "계약")
	{
		if (this.gfnTrim(this.dsSearch.getColumn(0, "NO_DONG")) == "") {
			strMsg += "동은 반드시 입력 하셔야 합니다.\n";
			validate = false;
		}
		
		if (this.gfnTrim(this.dsSearch.getColumn(0, "NO_FLOOR")) == "") {
			strMsg += "층은 반드시 입력 하셔야 합니다.\n";
			validate = false;
		}
		
		if (this.gfnTrim(this.dsSearch.getColumn(0, "NO_HO")) == "") {
			strMsg += "호는 반드시 입력 하셔야 합니다.\n";
			validate = false;
		}
		
		if (this.gfnTrim(this.dsList.getColumn(0, "DS_CONTRACTOR")) == "") {
			strMsg += "계약자성명을 입력하지 않았습니다.\n";
			validate = false;
		}
		
		if ((this.dsList.getColumn(0, "TY_CONTRACTOR") == "P" || this.dsList.getColumn(0, "TY_CONTRACTOR") == "A") 
		&& this.gfnTrim(this.dsList.getColumn(0, "NO_JUMIN")) == "") {
			strMsg += "주민등록번호를 입력하지 않았습니다.\n";
			validate = false;
		}
		
		if ((this.dsList.getColumn(0, "TY_CONTRACTOR") == "C" || this.dsList.getColumn(0, "TY_CONTRACTOR") == "A")
		&& this.gfnTrim(this.dsList.getColumn(0, "CD_VENDOR")) == "") {
			strMsg += "사업자등록번호를 입력하지 않았습니다.\n";
			validate = false;
		}
		
		if ((this.dsList.getColumn(0, "TY_CONTRACTOR") == "C" || this.dsList.getColumn(0, "TY_CONTRACTOR") == "A") 
		&& this.gfnTrim(this.dsList.getColumn(0, "DS_VENDOR")) == "") {
			strMsg += "상호를 입력하지 않았습니다.\n";
			validate = false;
		}
		
		if (this.gfnTrim(this.dsList.getColumn(0, "NO_TEL")) == "" && this.gfnTrim(this.dsList.getColumn(0, "NO_OFFICETELTEL")) == "" && this.gfnTrim(this.dsList.getColumn(0, "NO_MOBILE")) == "") {
			strMsg += "전화번호를 입력하지 않았습니다.\n";
			validate = false;
		}
		
		if (this.gfnTrim(this.dsList.getColumn(0, "NO_TEL")) != "") {
			if (!nexacro.isNumeric(nexacro.replaceAll(nexacro.replaceAll(this.dsList.getColumn(0, "NO_TEL"), "-", ""), ")", ""))) {
				strMsg += "자택 전화번호가 정확하지 않습니다.\n";
				validate = false;
			}
		}
		
		if (this.gfnTrim(this.dsList.getColumn(0, "NO_OFFICETELTEL")) != "") {
			if (!nexacro.isNumeric(nexacro.replaceAll(nexacro.replaceAll(this.dsList.getColumn(0, "NO_OFFICETELTEL"), "-", ""), ")", ""))) {
				strMsg += "직장 전화번호가 정확하지 않습니다.\n";
				validate = false;
			}
		}
		
		if (this.gfnTrim(this.dsList.getColumn(0, "NO_MOBILE")) != "") {
			if (!nexacro.isNumeric(nexacro.replaceAll(nexacro.replaceAll(this.dsList.getColumn(0, "NO_MOBILE"), "-", ""), ")", ""))) {
				strMsg += "휴대폰 번호가 정확하지 않습니다.\n";
				validate = false;
			}
		}
		
		if (this.gfnTrim(this.dsList.getColumn(0, "NO_RECPOST")) == "") {
			strMsg += "현주소를 입력하지 않았습니다.\n";
			validate = false;
		}
	}
	
	if (!validate) {
		this.gfnAlert(strMsg);
		return false;
	}
	return true;
}

/************************************************************************
 * 콜백 이벤트
 ************************************************************************/
/*
 *	콜백 처리
 */
this.fnCallback = function(svcID, errorCode, errorMsg, strArg)
{
	if(svcID == "select") {
		this.fnSelectTop();
		if(this.dsList.rowcount > 0)
		{
			var mobileNum = this.dsList.getColumn(0, "NO_MOBILE");
			this.dsList.setColumn(0, "NO_MOBILE", this.fnConvertMobileNumber(mobileNum));
			this.fnGridSum();
		}
	}
	else if(svcID == "select_top") {
		trace("dsList1>>>" + this.dsList1.saveXML());
		if(this.dsList1.rowcount > 0)
		{
			this.fnSetReadonly(this.dsList1.getColumn(0, "DT_CONTRACT"));
			trace("DT_CONTRACT>>>" + this.dsList1.getColumn(0, "DT_CONTRACT"));
		}
	}
	else if(svcID == "save") {
		if (errorCode == 0) {
			this.FormBtns.Select.click();
		} else {
			this.gfnAlert(errorMsg);
		}
	}
	else if(svcID == "exec_lease") {
		if (errorCode == 0) {
			this.FormBtns.Select.click();
		} else {
			this.gfnAlert(errorMsg);
		}
	}
	else if(svcID == "cont_handle")
	{
		if (errorCode == 0) {
			this.fnCallback_callback = function()
			{
				this.FormBtns.Select.click();
			}
			
			if(this.dsSearch.getColumn(0, "YN_CONTRACT") == "계약가능")
			{
				this.dsSearch.setColumn(0, "YN_CONTRACT", "계약불가");
				this.divSearch.form.ctxtYN_CONTRACT.set_color("Red");
			}
			else
			{
				this.dsSearch.setColumn(0, "YN_CONTRACT", "계약가능");
				this.divSearch.form.ctxtYN_CONTRACT.set_color("Blue");
			}
			
			this.gfnAlert("변경처리가 완료되었습니다.", "fnCallback_callback");
		} else {
			this.gfnAlert(errorMsg);
		}
	}
}

/************************************************************************
 * 코드파인드 이벤트
 ************************************************************************/

/************************************************************************
 * 그리드 이벤트
 ************************************************************************/
 
/************************************************************************
 * 기타 이벤트
 ************************************************************************/
this.dsSearch_onvaluechanged = function(obj:nexacro.NormalDataset,e:nexacro.DSColChangeEventInfo)
{
	if(e.oldvalue != e.newvalue) {
		this.gfnSetFormStatus(this);	// 폼상태 초기화
		this.gfnGridClear(this.dxGrid1);	
	}
};

this.divData_ondragmove = function(obj:nexacro.Div,e:nexacro.DragEventInfo)
{
	if(e.userdata == "splitter") {
		this.divData.form.divSplitter.set_top(e.clienty);
		this.divData.form.resetScroll();	
	}
};

this.divData_divSplitter_ondrag = function(obj:nexacro.Div,e:nexacro.DragEventInfo)
{
	e.set_userdata("splitter");
	return true;
};


this.dsSearch_onvaluechanged = function(obj:nexacro.NormalDataset,e:nexacro.DSColChangeEventInfo) {
	if (e.oldvalue != e.newvalue) {
		this.gfnSetFormStatus(this);
		this.gfnGridClear(this.dxGrid1);
		this.dsList.clearData();
	}
}


this.dsList_onvaluechanged = function(obj:nexacro.NormalDataset,e:nexacro.DSColChangeEventInfo)
{
	if(e.oldvalue != e.newvalue)
	{
		
	}
};

this.fnGridSum = function()
{
	if(this.dsList.rowcount > 0)
	{	
		this.dsListSum.clearData();
		var am_land = 0;
		var am_building = 0;
		var am_vat = 0;
		var am_selling = 0;
		
		for(var i = 0; i < this.dsList.rowcount; i++)
		{
			am_land += this.gfnNvl(this.dsList.getColumn(i, "AM_LAND"),0);
			am_building += this.gfnNvl(this.dsList.getColumn(i, "AM_BUILDING"),0);
			am_vat += this.gfnNvl(this.dsList.getColumn(i, "AM_VAT"),0);
			am_selling += this.gfnNvl(this.dsList.getColumn(i, "AM_SELLING"),0);
		}
		
		this.dsListSum.addRow();
		
		this.dsListSum.setColumn(0, "AM_LAND", am_land);
		this.dsListSum.setColumn(0, "AM_BUILDING", am_building);
		this.dsListSum.setColumn(0, "AM_VAT", am_vat);
		this.dsListSum.setColumn(0, "AM_SELLING", am_selling);
	}
}

this.fnConvertMobileNumber = function(number)
{
	var reno = this.gfnNvl(number,"").trim();
	number = reno.replaceAll("-","");
	
	switch(number.length)
	{
		case 3 : reno = number + "-"; break;
		case 6 : reno = number.substr(0,3) + "-" + number.substr(3,3) + "-"; break;
		case 7 : reno = number.substr(0,3) + "-" + number.substr(3,4) + "-"; break;
		case 10 : reno = number.substr(0,3) + "-" + number.substr(3,3) + "-" + number.substr(6); break; 
		case 11 : reno = number.substr(0,3) + "-" + number.substr(3,4) + "-" + number.substr(7); break; 
	}
	
	return reno;
}


this.divData_divDataTop_txtNO_MOBILE_onkeyup = function(obj:nexacro.Edit,e:nexacro.KeyEventInfo)
{
	if((e.keycode >= 48 && e.keycode <= 57) || (e.keycode >= 96 && e.keycode <= 105))
	{
		obj.set_value(this.fnConvertMobileNumber(obj.value));
	}
};

this.fnSetReadonly = function(val)
{
	// 미계약, 약정
	if(this.gfnIsNull(val))
	{
		this.btnContractCancel.set_enable(false);
		this.btnContractChg.set_enable(false);
		this.btnReceived.set_enable(false);
		this.btnJoint.set_enable(false);
		
		if(this.FormInfo.ID_GROUP == "H" || this.FormInfo.ID_GROUP == "0")
		{
			this.btnContImpossible.set_enable(true);
		}	
		else
		{
			this.btnContImpossible.set_enable(false);
		}
		
		if(this.dsSearch.getColumn(0, "YN_CONTRACT") == "계약가능")
		{
			this.btnContract.set_enable(true);
		}
		else
		{
			this.btnContract.set_enable(false);
		}
		
		this.divData.form.divDataTop.form.btnAM_LEASE.set_enable(false);
		this.divData.form.divDataTop.form.btnAM_MANAGEMENT.set_enable(false);
		this.divData.form.divDataTop.form.txtAM_LEASE.set_readonly(true);
		this.divData.form.divDataTop.form.txtAM_MANAGEMENT.set_readonly(true);
	}
	// 계약, 약정
	else
	{
		this.btnContractCancel.set_enable(true);
		this.btnContractChg.set_enable(true);
		this.btnReceived.set_enable(true);
		this.btnJoint.set_enable(true);
		this.btnContImpossible.set_enable(false);
		this.btnContract.set_enable(false);
		
		this.divData.form.divDataTop.form.btnAM_LEASE.set_enable(true);
		this.divData.form.divDataTop.form.btnAM_MANAGEMENT.set_enable(true);
		this.divData.form.divDataTop.form.txtAM_LEASE.set_readonly(false);
		this.divData.form.divDataTop.form.txtAM_MANAGEMENT.set_readonly(false);
	}
}	

/************************************************************************
 * 확장 버튼 실행
 ************************************************************************/
this.fnConform = function()
{
	if(this.dsList1.rowcount == 0)
	{
		this.gfnAlert("약정정보가 없습니다. 약정정보를 입력해주십시오.");
		return false;
	}
	
	var param = {};
	param.CD_ACNTUNIT = this.dsSearch.getColumn(0, "CD_ACNTUNIT");
	param.DS_ACNTUNIT = this.dsSearch.getColumn(0, "DS_ACNTUNIT");;
	param.DONG		  = this.dsSearch.getColumn(0, "NO_DONG");
	param.FLOOR		  = this.dsSearch.getColumn(0, "NO_FLOOR");
	param.HO 		  = this.dsSearch.getColumn(0, "NO_HO");
	param.UNIONMEMBER = this.dsSearch.getColumn(0, "NO_UNIONMEMBER");
	param.NO_SIZE 	  = this.dsList.getColumn(0, "NO_SIZE");
	param.TY_TYPE 	  = this.dsList.getColumn(0, "TY_TYPE");
	param.TY_DISTRIC  = this.dsList.getColumn(0, "TY_DISTRICT");
	param.RT_OPTION   = this.dsList.getColumn(0, "RT_OPTION");
	param.DS_OPTION   = this.dsList.getColumn(0, "DS_OPTION");
	param.AM_RECEIVED = this.dsList1.getColumn(0, "AM_SELLING");
	
	this.gfnFormOpen(this.FormInfo.CD_MODULE, "DRB_DLGCONTRACT", "fnDLGCONTRACT_callback", param);	
}

this.fnDLGCONTRACT_callback = function(strID, val)
{
	if(val == true)
	{
		this.FormBtns.Select.click();
	}
}


// 임대료 변경
this.divData_divDataTop_btnAM_LEASE_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.gfnConfirm("임대료를 변경하시겠습니까?","fnCallback_AM_LEASE");
};


this.fnCallback_AM_LEASE = function()
{
	if(this.gfnIsNull(this.dsList1.getColumn(0, "AM_LEASE")))
	{
		this.dsList1.getColumn(0, "AM_LEASE") = 0;
	}
	
	this.dsExecLease.clearData();
	var nrow = this.dsExecLease.addRow();
	
	this.dsExecLease.setColumn(nrow, "CD_ACNTUNIT", this.dsSearch.getColumn(0, "CD_ACNTUNIT"));
	this.dsExecLease.setColumn(nrow, "TY_GUBUN", this.dsSearch.getColumn(0, "TY_GUBUN"));
	this.dsExecLease.setColumn(nrow, "NO_CHASU", this.dsSearch.getColumn(0, "NO_CHASU"));
	this.dsExecLease.setColumn(nrow, "NO_DONG", this.dsSearch.getColumn(0, "NO_DONG"));
	this.dsExecLease.setColumn(nrow, "NO_FLOOR", this.dsSearch.getColumn(0, "NO_FLOOR"));
	this.dsExecLease.setColumn(nrow, "NO_HO", this.dsSearch.getColumn(0, "NO_HO"));
	this.dsExecLease.setColumn(nrow, "AM_LEASE", this.dsList1.getColumn(0, "AM_LEASE"));
	this.dsExecLease.setColumn(nrow, "ID_UPDATE", this.AuthClient.ID_USER);
	
	if(this.dsExecLease.rowcount == 0) return;
	
	var strSvcId    = "exec_lease";
	var strSvcType  = "save";
	var inProc		= "_dsProc";
	var inData      = "exec_lease=dsExecLease";
	var outData     = "";
	var strArg      = "";
	var callBackFnc = "fnCallback";
	
	this.gfnTransaction( strSvcId , 	// transaction을 구분하기 위한 svc id값
						strSvcType , 	// transaction을 요청할 구분
						inProc,			// Procedure 정보 Dataset 이름
						inData , 		// 입력값으로 보낼 dataset id , a=b형태로 실제이름과 입력이름을 매칭
						outData , 		// 처리결과값으로 받을 dataset id, a=b형태로 실제이름과 입력이름을 매칭
						strArg, 			// 입력갑스로 보낼 arguments, strFormData="20120607"
						callBackFnc); // 통신방법 정의 [생략가능]
}


// 관리비 변경
this.divData_divDataTop_btnAM_MANAGEMENT_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.gfnConfirm("임대료를 변경하시겠습니까?","fnCallback_AM_MANAGEMENT");
};


this.fnCallback_AM_MANAGEMENT = function()
{
	if(this.gfnIsNull(this.dsList1.getColumn(0, "AM_MANAGEMENT")))
	{
		this.dsList1.getColumn(0, "AM_MANAGEMENT") = 0;
	}
	
	this.dsExecManage.clearData();
	var nrow = this.dsExecManage.addRow();
	
	this.dsExecManage.setColumn(nrow, "CD_ACNTUNIT", this.dsSearch.getColumn(0, "CD_ACNTUNIT"));
	this.dsExecManage.setColumn(nrow, "TY_GUBUN", this.dsSearch.getColumn(0, "TY_GUBUN"));
	this.dsExecManage.setColumn(nrow, "NO_CHASU", this.dsSearch.getColumn(0, "NO_CHASU"));
	this.dsExecManage.setColumn(nrow, "NO_DONG", this.dsSearch.getColumn(0, "NO_DONG"));
	this.dsExecManage.setColumn(nrow, "NO_FLOOR", this.dsSearch.getColumn(0, "NO_FLOOR"));
	this.dsExecManage.setColumn(nrow, "NO_HO", this.dsSearch.getColumn(0, "NO_HO"));
	this.dsExecManage.setColumn(nrow, "AM_MANAGEMENT", this.dsList1.getColumn(0, "AM_MANAGEMENT"));
	this.dsExecManage.setColumn(nrow, "ID_UPDATE", this.AuthClient.ID_USER);
	
	if(this.dsExecManage.rowcount == 0) return;
	
	var strSvcId    = "exec_manage";
	var strSvcType  = "save";
	var inProc		= "_dsProc";
	var inData      = "exec_manage=dsExecManage";
	var outData     = "";
	var strArg      = "";
	var callBackFnc = "fnCallback";
	
	this.gfnTransaction( strSvcId , 	// transaction을 구분하기 위한 svc id값
						strSvcType , 	// transaction을 요청할 구분
						inProc,			// Procedure 정보 Dataset 이름
						inData , 		// 입력값으로 보낼 dataset id , a=b형태로 실제이름과 입력이름을 매칭
						outData , 		// 처리결과값으로 받을 dataset id, a=b형태로 실제이름과 입력이름을 매칭
						strArg, 			// 입력갑스로 보낼 arguments, strFormData="20120607"
						callBackFnc); // 통신방법 정의 [생략가능]
}

// 임대계약
this.fnContract = function()
{
	if(this.dsList.rowcount == 0)
	{
		this.gfnAlert("약정(계약금)을 먼저 등록하셔야 합니다.");
		return false;
	}
	
	var cntC = 0;
	var am_received = 0;
	
	for(var i = 0; i < this.dsList.rowcount; i++)
	{
		if(this.gfnGetFlag(this.dsList, i) != "I" && this.gfnGetFlag(this.dsList, i) != "U")
		{
			if(this.dsList.getColumn(i, "TY_NAPIP") == "C")
			{
				cntC++;
				am_received += nexacro.toNumber(this.dsList.getColumn(i, "AM_SELLING"),0);
			}
		}
	}
	
	if(cntC == 0)
	{
		this.gfnAlert("약정(계약금)을 먼저 등록하셔야 합니다.");
		return false;
	}	
	
	if(am_received <= 0)
	{
		this.gfnAlert("약정(계약금)의 액수가 0원 이상이어야 합니다.");
		return false;
	}
	
	var param = {};
	param.CD_ACNTUNIT = this.dsSearch.getColumn(0, "CD_ACNTUNIT");
	param.DS_ACNTUNIT = this.dsSearch.getColumn(0, "DS_ACNTUNIT");
	param.DONG = this.dsSearch.getColumn(0, "NO_DONG");
	param.FLOOR = this.dsSearch.getColumn(0, "NO_FLOOR");
	param.HO = this.dsSearch.getColumn(0, "NO_HO");
	param.AM_RECIVE = am_received;
	param.TY_TYPE = this.dsList1.getColumn(0, "TY_DISTRICT");
	param.RT_OPTION = this.dsList1.getColumn(0, "RT_OPTION");
	param.DS_OPTION = this.dsList1.getColumn(0, "DS_OPTION");
	
	this.gfnFormOpen(this.FormInfo.CD_MODULE, "DLB_DLGCONTRACT", "fnContract_callback", param);	
}

this.fnContract_callback = function(strId, val)
{
	if(val == true)
	{
		this.FormBtns.Select.click();
	}	
}

// 계약변경
this.fnContractChg = function()
{
	var param = {};
	param.CD_ACNTUNIT = this.dsSearch.getColumn(0, "CD_ACNTUNIT");
	param.DS_ACNTUNIT = this.dsSearch.getColumn(0, "DS_ACNTUNIT");
	param.DONG = this.dsSearch.getColumn(0, "NO_DONG");
	param.FLOOR = this.dsSearch.getColumn(0, "NO_FLOOR");
	param.HO = this.dsSearch.getColumn(0, "NO_HO");
	param.TY_TYPE = this.dsList1.getColumn(0, "TY_DISTRICT");
	param.RT_OPTION = this.dsList1.getColumn(0, "RT_OPTION");
	param.DS_OPTION = this.dsList1.getColumn(0, "DS_OPTION");
	
	this.gfnFormOpen(this.FormInfo.CD_MODULE, "DLB_DLGCONTRACT_CHANGE", "fnContract_callback", param);	
}

// 수납내역
this.fnReceived = function()
{
	var param = {};
	param.CD_ACNTUNIT = this.dsSearch.getColumn(0, "CD_ACNTUNIT");
	param.DS_ACNTUNIT = this.dsSearch.getColumn(0, "DS_ACNTUNIT");
	param.DONG = this.dsSearch.getColumn(0, "NO_DONG");
	param.FLOOR = this.dsSearch.getColumn(0, "NO_FLOOR");
	param.HO = this.dsSearch.getColumn(0, "NO_HO");
	
	this.gfnFormOpen(this.FormInfo.CD_MODULE, "DLB_SELECT_RECEIVED", "fnContract_callback", param);	
}

// 계약불가처리
this.fnContImpossible = function()
{
	var msg = "해당 세대의 계약처리여부 상태값을 변경합니다.\r\n계약불가->계약가능 / 계약가능->계약불가.\r\n처리 하시겠습니까?";
	this.gfnConfirm(msg, "fnContImpossible_callback");
}

this.fnContImpossible_callback = function(strId, val)
{
	if(val == true)
	{
		this.dsContHandle.clearData();
		var nrow = this.dsContHandle.addRow();
		
		this.dsContHandle.setColumn(nrow, "CD_ACNTUNIT", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(0,6));
		this.dsContHandle.setColumn(nrow, "TY_GUBUN", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(6,1));
		this.dsContHandle.setColumn(nrow, "NO_CHASU", this.dsSearch.getColumn(0, "CD_ACNTUNIT").substr(7,2));
		this.dsContHandle.setColumn(nrow, "NO_DONG", this.dsSearch.getColumn(0, "NO_DONG"));
		this.dsContHandle.setColumn(nrow, "NO_FLOOR", this.dsSearch.getColumn(0, "NO_FLOOR"));
		this.dsContHandle.setColumn(nrow, "NO_HO", this.dsSearch.getColumn(0, "NO_HO"));
		this.dsContHandle.setColumn(nrow, "ID_UPDATE", this.AuthClient.ID_USER);

		if(this.dsContHandle.rowcount == 0) return;
		
		var strSvcId    = "cont_handle";
		var strSvcType  = "save";
		var inProc		= "_dsProc";
		var inData      = "cont_handle=dsContHandle";
		var outData     = "";
		var strArg      = "";
		var callBackFnc = "fnCallback";
		
		this.gfnTransaction( strSvcId , 	// transaction을 구분하기 위한 svc id값
							strSvcType , 	// transaction을 요청할 구분
							inProc,			// Procedure 정보 Dataset 이름
							inData , 		// 입력값으로 보낼 dataset id , a=b형태로 실제이름과 입력이름을 매칭
							outData , 		// 처리결과값으로 받을 dataset id, a=b형태로 실제이름과 입력이름을 매칭
							strArg, 			// 입력갑스로 보낼 arguments, strFormData="20120607"
							callBackFnc); // 통신방법 정의 [생략가능]
	}
}

// 계약취소
this.fnContractCancel = function()
{
	var param = {};
	param.CD_ACNTUNIT = this.dsSearch.getColumn(0, "CD_ACNTUNIT");
	param.DS_ACNTUNIT = this.dsSearch.getColumn(0, "DS_ACNTUNIT");
	param.DONG = this.dsSearch.getColumn(0, "NO_DONG");
	param.FLOOR = this.dsSearch.getColumn(0, "NO_FLOOR");
	param.HO = this.dsSearch.getColumn(0, "NO_HO");
	param.NO_SIZE = this.dsList1.getColumn(0, "NO_SIZE");
	param.TY_TYPE = this.dsList1.getColumn(0, "TY_TYPE");
	param.DT_CONTRACT = this.dsList1.getColumn(0, "DT_CONTRACT");
	param.DS_CONTRACTOR = this.dsList1.getColumn(0, "DS_CONTRACTOR");
	param.NO_JUMIN = this.dsList1.getColumn(0, "NO_JUMIN");
	param.RT_OPTION = this.dsList1.getColumn(0, "RT_OPTION");
	param.DS_EMAIL = this.dsList1.getColumn(0, "DS_EMAIL");
	param.NO_OFFICETEL = this.dsList1.getColumn(0, "NO_OFFICETEL");
	param.NO_TEL = this.dsList1.getColumn(0, "NO_TEL");
	param.NO_MOBILE = this.dsList1.getColumn(0, "NO_MOBILE");
	
	this.gfnFormOpen(this.FormInfo.CD_MODULE, "DLB_DLGCONTRACTRETRACT", "fnContract_callback", param);	
}

// 공동명의
this.fnJoint = function()
{
	var param = {};
	param.CD_ACNTUNIT = this.dsSearch.getColumn(0, "CD_ACNTUNIT");
	param.DS_ACNTUNIT = this.dsSearch.getColumn(0, "DS_ACNTUNIT");
	param.DONG = this.dsSearch.getColumn(0, "NO_DONG");
	param.FLOOR = this.dsSearch.getColumn(0, "NO_FLOOR");
	param.HO = this.dsSearch.getColumn(0, "NO_HO");
	param.TY_TYPE = this.dsList1.getColumn(0, "TY_TYPE");
	param.RT_OPTION = this.dsList1.getColumn(0, "RT_OPTION");
	param.DS_OPTION = this.dsList1.getColumn(0, "DS_OPTION");
	
	this.gfnFormOpen(this.FormInfo.CD_MODULE, "DLB_JOINTCONTRACTOR", "fnContract_callback", param);	
}]]></Script>
    <Objects>
      <Dataset id="dsList">
        <ColumnInfo>
          <Column id="TY_STATE" type="STRING" size="256"/>
          <Column id="TY_BUNYANG" type="STRING" size="256"/>
          <Column id="NO_SIZE" type="BIGDECIMAL" size="256"/>
          <Column id="TY_TYPE" type="STRING" size="256"/>
          <Column id="TY_DISTRICT" type="STRING" size="256"/>
          <Column id="RT_OPTION" type="STRING" size="256"/>
          <Column id="DS_OPTION" type="STRING" size="256"/>
          <Column id="DT_CONTRACT" type="STRING" size="256"/>
          <Column id="TY_CONTRACTOR" type="STRING" size="256"/>
          <Column id="DS_CONTRACTOR" type="STRING" size="256"/>
          <Column id="NO_JUMIN" type="STRING" size="256"/>
          <Column id="NO_RECPOST" type="STRING" size="256"/>
          <Column id="DS_RECADDR2" type="STRING" size="256"/>
          <Column id="DS_RECADDR3" type="STRING" size="256"/>
          <Column id="NO_POST" type="STRING" size="256"/>
          <Column id="DS_ADDR2" type="STRING" size="256"/>
          <Column id="DS_ADDR3" type="STRING" size="256"/>
          <Column id="NO_TEL" type="STRING" size="256"/>
          <Column id="NO_OFFICETEL" type="STRING" size="256"/>
          <Column id="NO_MOBILE" type="STRING" size="256"/>
          <Column id="DS_EMAIL" type="STRING" size="256"/>
          <Column id="CD_VENDOR" type="STRING" size="256"/>
          <Column id="DS_VENDOR1" type="STRING" size="256"/>
          <Column id="DS_UPTAE" type="STRING" size="256"/>
          <Column id="DS_UPJONG" type="STRING" size="256"/>
          <Column id="DS_REMARK" type="STRING" size="256"/>
          <Column id="AM_BUNYANGPLAN" type="BIGDECIMAL" size="256"/>
          <Column id="AM_BUNYANGGET" type="BIGDECIMAL" size="256"/>
          <Column id="AM_KASU" type="BIGDECIMAL" size="256"/>
          <Column id="DS_ACNTUNIT" type="STRING" size="256"/>
          <Column id="YN_OPTION" type="STRING" size="256"/>
          <Column id="AM_MLEASE" type="BIGDECIMAL" size="256"/>
          <Column id="DT_LEASE_FR" type="STRING" size="256"/>
          <Column id="DT_LEASE_TO" type="STRING" size="256"/>
          <Column id="Column1" type="INT" size="256"/>
          <Column id="YN_JOINT" type="STRING" size="256"/>
          <Column id="YN_AUTOLEASE" type="STRING" size="256"/>
          <Column id="AM_SUNSU" type="BIGDECIMAL" size="256"/>
          <Column id="YN_SUNSU" type="STRING" size="256"/>
          <Column id="YN_RETURN" type="STRING" size="256"/>
          <Column id="DT_RETURN" type="STRING" size="256"/>
          <Column id="NO_CONTRACT" type="STRING" size="256"/>
          <Column id="AM_MANAGEMENT" type="BIGDECIMAL" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="_dsProc">
        <ColumnInfo>
          <Column id="TARGET" type="STRING" size="256"/>
          <Column id="SP" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="TARGET">select</Col>
            <Col id="SP">DLBPR_AGREEMENT_SELECT</Col>
          </Row>
          <Row>
            <Col id="TARGET">insert</Col>
            <Col id="SP">DLBPR_AGREEMENT_INSERT</Col>
          </Row>
          <Row>
            <Col id="TARGET">update</Col>
            <Col id="SP">DLBPR_AGREEMENT_UPDATE</Col>
          </Row>
          <Row>
            <Col id="TARGET">delete</Col>
            <Col id="SP">DLBPR_AGREEMENT_DELETE</Col>
          </Row>
          <Row>
            <Col id="TARGET">select1</Col>
            <Col id="SP">DLBPR_CONTRACT_DETAIL_SELECT</Col>
          </Row>
          <Row>
            <Col id="TARGET">exec_lease</Col>
            <Col id="SP">DLBPR_CONTRACT_LEASECHG</Col>
          </Row>
          <Row>
            <Col id="TARGET">exec_manage</Col>
            <Col id="SP">DLBPR_CONTRACT_MANAGEMENTCHG</Col>
          </Row>
          <Row>
            <Col id="TARGET">cont_handle</Col>
            <Col id="SP">DRBPR_CONTRACTPOSSILBE_HANDLE</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsSearch" onvaluechanged="dsSearch_onvaluechanged">
        <ColumnInfo>
          <Column id="CD_ACNTUNIT" type="STRING" size="256"/>
          <Column id="DS_ACNTUNIT" type="STRING" size="256"/>
          <Column id="NO_DONG" type="STRING" size="256"/>
          <Column id="NO_FLOOR" type="STRING" size="256"/>
          <Column id="NO_HO" type="STRING" size="256"/>
          <Column id="YN_CONTRACT" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="dsYN_JOINT">
        <ColumnInfo>
          <Column id="CD_CODE" type="STRING" size="256"/>
          <Column id="DS_CODE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CD_CODE">Y</Col>
            <Col id="DS_CODE">있음</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">N</Col>
            <Col id="DS_CODE">없음</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsTY_STATE">
        <ColumnInfo>
          <Column id="CD_CODE" type="STRING" size="256"/>
          <Column id="DS_CODE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CD_CODE">O</Col>
            <Col id="DS_CODE">전체보기</Col>
          </Row>
          <Row>
            <Col id="DS_CODE">미분양</Col>
            <Col id="CD_CODE">X</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">K</Col>
            <Col id="DS_CODE">분양</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsYN_BUNYANG">
        <ColumnInfo>
          <Column id="CD_CODE" type="STRING" size="256"/>
          <Column id="DS_CODE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CD_CODE">Y</Col>
            <Col id="DS_CODE">분양</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">N</Col>
            <Col id="DS_CODE">임대</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsList1" onvaluechanged="dsList1_onvaluechanged" updatecontrol="true" enableevent="true"/>
      <Dataset id="dsListSum">
        <ColumnInfo>
          <Column id="AM_LAND" type="BIGDECIMAL" size="256"/>
          <Column id="AM_BUILDING" type="BIGDECIMAL" size="256"/>
          <Column id="AM_VAT" type="BIGDECIMAL" size="256"/>
          <Column id="AM_SELLING" type="BIGDECIMAL" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="dsYN_AUTOLEASE">
        <ColumnInfo>
          <Column id="CD_CODE" type="STRING" size="256"/>
          <Column id="DS_CODE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CD_CODE">Y</Col>
            <Col id="DS_CODE">자동</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">N</Col>
            <Col id="DS_CODE">수동</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsYN_SUNSU">
        <ColumnInfo>
          <Column id="CD_CODE" type="STRING" size="256"/>
          <Column id="DS_CODE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CD_CODE">Y</Col>
            <Col id="DS_CODE">Yes</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">N</Col>
            <Col id="DS_CODE">No</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsYN_RETURN">
        <ColumnInfo>
          <Column id="CD_CODE" type="STRING" size="256"/>
          <Column id="DS_CODE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CD_CODE">Y</Col>
            <Col id="DS_CODE">Yes</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">N</Col>
            <Col id="DS_CODE">No</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsTY_CONTRACTOR">
        <ColumnInfo>
          <Column id="CD_CODE" type="STRING" size="256"/>
          <Column id="DS_CODE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CD_CODE">P</Col>
            <Col id="DS_CODE">개인</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">C</Col>
            <Col id="DS_CODE">법인</Col>
          </Row>
          <Row>
            <Col id="CD_CODE">A</Col>
            <Col id="DS_CODE">개인사업자</Col>
          </Row>
        </Rows>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item0" compid="divSearch.form.ctxtCD_ACNTUNIT" propid="value" datasetid="dsSearch" columnid="CD_ACNTUNIT"/>
      <BindItem id="item1" compid="divSearch.form.ctxtDS_ACNTUNIT" propid="value" datasetid="dsSearch" columnid="DS_ACNTUNIT"/>
      <BindItem id="item2" compid="divSearch.form.ctxtNO_DONG" propid="value" datasetid="dsSearch" columnid="NO_DONG"/>
      <BindItem id="item3" compid="divSearch.form.ctxtNO_FLOOR" propid="value" datasetid="dsSearch" columnid="NO_FLOOR"/>
      <BindItem id="item4" compid="divSearch.form.ctxtNO_HO" propid="value" datasetid="dsSearch" columnid="NO_HO"/>
      <BindItem id="item5" compid="divSearch.form.ctxtYN_CONTRACT" propid="value" datasetid="dsSearch" columnid="YN_CONTRACT"/>
      <BindItem id="item6" compid="divData.form.divDataTop.form.txtTY_STATE" propid="value" datasetid="dsList1" columnid="TY_STATE"/>
      <BindItem id="item7" compid="divData.form.divDataTop.form.txtTY_BUNYANG" propid="value" datasetid="dsList1" columnid="TY_BUNYANG"/>
      <BindItem id="item8" compid="divData.form.divDataTop.form.txtDT_CONTRACT" propid="value" datasetid="dsList1" columnid="DT_CONTRACT"/>
      <BindItem id="item9" compid="divData.form.divDataTop.form.rdoTY_CONTRACTOR" propid="value" datasetid="dsList1" columnid="TY_CONTRACTOR"/>
      <BindItem id="item10" compid="divData.form.divDataTop.form.txtDS_CONTRACTOR" propid="value" datasetid="dsList1" columnid="DS_CONTRACTOR"/>
      <BindItem id="item11" compid="divData.form.divDataTop.form.txtNO_JUMIN" propid="value" datasetid="dsList1" columnid="NO_JUMIN"/>
      <BindItem id="item12" compid="divData.form.divDataTop.form.txtNO_TEL" propid="value" datasetid="dsList1" columnid="NO_TEL"/>
      <BindItem id="item13" compid="divData.form.divDataTop.form.txtNO_OFFICETEL" propid="value" datasetid="dsList1" columnid="NO_OFFICETEL"/>
      <BindItem id="item14" compid="divData.form.divDataTop.form.txtNO_MOBILE" propid="value" datasetid="dsList1" columnid="NO_MOBILE"/>
      <BindItem id="item15" compid="divData.form.divDataTop.form.txtNO_POST" propid="value" datasetid="dsList1" columnid="NO_POST"/>
      <BindItem id="item16" compid="divData.form.divDataTop.form.txtDS_ADDR2" propid="value" datasetid="dsList1" columnid="DS_ADDR2"/>
      <BindItem id="item17" compid="divData.form.divDataTop.form.txtDS_ADDR3" propid="value" datasetid="dsList1" columnid="DS_ADDR3"/>
      <BindItem id="item18" compid="divData.form.divDataTop.form.txtNO_RECPOST" propid="value" datasetid="dsList1" columnid="NO_RECPOST"/>
      <BindItem id="item19" compid="divData.form.divDataTop.form.txtDS_RECADDR2" propid="value" datasetid="dsList1" columnid="DS_RECADDR2"/>
      <BindItem id="item20" compid="divData.form.divDataTop.form.txtDS_RECADDR3" propid="value" datasetid="dsList1" columnid="DS_RECADDR3"/>
      <BindItem id="item21" compid="divData.form.divDataTop.form.txtDS_EMAIL" propid="value" datasetid="dsList1" columnid="DS_EMAIL"/>
      <BindItem id="item22" compid="divData.form.divDataTop.form.rdoYN_JOINT" propid="value" datasetid="dsList1" columnid="YN_JOINT"/>
      <BindItem id="item23" compid="divData.form.divDataTop.form.rdoYN_AUTOLEASE" propid="value" datasetid="dsList1" columnid="YN_AUTOLEASE"/>
      <BindItem id="item24" compid="divData.form.divDataTop.form.txtAM_LEASE" propid="value" datasetid="dsList1" columnid="AM_MLEASE"/>
      <BindItem id="item25" compid="divData.form.divDataTop.form.crdoYN_SUNSU" propid="value" datasetid="dsList1" columnid="YN_SUNSU"/>
      <BindItem id="item26" compid="divData.form.divDataTop.form.crdoYN_RETURN" propid="value" datasetid="dsList1" columnid="YN_RETURN"/>
      <BindItem id="item27" compid="divData.form.divDataTop.form.txtAM_MANAGEMENT" propid="value" datasetid="dsList1" columnid="AM_MANAGEMENT"/>
      <BindItem id="item28" compid="divData.form.divDataTop.form.txtAM_SUNSU" propid="value" datasetid="dsList1" columnid="AM_SUNSU"/>
      <BindItem id="item29" compid="divData.form.divDataTop.form.ctclDT_RETURN" propid="value" datasetid="dsList1" columnid="DT_RETURN"/>
      <BindItem id="item30" compid="divData.form.divDataBottom.form.txtAM_LAND" propid="value" datasetid="dsListSum" columnid="AM_LAND"/>
      <BindItem id="item31" compid="divData.form.divDataBottom.form.txtAM_BUILDING" propid="value" datasetid="dsListSum" columnid="AM_BUILDING"/>
      <BindItem id="item32" compid="divData.form.divDataBottom.form.txtAM_VAT" propid="value" datasetid="dsListSum" columnid="AM_VAT"/>
      <BindItem id="item33" compid="divData.form.divDataBottom.form.txtAM_SELLING" propid="value" datasetid="dsListSum" columnid="AM_SELLING"/>
    </Bind>
  </Form>
</FDL>
