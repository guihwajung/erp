<?xml version="1.0" encoding="utf-8"?>
<FDL version="2.0">
  <Form id="DRB_DLGCONTRACT" width="850" height="680" maxwidth="880" maxheight="730" titletext="분양계약" onload="form_onload">
    <Layouts>
      <Layout>
        <Div id="divData" taborder="0" left="0" top="90" right="0" cssclass="div_DATA_Bg" text="" height="540">
          <Layouts>
            <Layout>
              <Static id="staNO_JUMIN" taborder="0" left="0" top="57" width="127" height="30" cssclass="sta_WF_tablelabel" textAlign="right" text="주민등록번호"/>
              <Static id="staAM_RECEIVED" taborder="28" text="수납금액" left="0" top="360" width="127" height="30" cssclass="sta_WF_tablelabel" textAlign="right"/>
              <Static id="staTY_POSITION" taborder="3" text="수납처" left="0" top="389" width="127" height="30" cssclass="sta_WF_tablelabel" textAlign="right"/>
              <Static id="staBg1" taborder="26" left="staNO_JUMIN:-1" top="57" height="30" cssclass="sta_WF_tablebg" width="155"/>
              <Static id="staBg3_00" taborder="29" left="staAM_RECEIVED:-1" top="360" height="30" cssclass="sta_WF_tablebg" text="" right="0"/>
              <Static id="staBg5" taborder="27" left="staTY_POSITION:-1" top="389" height="30" cssclass="sta_WF_tablebg" right="0"/>
              <Static id="staNO_RECPOST" taborder="30" text="주민등록주소" left="0" top="115" width="127" height="30" cssclass="sta_WF_tablelabel" textAlign="right"/>
              <Static id="staBg2_00_01_00" taborder="31" left="staNO_RECPOST:-1" top="115" right="0" height="30" cssclass="sta_WF_tablebg"/>
              <Static id="staTITLE00" taborder="32" left="0" top="3" width="96.67%" height="20" cssclass="sta_TITLE_Bg" textAlign="left" text="계약자정보"/>
              <Static id="staDT_CONTRACT" taborder="36" text="계약일자" left="0" top="28" width="127" height="30" textAlign="right" cssclass="sta_WF_tablelabelE"/>
              <Static id="staBg2_01" taborder="35" left="staDT_CONTRACT:-1" top="28" height="30" cssclass="sta_WF_tablebg" width="155"/>
              <Static id="staTY_CONTRACTOR" taborder="33" text="계약구분" left="staBg2_01:-1" top="28" width="127" height="30" cssclass="sta_WF_tablelabel" textAlign="right"/>
              <Static id="staBg2_00_02" taborder="34" left="staTY_CONTRACTOR:-1" top="28" right="0" height="30" cssclass="sta_WF_tablebg"/>
              <Calendar id="calDT_CONTRACT" taborder="1" left="staDT_CONTRACT:5" top="32" width="108" height="22"/>
              <Static id="staTITLE00_00" taborder="37" left="0" top="335" width="96.59%" height="20" cssclass="sta_TITLE_Bg" textAlign="left" text="계약금 수납"/>
              <Static id="staCD_GUJA" taborder="39" text="납입계좌" left="0" top="418" width="127" height="30" cssclass="sta_WF_tablelabel" textAlign="right"/>
              <Static id="staBgCD_GUJA" taborder="38" left="staCD_GUJA:-1" top="418" height="30" cssclass="sta_WF_tablebg" right="0"/>
              <MaskEdit id="mskAM_RECEIVED" taborder="19" left="staAM_RECEIVED:5" top="364" width="142" height="22" format="###,###,###,###,##0" type="number"/>
              <Static id="staTY_MONEY" taborder="40" text="납입구분" left="0" top="447" width="127" height="30" textAlign="right" cssclass="sta_WF_tablelabelE"/>
              <Static id="staBg5_00_00" taborder="41" left="staTY_MONEY:-1" top="447" height="30" cssclass="sta_WF_tablebg" width="235"/>
              <Static id="staNO_FINANCING" taborder="42" text="융자사" left="staBg5_00_00:-1" top="447" width="127" height="30" cssclass="sta_WF_tablelabel" textAlign="right"/>
              <Static id="staBg2_00_01_00_00_00" taborder="43" left="staNO_FINANCING:-1" top="447" right="0" height="30" cssclass="sta_WF_tablebg"/>
              <Static id="staYN_DELAY" taborder="44" text="연체적용" left="0" top="476" width="127" height="30" cssclass="sta_WF_tablelabel" textAlign="right"/>
              <Static id="staBg5_00_00_00" taborder="45" left="staYN_DELAY:-1" top="476" height="30" cssclass="sta_WF_tablebg" right="0"/>
              <Radio id="rdoTY_CONTRACTOR" taborder="2" left="staTY_CONTRACTOR:5" top="33" height="20" innerdataset="dsTY_CONTRACTOR" fittocontents="width" width="178" text="승인" codecolumn="CODE" datacolumn="VALUE" enable="true" direction="vertical"/>
              <Static id="staDS_CONTRACTOR" taborder="46" text="계약자명" left="staBg1:-1" top="57" width="127" height="30" textAlign="right" cssclass="sta_WF_tablelabelE"/>
              <Static id="staBg2_00_02_00" taborder="47" left="staDS_CONTRACTOR:-1" top="57" height="30" cssclass="sta_WF_tablebg" width="155"/>
              <Static id="staTY_DISTRICT" taborder="48" text="군/OPTIOM" left="staBg2_00_02_00:-1" top="57" width="107" height="30" cssclass="sta_WF_tablelabel" textAlign="right"/>
              <Static id="staBg2_00_02_00_00" taborder="49" left="staTY_DISTRICT:-1" top="57" height="30" cssclass="sta_WF_tablebg" right="0"/>
              <Static id="staNO_TEL" taborder="50" left="0" top="86" width="127" height="30" cssclass="sta_WF_tablelabel" textAlign="right" text="☎(자택)"/>
              <Static id="staBg1_00" taborder="51" left="staNO_TEL:-1" top="86" height="30" cssclass="sta_WF_tablebg" width="155"/>
              <Static id="staNO_OFFICETEL" taborder="52" text="☎(직장)" left="staBg1_00:-1" top="86" width="127" height="30" cssclass="sta_WF_tablelabel" textAlign="right"/>
              <Static id="staBg2_00_02_00_01" taborder="53" left="staNO_OFFICETEL:-1" top="86" height="30" cssclass="sta_WF_tablebg" width="155"/>
              <Static id="staNO_MOBILE" taborder="54" text="휴대폰" left="staBg2_00_02_00_01:-1" top="86" width="107" height="30" textAlign="right" cssclass="sta_WF_tablelabelE"/>
              <Static id="staBg2_00_02_00_00_00" taborder="55" left="staNO_MOBILE:-1" top="86" height="30" cssclass="sta_WF_tablebg" right="0"/>
              <Static id="staNO_POST" taborder="56" text="현주소" left="0" top="144" width="127" height="30" cssclass="sta_WF_tablelabel" textAlign="right"/>
              <Static id="staBg2_00_01_00_01" taborder="57" left="staNO_POST:-1" top="144" right="0" height="30" cssclass="sta_WF_tablebg"/>
              <Static id="staDS_EMAIL" taborder="58" left="0" top="173" width="127" height="30" cssclass="sta_WF_tablelabel" textAlign="right" text="e-Mail"/>
              <Static id="staBg1_00_00" taborder="59" left="staDS_EMAIL:-1" top="173" height="30" cssclass="sta_WF_tablebg" width="155"/>
              <Static id="statDS_UPTAE" taborder="60" text="업태" left="staBg1_00_00:-1" top="173" width="127" height="30" cssclass="sta_WF_tablelabel" textAlign="right"/>
              <Static id="staBg2_00_02_00_01_00" taborder="61" left="statDS_UPTAE:-1" top="173" height="30" cssclass="sta_WF_tablebg" width="155"/>
              <Static id="staDS_UPJONG" taborder="62" text="업종" left="560" top="173" width="107" height="30" cssclass="sta_WF_tablelabel" textAlign="right"/>
              <Static id="staBg2_00_02_00_00_00_00" taborder="63" left="staDS_UPJONG:-1" top="173" height="30" cssclass="sta_WF_tablebg" right="0"/>
              <Static id="staCD_VENDOR" taborder="64" left="0" top="202" width="127" height="30" cssclass="sta_WF_tablelabel" textAlign="right" text="사업자번호"/>
              <Static id="staBg1_00_00_00" taborder="65" left="staCD_VENDOR:-1" top="202" height="30" cssclass="sta_WF_tablebg" width="155"/>
              <Static id="staTY_EBILL" taborder="66" text="세금계산서발급구분" left="staBg1_00_00_00:-1" top="202" width="127" height="30" cssclass="sta_WF_tablelabel" textAlign="right"/>
              <Static id="staBg2_00_02_00_01_00_00" taborder="67" left="staTY_EBILL:-1" top="202" height="30" cssclass="sta_WF_tablebg" width="155"/>
              <Static id="staYN_BUNYANG" taborder="68" text="분양구분" left="staBg2_00_02_00_01_00_00:-1" top="202" width="107" height="30" cssclass="sta_WF_tablelabel" textAlign="right"/>
              <Static id="staBg2_00_02_00_00_00_00_00" taborder="69" left="staYN_BUNYANG:-1" top="202" height="30" cssclass="sta_WF_tablebg" right="0"/>
              <Static id="staDS_VENDOR" taborder="70" left="0" top="231" width="127" height="30" cssclass="sta_WF_tablelabel" textAlign="right" text="상호"/>
              <Static id="staBg1_00_00_00_00" taborder="71" left="staDS_VENDOR:-1" top="231" height="30" cssclass="sta_WF_tablebg" width="155"/>
              <Static id="staYN_JOINT" taborder="72" text="공동명의계약자여부" left="staBg1_00_00_00_00:-1" top="231" width="127" height="30" cssclass="sta_WF_tablelabel" textAlign="right"/>
              <Static id="staBg2_00_02_00_01_00_00_00" taborder="73" left="staYN_JOINT:-1" top="231" height="30" cssclass="sta_WF_tablebg" width="155"/>
              <Static id="staNO_CONTRACT" taborder="74" text="계약서번호" left="staBg2_00_02_00_01_00_00_00:-1" top="231" width="107" height="30" cssclass="sta_WF_tablelabel" textAlign="right"/>
              <Static id="staBg2_00_02_00_00_00_00_00_00" taborder="75" left="staNO_CONTRACT:-1" top="231" height="30" cssclass="sta_WF_tablebg" right="0"/>
              <Static id="staDS_REMARK" taborder="76" left="0" top="260" width="127" height="70" cssclass="sta_WF_tablelabel" textAlign="right" text="특이사항"/>
              <Static id="staBg1_00_00_00_00_00" taborder="77" left="staDS_REMARK:-1" top="260" height="70" cssclass="sta_WF_tablebg" right="0"/>
              <Edit id="txtDS_CONTRACTOR" taborder="4" height="22" value="" top="61" left="staDS_CONTRACTOR:5" right="295" maxlength="15"/>
              <Edit id="txtNO_TEL" taborder="7" height="22" value="" top="90" left="staNO_TEL:5" width="143" maxlength="15" inputtype="number"/>
              <Edit id="txtNO_OFFICETEL" taborder="8" height="22" value="" top="90" left="staNO_OFFICETEL:5" right="295" maxlength="15" inputtype="number"/>
              <Edit id="txtTY_DISTRICT" taborder="5" height="22" value="" top="61" left="staTY_DISTRICT:5" width="33" maxlength="15" readonly="true"/>
              <Div id="ccfRT_OPTION" taborder="6" CDTextWidth="50" left="txtTY_DISTRICT:5" top="61" height="22" url="cmm::cmmCodeFind.xfdl" CodeFindName="DRX_CFCHANGEOPTION_CODEFIND" right="6"/>
              <Div id="ccfNO_POST" taborder="11" CDTextWidth="100" left="staNO_POST:5" top="148" width="402" height="22" url="cmm::cmmCodeFind.xfdl" CodeFindName="DZX_CFZIP_STREET"/>
              <Edit id="txtDS_RECADDR" taborder="12" height="22" value="" top="148" left="ccfNO_POST:4" onkillfocus="divData_txtDS_ADDR_onkillfocus" maxlength="30" right="6"/>
              <Div id="ccfNO_RECPOST" taborder="9" CDTextWidth="100" left="staNO_RECPOST:5" top="119" width="402" height="22" url="cmm::cmmCodeFind.xfdl" CodeFindName="DZX_CFZIP_STREET"/>
              <Edit id="txtDS_ADDR" taborder="10" height="22" value="" top="119" left="ccfNO_RECPOST:4" maxlength="30" right="6"/>
              <Edit id="txtDS_EMAIL" taborder="13" height="22" value="" top="177" left="staDS_EMAIL:5" width="143" maxlength="30"/>
              <Edit id="txtDS_UPTAE" taborder="78" height="22" value="" top="177" left="statDS_UPTAE:5" width="143" maxlength="15" readonly="true"/>
              <Edit id="txtDS_UPJONG" taborder="79" height="22" value="" top="177" left="staDS_UPJONG:5" maxlength="15" readonly="true" right="6"/>
              <Edit id="txtCD_VENDOR" taborder="80" height="22" value="" top="206" left="staCD_VENDOR:5" width="143" maxlength="10" readonly="true" inputtype="digit"/>
              <Edit id="txtDS_VENDOR" taborder="81" height="22" value="" top="235" left="staDS_VENDOR:5" width="143" maxlength="15" readonly="true"/>
              <Edit id="txtNO_CONTRACT" taborder="17" height="22" value="" top="235" left="staNO_CONTRACT:5" maxlength="20" right="6"/>
              <Radio id="rdoYN_EBILL" taborder="14" left="staTY_EBILL:5" top="207" height="20" innerdataset="dsTY_EBILL" fittocontents="width" width="148" text="승인" codecolumn="CODE" datacolumn="VALUE" enable="true" direction="vertical"/>
              <Radio id="rdoYN_BUNYANG" taborder="15" left="staYN_BUNYANG:5" top="207" height="20" innerdataset="dsYN_BUNYANG" fittocontents="width" width="138" text="승인" codecolumn="CODE" datacolumn="VALUE" enable="true" direction="vertical"/>
              <Radio id="rdoYN_JOINT" taborder="16" left="staYN_JOINT:5" top="237" height="20" innerdataset="dsYN_JOINT" fittocontents="width" width="148" text="승인" codecolumn="CODE" datacolumn="VALUE" enable="true" direction="vertical"/>
              <TextArea id="txtDS_REMARK" taborder="18" left="staDS_REMARK:5" top="265" height="60" value="" visible="true" enable="true" maxlength="250" right="6"/>
              <Combo id="cboTY_POSITION" taborder="20" left="staTY_POSITION:5" top="393" width="142" height="22" innerdataset="dsTY_POSITION" codecolumn="CODE" datacolumn="VALUE"/>
              <Combo id="cboTY_MONEY" taborder="23" left="staTY_MONEY:5" top="451" width="142" height="22" innerdataset="dsTY_MONEY" codecolumn="CODE" datacolumn="VALUE"/>
              <Radio id="rdoYN_DELAY" taborder="25" left="staYN_DELAY:5" top="481" height="20" innerdataset="dsrYN_DELAY" fittocontents="width" width="148" index="0" text="승인" value="APRV" codecolumn="CODE" datacolumn="VALUE" enable="true" direction="vertical" readonly="true"/>
              <Div id="ccfNO_FINANCING" taborder="24" CDTextWidth="80" left="staNO_FINANCING:5" top="451" width="260" height="22" url="cmm::cmmCodeFind.xfdl" CodeFindName="DRX_CFFINANCING_CODEFIND"/>
              <Div id="ccfCD_CARD" taborder="21" CDTextWidth="60" left="653" top="422" width="190" height="22" url="cmm::cmmCodeFind.xfdl" CodeFindName="DRX_CARD_CODEFIND" visible="false"/>
              <Static id="staNO_APPROVAL" taborder="82" text="승인번호" left="360" top="418" width="127" height="30" cssclass="sta_WF_tablelabel" textAlign="right" visible="false"/>
              <Edit id="txtNO_APPROVAL" taborder="22" height="22" value="" top="422" left="staNO_APPROVAL:5" width="193" maxlength="8" visible="false"/>
              <Edit id="txtNO_GUJA" taborder="83" height="22" value="" top="422" left="395" width="193" maxlength="15" readonly="true"/>
              <Div id="ccfCD_GUJA" taborder="84" CDTextWidth="80" left="132" top="422" width="260" height="22" url="cmm::cmmCodeFind.xfdl" CodeFindName="DRX_CFACCOUNT_CODEFIND"/>
              <MaskEdit id="mskNO_MOBILE" taborder="85" left="staNO_MOBILE:5" top="90" height="22" right="6" format="###-####-####" type="string" textAlign="center"/>
              <MaskEdit id="mskNO_JUMIN" taborder="86" left="staNO_JUMIN:5" top="61" width="143" height="22" format="######-#######" type="string" textAlign="center"/>
            </Layout>
          </Layouts>
        </Div>
        <Button id="btnConf" taborder="1" text="확인" left="42.24%" top="621" width="60" height="30" cssclass="btnExt" onclick="btnConf_onclick"/>
        <Button id="btnCancel" taborder="2" text="취소" left="49.65%" top="621" width="60" height="30" cssclass="btnExt" onclick="btnCancel_onclick"/>
        <Static id="sta00" taborder="3" text="sta00" left="0" top="31" height="2" right="0" border="0px none, 0px none, 1px solid black"/>
        <Static id="staTITLE" taborder="4" left="0" top="6" width="97.31%" height="20" cssclass="sta_TITLE_Bg" textAlign="left" text="분양계약"/>
        <Div id="divSearch" taborder="5" left="0.0" top="divData:10.0" height="110.0" right="0" cssclass="div_SEARCH_Bg" formscrolltype="none">
          <Layouts>
            <Layout>
              <Static id="staCD_ACNTUNIT" taborder="2" text="기존고객검색" left="0.0" top="10.0" width="92.0" height="24.0" cssclass="sta_WF_SchLabel"/>
              <Radio id="rdoTY_CUSTOMER" taborder="0" left="staCD_ACNTUNIT:0.0" top="staCD_ACNTUNIT:10.0" height="24.0" innerdataset="dsTY_CUSTOMER" fittocontents="width" width="138" text="승인" codecolumn="CODE" datacolumn="VALUE" enable="true" direction="vertical"/>
              <Static id="staContent" taborder="3" text="주민(사업자)번호" left="rdoTY_CUSTOMER:0.0" top="10.0" width="92.0" height="24.0" textDecoration="none" cssclass="sta_WF_SchLabel"/>
              <Div id="ccfCD_CUSTOMER" taborder="1" CDTextWidth="125" left="staContent:0.0" top="staCD_ACNTUNIT:10.0" width="150" height="24.0" url="cmm::cmmCodeFind.xfdl" CodeFindName="DRX_CFCUSTOMER"/>
            </Layout>
          </Layouts>
        </Div>
      </Layout>
    </Layouts>
    <Script type="xscript5.1"><![CDATA[this.objApp = this.gfnGetApplication();

this.form_onload = function(obj:nexacro.Form,e:nexacro.LoadEventInfo)
{
	// -- 필수 -------------------//
	this.gfnFormOnLoad(this);	
	this.gfnFormInfo(this);		
	// ---------------------------//
	
	this.fnSetButton();
	this.fnSetExtendButton();
	this.fnSetVariable();
	this.fnSetEvent();
	this.fnSetParameter();

	// 이전 화면에서 데이터 받기.
	this.dsData.setColumn(0, "CD_ACNTUNIT"	 , this.getOwnerFrame().CD_ACNTUNIT);
	this.dsData.setColumn(0, "NO_DONG"		 , this.getOwnerFrame().DONG);
	this.dsData.setColumn(0, "NO_FLOOR"		 , this.getOwnerFrame().FLOOR) 
	this.dsData.setColumn(0, "NO_HO"		 , this.getOwnerFrame().HO);
	this.dsData.setColumn(0, "NO_UNIONMEMBER", this.getOwnerFrame().NO_UNIONMEMBER);
	this.dsData.setColumn(0, "AM_RECEIVED"   , this.getOwnerFrame().AM_RECEIVED);	//수납금액
	this.dsData.setColumn(0, "TY_DISTRICT"	 , this.getOwnerFrame().TY_DISTRIC);	//군
	this.dsData.setColumn(0, "RT_OPTION"	 , this.getOwnerFrame().RT_OPTION);		//OPTION
	this.dsData.setColumn(0, "DS_OPTION"	 , this.getOwnerFrame().DS_OPTION);		//OPTION명
	this.dsData.setColumn(0, "NO_SIZE"	 	 , this.getOwnerFrame().NO_SIZE);		//면적
	this.dsData.setColumn(0, "TY_TYPE"	 	 , this.getOwnerFrame().TY_TYPE);		//평형
	this.dsData.setColumn(0, "DT_CONTRACT"	 , this.gfnGetDate()); 					//계약일자
	
	this.dsData.setColumn(0, "TY_CUSTOMER"	 , "P"); 	//기존고객검색(개인)
	this.dsData.setColumn(0, "TY_CONTRACTOR" , "P"); 	//계약구분(개인)
	this.dsData.setColumn(0, "YN_EBILL"	     , "Y"); 	//세금계산서발급구븐(전자)
	this.dsData.setColumn(0, "YN_BUNYANG"	 , "Y"); 	//분양구분(분양)
	this.dsData.setColumn(0, "YN_JOINT"	     , "N"); 	//공동명의계약자여부(없음)
	this.dsData.setColumn(0, "YN_DELAY"	     , "N"); 	//연체적용(적용안함)
	this.dsData.setColumn(0, "TY_POSITION"	 , "2"); 	//수납처(은행)
	this.dsData.setColumn(0, "TY_MONEY"	     , "1"); 	//납입구분(본인)
	
	var titletxt  = this.FormInfo.NM_FORM  +"(";
		titletxt += this.dsData.getColumn(0, "NO_DONG")  +" 동 ";
		titletxt += this.dsData.getColumn(0, "NO_FLOOR") +" 층 ";
		titletxt += this.dsData.getColumn(0, "NO_HO")    +" 호)";

	this.staTITLE.set_text(titletxt);
	
};

/************************************************************************
 * 버튼 설정 : 화면(Tab) 전환시 마다 호출
 * 서브버튼 사용 및 공통버튼 강제 제어시 여기서 처리
 ************************************************************************/
this.fnSetButton = function() {
} 

/************************************************************************
 * 확장 버튼 : 화면별 버튼 설정 ID, function 연결 (화면버튼관리)
 ************************************************************************/
this.fnSetExtendButton = function() {

};

/************************************************************************
 * 변수 선언
 ************************************************************************/
this.fnSetVariable = function() {	
	this.staTITLE 			= this.staTITLE;
	this.rdoTY_CUSTOMER 	= this.divSearch.form.rdoTY_CUSTOMER;
	this.ccfCD_CUSTOMER 	= this.divSearch.form.ccfCD_CUSTOMER;
	this.calDT_CONTRACT 	= this.divData.form.calDT_CONTRACT;
	this.rdoTY_CONTRACTOR 	= this.divData.form.rdoTY_CONTRACTOR;
	this.makNO_JUMIN 		= this.divData.form.mskNO_JUMIN;
	this.txtDS_CONTRACTOR 	= this.divData.form.txtDS_CONTRACTOR;
	this.txtTY_DISTRICT 	= this.divData.form.txtTY_DISTRICT;
	this.ccfRT_OPTION 		= this.divData.form.ccfRT_OPTION;
	this.txtNO_TEL 			= this.divData.form.txtNO_TEL;
	this.txtNO_OFFICETEL 	= this.divData.form.txtNO_OFFICETEL;
	this.mskNO_MOBILE 		= this.divData.form.mskNO_MOBILE;
	this.ccfNO_RECPOST 		= this.divData.form.ccfNO_RECPOST;
	this.txtDS_RECADDR 		= this.divData.form.txtDS_RECADDR;
	this.ccfNO_POST 		= this.divData.form.ccfNO_POST;
	this.txtDS_ADDR 		= this.divData.form.txtDS_ADDR;
	this.txtDS_EMAIL 		= this.divData.form.txtDS_EMAIL;
	this.txtDS_UPTAE 		= this.divData.form.txtDS_UPTAE;
	this.txtDS_UPJONG 		= this.divData.form.txtDS_UPJONG;
	this.txtCD_VENDOR 		= this.divData.form.txtCD_VENDOR;
	this.txtDS_VENDOR 		= this.divData.form.txtDS_VENDOR;
	this.rdoYN_EBILL 		= this.divData.form.rdoYN_EBILL;
	this.rdoYN_JOINT 		= this.divData.form.rdoYN_JOINT;
	this.rdoYN_BUNYANG 		= this.divData.form.rdoYN_BUNYANG;
	this.txtNO_CONTRACT     = this.divData.form.txtNO_CONTRACT;
	this.txtDS_REMARK 		= this.divData.form.txtDS_REMARK;
	this.mskAM_RECEIVED     = this.divData.form.mskAM_RECEIVED;
	this.cboTY_POSITION     = this.divData.form.cboTY_POSITION;
	this.ccfCD_GUJA         = this.divData.form.ccfCD_GUJA;
	this.txtNO_GUJA         = this.divData.form.txtNO_GUJA;
	this.ccfCD_CARD         = this.divData.form.ccfCD_CARD;
	this.txtNO_APPROVAL     = this.divData.form.txtNO_APPROVAL;
	this.cboTY_MONEY        = this.divData.form.cboTY_MONEY;
	this.ccfNO_FINANCING    = this.divData.form.ccfNO_FINANCING;
	this.rdoYN_DELAY        = this.divData.form.rdoYN_DELAY;
	this.staNO_APPROVAL     = this.divData.form.staNO_APPROVAL;
	this.staCD_GUJA         = this.divData.form.staCD_GUJA;
};

/************************************************************************
 * 이벤트 설정
 ************************************************************************/
this.fnSetEvent = function() {
	//주민(사업자)번호
	this.ccfCD_CUSTOMER.BeforeUserDataSetParam = "fnBeforeUserDataSetParam";
	this.ccfCD_CUSTOMER.AfterCDTextChanged = "fnAfterCDTextChanged";
	
	//OPTION
	this.ccfRT_OPTION.BeforeUserDataSetParam = "fnBeforeUserDataSetParam";
	
	//주민등록주소
	this.ccfNO_RECPOST.AfterCDTextChanged = "fnAfterCDTextChanged";
	
	//현주소
	this.ccfNO_POST.AfterCDTextChanged = "fnAfterCDTextChanged";
	
	//납입계좌
	this.ccfCD_GUJA.BeforeUserDataSetParam = "fnBeforeUserDataSetParam";
	this.ccfCD_GUJA.AfterCDTextChanged = "fnAfterCDTextChanged";
	
	//융자사
	this.ccfNO_FINANCING.BeforeUserDataSetParam = "fnBeforeUserDataSetParam";
};

/************************************************************************
 * 파라미터 설정
 ************************************************************************/
this.fnSetParameter = function() {
	this.dsInsert = new Dataset();
	this.dsInsert.addColumn("CD_ACNTUNIT"	, "string");
	this.dsInsert.addColumn("TY_GUBUN"		, "string");
	this.dsInsert.addColumn("NO_CHASU"		, "string");
	this.dsInsert.addColumn("NO_DONG"		, "string");
	this.dsInsert.addColumn("NO_FLOOR"		, "string");
	this.dsInsert.addColumn("NO_HO"			, "string");
	this.dsInsert.addColumn("NO_UNIONMEMBER", "string");
	this.dsInsert.addColumn("DT_CONTRACT"	, "string");
	this.dsInsert.addColumn("TY_CONTRACTOR"	, "string");
	this.dsInsert.addColumn("DS_CONTRACTOR"	, "string");
	this.dsInsert.addColumn("NO_JUMIN"		, "string");
	this.dsInsert.addColumn("NO_RECPOST"	, "string");
	this.dsInsert.addColumn("DS_RECADDR2"	, "string");
	this.dsInsert.addColumn("DS_RECADDR3"	, "string");
	this.dsInsert.addColumn("NO_POST"		, "string");
	this.dsInsert.addColumn("DS_ADDR2"		, "string");
	this.dsInsert.addColumn("DS_ADDR3"		, "string");
	this.dsInsert.addColumn("NO_TEL"		, "string");
	this.dsInsert.addColumn("NO_OFFICETEL"	, "string");
	this.dsInsert.addColumn("NO_MOBILE"		, "string");
	this.dsInsert.addColumn("DS_EMAIL"		, "string");
	this.dsInsert.addColumn("CD_VENDOR"		, "string");
	this.dsInsert.addColumn("DS_VENDOR"		, "string");
	this.dsInsert.addColumn("DS_UPTAE"		, "string");
	this.dsInsert.addColumn("DS_UPJONG"		, "string");
	this.dsInsert.addColumn("DS_REMARK"		, "string");
	this.dsInsert.addColumn("TY_DISTRICT"	, "string");
	this.dsInsert.addColumn("RT_OPTION"		, "string");
	this.dsInsert.addColumn("YN_EBILL"		, "string");
	this.dsInsert.addColumn("YN_JOINT"		, "string");
	this.dsInsert.addColumn("AM_RECEIVED"	, "BIGDECIMAL");
	this.dsInsert.addColumn("TY_RECEIPT"	, "string");
	this.dsInsert.addColumn("TY_MONEY"		, "string");
	this.dsInsert.addColumn("CD_GUJA"		, "string");
	this.dsInsert.addColumn("NO_FINANCING"	, "string");
	this.dsInsert.addColumn("YN_DELAY"		, "string");
	this.dsInsert.addColumn("TY_POSITION"	, "string");
	this.dsInsert.addColumn("YN_BUNYANG"	, "string");
	this.dsInsert.addColumn("ID_UPDATE"		, "string");
	this.dsInsert.addColumn("CD_CARD"		, "string");
	this.dsInsert.addColumn("DS_CARD"		, "string");
	this.dsInsert.addColumn("NO_APPROVAL"	, "string");
	this.dsInsert.addColumn("DT_PAYBACK"	, "string");
	this.dsInsert.addColumn("CD_DEPT_BE"	, "string");
	this.dsInsert.addColumn("NO_CONTRACT"	, "string");
}

/************************************************************************
 * 컨트롤 이벤트
 ************************************************************************/
 
 /************************************************************************
 * 콤보 이벤트
 ************************************************************************/
 
 
/************************************************************************
 * Validate
 ************************************************************************/
this.fnSaveValidate = function() {
	var validate = true;
	var strMsg   = "";
	
	if (this.gfnIsNull(this.dsData.getColumn(0, "CD_ACNTUNIT"))) {
		strMsg += "사업지코드가 존재하지 않습니다.\n";
		validate = false;
	}
	
	if (this.gfnIsNull(this.dsData.getColumn(0, "NO_DONG"))) {
		strMsg += "동정보가 존재하지 않습니다.\n";
		validate = false;
	}
	
	if (this.gfnIsNull(this.dsData.getColumn(0, "NO_FLOOR"))) {
		strMsg += "층정보가 존재하지 않습니다.\n";
		validate = false;
	}
	
	if (this.gfnIsNull(this.dsData.getColumn(0, "NO_HO"))) {
		strMsg += "호정보가 존재하지 않습니다.\n";
		validate = false;
	}
	
	if (this.gfnIsNull(this.dsData.getColumn(0, "DT_CONTRACT"))) {
		strMsg += "계약일자를 입력하지 않았습니다.\n";
		validate = false;
	}
	
	if (this.gfnIsNull(this.gfnTrim(this.dsData.getColumn(0, "DS_CONTRACTOR")))) {
		strMsg += "계약자명을 입력하지 않았습니다.\n";
		validate = false;
	}

	if(this.dsData.getColumn(0, "TY_CONTRACTOR") != "C"){	//개인/개인사업자
		if (this.gfnIsNull(this.gfnTrim(this.dsData.getColumn(0, "NO_JUMIN")))) {
			strMsg += "주민등록번호를 입력하지 않았습니다.\n";
			validate = false;
		} else { 	
			if (nexacro.replaceAll(this.dsData.getColumn(0, "NO_JUMIN"),"-","").length != 13) {
				strMsg += "주민등록번호는 13자리 입니다.\n";
				validate = false;
			}
// 			공통체크 gfnIsSSN 가 2000년대생 체크로직이 안들어가 있어서 무조건 fasle 가 들어옴			
// 			if(!this.gfnIsSSN(nexacro.replaceAll(this.dsData.getColumn(0, "NO_JUMIN"),"-",""))){
// 				strMsg += "주민등록번호가 잘못 되었습니다.\n";
// 				validate = false;
// 			}	
		}	
	}
	
	if(this.dsData.getColumn(0, "TY_CONTRACTOR") == "C" || this.dsData.getColumn(0, "TY_CONTRACTOR") == "A"){ //법인/개인사업자
		if (this.gfnIsNull(this.gfnTrim(this.dsData.getColumn(0, "CD_VENDOR")))) {
			strMsg += "사업자등록번호를 입력하지 않았습니다.\n";
			validate = false;
		} else { 
			if(!this.gfnIsBzIdNo(nexacro.replaceAll(this.dsData.getColumn(0, "CD_VENDOR"),"-",""))){
				strMsg += "사업자등록번호가 잘못 되었습니다.\n";
				validate = false;
			}
		}
		
		if (this.gfnIsNull(this.gfnTrim(this.dsData.getColumn(0, "DS_VENDOR")))) {
			strMsg += "상호를 입력하지 않았습니다.\n";
			validate = false;
		}
	}
	
	if (this.gfnIsNull(this.gfnTrim(this.dsData.getColumn(0, "NO_TEL"))) && this.gfnIsNull(this.gfnTrim(this.dsData.getColumn(0, "NO_MOBILE")))) {
		strMsg += "자택 전화번호나 휴대폰 번호를 입력하셔야 합니다.\n";
		validate = false;
	}
	
	if (!this.gfnIsNull(this.gfnTrim(this.dsData.getColumn(0, "NO_TEL")))) {
		if(!nexacro.isNumeric(nexacro.replaceAll(nexacro.replaceAll(this.dsData.getColumn(0, "NO_TEL"),"-",""),")",""))){
			strMsg += "자택 전화번호가 정확하지 않습니다.\n";
			validate = false;
		}	
	}
	
	if (!this.gfnIsNull(this.gfnTrim(this.dsData.getColumn(0, "NO_OFFICETEL")))) {
		if(!nexacro.isNumeric(nexacro.replaceAll(nexacro.replaceAll(this.dsData.getColumn(0, "NO_OFFICETEL"),"-",""),")",""))){
			strMsg += "직장 전화번호가 정확하지 않습니다.\n";
			validate = false;
		}	
	}	

	if (!this.gfnIsNull(this.gfnTrim(this.dsData.getColumn(0, "NO_MOBILE")))) {
		if(!nexacro.isNumeric(nexacro.replaceAll(nexacro.replaceAll(this.dsData.getColumn(0, "NO_MOBILE"),"-",""),")",""))){
			strMsg += "휴대폰번호가 정확하지 않습니다.\n";
			validate = false;
		}	
		
		if (nexacro.replaceAll(this.dsData.getColumn(0, "NO_MOBILE"),"-","").length != 11) {
			strMsg += "휴대폰 번호 자릿수가 정확하지 않습니다.\n";
			validate = false;
		}
	}
	
	if (this.gfnIsNull(this.gfnTrim(this.dsData.getColumn(0, "NO_RECPOST")))) {
		strMsg += "주민등록주소를 입력하지 않았습니다.\n";
		validate = false;
	}
	
	if (this.gfnIsNull(this.gfnTrim(this.dsData.getColumn(0, "NO_POST")))) {
		strMsg += "현주소를 입력하지 않았습니다.\n";
		validate = false;
	}

	if (this.gfnIsNull(this.dsData.getColumn(0, "AM_RECEIVED"))) {
		strMsg += "수납금액을 입력하지 않았습니다.\n";
		validate = false;
	}
	
	if (this.gfnIsNull(this.dsData.getColumn(0, "TY_POSITION"))) {
		strMsg += "수납처를 입력하지 않았습니다.\n";
		validate = false;
	}
	
	if(this.dsData.getColumn(0, "TY_POSITION") == "F"){	//카드
		if (this.gfnIsNull(this.dsData.getColumn(0, "CD_CARD"))) {
			strMsg += "카드사를 입력하지 않았습니다.\n";
			validate = false;
		}
		
		if (this.gfnIsNull(this.gfnTrim(this.dsData.getColumn(0, "NO_APPROVAL")))) {
			strMsg += "승인번호를 입력하지 않았습니다.\n";
			validate = false;
		}else{
			if (this.gfnTrim(this.dsData.getColumn(0, "NO_APPROVAL")).length < 8) {
				strMsg += "승인번호는 8자리입니다.\n";
				validate = false;
			}
		}
	} 
	
	//M/H(현금) ,카드가 아닐경우
	if(this.dsData.getColumn(0, "TY_POSITION") != "1" && this.dsData.getColumn(0, "TY_POSITION") != "F") { 
		if(nexacro.toNumber(this.dsData.getColumn(0, "AM_RECEIVED"),0) > 0){	//수납금액이 있을경우
			if (this.gfnIsNull(this.dsData.getColumn(0, "CD_GUJA"))) {
				strMsg += "계좌를 입력하지 않았습니다.\n";
				validate = false;
			}
		}
	}
	
	if (this.gfnIsNull(this.dsData.getColumn(0, "TY_MONEY"))) {
		strMsg += "납입구분을 입력하지 않았습니다.\n";
		validate = false;
	}
	
	if (this.dsData.getColumn(0, "TY_MONEY") == "2") {	//알선융자일경우
		if (this.gfnIsNull(this.dsData.getColumn(0, "NO_FINANCING"))) {
			strMsg += "융자사를 입력하지 않았습니다.\n";
			validate = false;
		}
	}
	
	if(!validate){
		this.gfnAlert(strMsg);
	}

	return validate;
}
/************************************************************************
 * 콜백 이벤트
 ************************************************************************/
/*
 *	콜백 처리
 */
this.fnCallback = function(svcID, errorCode, errorMsg)
{
	if (svcID == "save") {
		if(errorCode == 0){
			this.getParentContext().close(true);		
		}else{
			this.gfnAlert(errorMsg);
		}
	}
}

/************************************************************************
 * 코드파인드 이벤트
 ************************************************************************/
this.fnBeforeUserDataSetParam = function(id, dsUserParam, nrow) {
	if (id == "ccfCD_CUSTOMER") {	//주민(사업자)번호
		dsUserParam.setColumn(nrow, "TY_CONT"	 , this.dsData.getColumn(0, "TY_CUSTOMER"));
	}else if(id == "ccfRT_OPTION"){ //군/OPTIOM
		dsUserParam.setColumn(nrow, "CD_ACNTUNIT", this.dsData.getColumn(0, "CD_ACNTUNIT"));
		dsUserParam.setColumn(nrow, "NO_SIZE"	 , this.dsData.getColumn(0, "NO_SIZE"));
		dsUserParam.setColumn(nrow, "TY_TYPE"	 , this.dsData.getColumn(0, "TY_TYPE"));
		dsUserParam.setColumn(nrow, "TY_DISTRICT", this.dsData.getColumn(0, "TY_DISTRICT"));
	}else if(id == "ccfCD_GUJA"){	//납입계좌
		dsUserParam.setColumn(nrow, "CD_ACNTUNIT", this.dsData.getColumn(0, "CD_ACNTUNIT"));
	}else if(id == "ccfNO_FINANCING"){	//융자사
		dsUserParam.setColumn(nrow, "CD_ACNTUNIT", this.dsData.getColumn(0, "CD_ACNTUNIT"));
		dsUserParam.setColumn(nrow, "YN_OPTION"  , "N");
	}	
	return true;
};

this.fnAfterCDTextChanged = function(id, codeFindData) {
	var arr = codeFindData; 
	
	switch(id){
		case "ccfCD_CUSTOMER" : //주민(사업자)번호
			this.dsData.setColumn(0, "NO_JUMIN"	   	, arr[0].NO_JUMIN);
			this.dsData.setColumn(0, "NO_TEL"	   	, arr[0].NO_TEL);
			this.dsData.setColumn(0, "NO_OFFICETEL"	, arr[0].NO_OFFICETEL);
			this.dsData.setColumn(0, "DS_CONTRACTOR", arr[0].DS_CUSTOMER);
			this.dsData.setColumn(0, "NO_MOBILE"   	, arr[0].NO_MOBILE);
			this.dsData.setColumn(0, "NO_POST"	  	, this.gfnTrim(arr[0].NO_POST));
			this.dsData.setColumn(0, "DS_ADDR2"	   	, arr[0].DS_ADDR2);
			this.dsData.setColumn(0, "DS_ADDR3"	   	, arr[0].DS_ADDR3);
			this.dsData.setColumn(0, "NO_RECPOST"  	, this.gfnTrim(arr[0].NO_RECPOST));
			this.dsData.setColumn(0, "DS_RECADDR2" 	, arr[0].DS_RECADDR2);
			this.dsData.setColumn(0, "DS_RECADDR3" 	, arr[0].DS_RECADDR3);
			this.dsData.setColumn(0, "DS_EMAIL"    	, arr[0].DS_EMAIL);
			this.dsData.setColumn(0, "DS_REMARK"   	, arr[0].DS_REMARK);
			
			if(this.dsData.getColumn(0, "TY_CUSTOMER") == "P"){	//개인
				this.dsData.setColumn(0, "TY_CONTRACTOR", "P");
				this.dsData.setColumn(0, "CD_VENDOR"	, "");
				this.dsData.setColumn(0, "DS_VENDOR"	, "");
				this.dsData.setColumn(0, "DS_UPTAE"		, "");
				this.dsData.setColumn(0, "DS_UPJONG"	, "");
			}else{	//법인
				this.dsData.setColumn(0, "TY_CONTRACTOR", "C");
				this.dsData.setColumn(0, "CD_VENDOR"	, arr[0].CD_VENDOR);
				this.dsData.setColumn(0, "DS_VENDOR"	, arr[0].DS_VENDOR1);
				this.dsData.setColumn(0, "DS_UPTAE"		, arr[0].DS_UPTAE);
				this.dsData.setColumn(0, "DS_UPJONG"	, arr[0].DS_UPJONG);
			}
			break;
		case "ccfNO_RECPOST" : //주민등록주소
			this.dsData.setColumn(0, "DS_RECADDR3"	, "");
			break;
		case "ccfNO_POST" : 	//현주소
			this.dsData.setColumn(0, "DS_ADDR3"	, "");
			break;
		case "ccfCD_GUJA" : 	//납입계좌
			this.dsData.setColumn(0, "NO_GUJA"	, arr[0].NO_GUJA);
			break;
	}
}
/************************************************************************
 * 그리드 이벤트
 ************************************************************************/
 
/************************************************************************
 * 기타 이벤트
 ************************************************************************/

this.dsData_oncolumnchanged = function(obj:nexacro.NormalDataset,e:nexacro.DSColChangeEventInfo)
{
	if(e.oldvalue != e.newvalue){
		if(e.columnid == "TY_CONTRACTOR"){		//계약구분
			obj.setColumn(e.row, "NO_JUMIN" 	 , "");
			obj.setColumn(e.row, "DS_CONTRACTOR" , "");
			obj.setColumn(e.row, "NO_TEL" 		 , "");
			obj.setColumn(e.row, "NO_OFFICETEL"  , "");
			obj.setColumn(e.row, "NO_MOBILE" 	 , "");
			obj.setColumn(e.row, "DS_EMAIL" 	 , "");
			obj.setColumn(e.row, "NO_POST" 	  	 , "");
			obj.setColumn(e.row, "DS_ADDR2" 	 , "");
			obj.setColumn(e.row, "DS_ADDR3" 	 , "");
			obj.setColumn(e.row, "NO_RECPOST" 	 , "");
			obj.setColumn(e.row, "DS_RECADDR2"   , "");
			obj.setColumn(e.row, "DS_RECADDR3"   , "");
			obj.setColumn(e.row, "DS_REMARK"     , "");
			
			if(e.newvalue == "P"){	//개인
				this.txtCD_VENDOR.set_readonly(true);
				this.txtDS_VENDOR.set_readonly(true);
				this.txtDS_UPJONG.set_readonly(true);
				this.txtDS_UPTAE.set_readonly(true);
				
				obj.setColumn(e.row, "CD_VENDOR", "");
				obj.setColumn(e.row, "DS_VENDOR", "");
				obj.setColumn(e.row, "DS_UPJONG", "");
				obj.setColumn(e.row, "DS_UPTAE" , "");
			} else if (e.newvalue == "C"){	//법인
				this.txtCD_VENDOR.set_readonly(false);
				this.txtDS_VENDOR.set_readonly(false);
				this.txtDS_UPJONG.set_readonly(false);
				this.txtDS_UPTAE.set_readonly(false);
			} else {	//개인사업자
				this.txtCD_VENDOR.set_readonly(false);
				this.txtDS_VENDOR.set_readonly(false);
				this.txtDS_UPJONG.set_readonly(false);
				this.txtDS_UPTAE.set_readonly(false);
			}
		} else if(e.columnid =="TY_POSITION"){	//수납처
			if(e.newvalue == "F"){	//카드일경우
				this.ccfCD_GUJA.form.fnCodeFindClear();			//납입계좌 초기화
				this.ccfNO_FINANCING.form.fnCodeFindClear();	//융자사 초기화
				obj.setColumn(e.row, "NO_GUJA", "");
				obj.setColumn(e.row, "TY_MONEY", "1");	//납입구분(본인)
				
				this.ccfNO_FINANCING.form.set_readonly(true);
				this.ccfCD_GUJA.set_visible(false);		//납부계좌은행
				this.txtNO_GUJA.set_visible(false);		//계좌번호
				this.cboTY_MONEY.set_enable(false);		//납입구분
				
				this.staCD_GUJA.set_text("카드사");
				
				this.ccfCD_CARD.set_visible(true);		//카드번호
				this.txtNO_APPROVAL.set_visible(true);	//승인번호
				this.staNO_APPROVAL.set_visible(true);	//승인번호 타이틀
				
				this.ccfCD_CARD.set_left(this.cboTY_MONEY.left);	//카드번호 위치 조정
			}else{
				this.ccfCD_CARD.form.fnCodeFindClear();
				obj.setColumn(e.row, "NO_APPROVAL", "");
				
				this.staCD_GUJA.set_text("납입계좌");
				
				if(obj.getColumn(e.row, "TY_MONEY") != "1"){
					this.ccfNO_FINANCING.form.set_readonly(false);
				}
				
				this.ccfCD_GUJA.set_visible(true);		//납부계좌은행
				this.txtNO_GUJA.set_visible(true);		//계좌번호
				this.cboTY_MONEY.set_enable(true);		//납입구분
				
				this.ccfCD_CARD.set_visible(false);		//카드번호
				this.txtNO_APPROVAL.set_visible(false);	//승인번호
				this.staNO_APPROVAL.set_visible(false); //승인번호 타이틀
			}
		} else if(e.columnid =="TY_MONEY"){	//납입구분
			if(e.newvalue == "1"){	//본인
				this.ccfNO_FINANCING.form.fnCodeFindClear();
				this.ccfNO_FINANCING.form.set_readonly(true);
			}else{
				this.ccfNO_FINANCING.form.set_readonly(false);
			}
		}
	}
};

//확인버튼
this.btnConf_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	if(!this.fnSaveValidate()) return;

	this.dsInsert.clearData();
	var nrow = this.dsInsert.addRow();
	
	this.dsInsert.setColumn(nrow, "CD_ACNTUNIT"		, this.dsData.getColumn(0, "CD_ACNTUNIT").substr(0, 6));
	this.dsInsert.setColumn(nrow, "TY_GUBUN"		, this.dsData.getColumn(0, "CD_ACNTUNIT").substr(6, 1));
	this.dsInsert.setColumn(nrow, "NO_CHASU"		, this.dsData.getColumn(0, "CD_ACNTUNIT").substr(7, 2));
	this.dsInsert.setColumn(nrow, "NO_DONG"			, this.dsData.getColumn(0, "NO_DONG"));
	this.dsInsert.setColumn(nrow, "NO_FLOOR"		, this.dsData.getColumn(0, "NO_FLOOR"));
	this.dsInsert.setColumn(nrow, "NO_HO"			, this.dsData.getColumn(0, "NO_HO"));
	this.dsInsert.setColumn(nrow, "NO_UNIONMEMBER"  , this.dsData.getColumn(0, "NO_UNIONMEMBER"));
	
	this.dsInsert.setColumn(nrow, "DT_CONTRACT"  	, this.dsData.getColumn(0, "DT_CONTRACT"));
	this.dsInsert.setColumn(nrow, "TY_CONTRACTOR"   , this.dsData.getColumn(0, "TY_CONTRACTOR"));
	this.dsInsert.setColumn(nrow, "DS_CONTRACTOR"   , this.dsData.getColumn(0, "DS_CONTRACTOR"));
	this.dsInsert.setColumn(nrow, "NO_JUMIN"  		, nexacro.replaceAll(this.dsData.getColumn(0, "NO_JUMIN"),"-",""));
	this.dsInsert.setColumn(nrow, "NO_RECPOST"  	, nexacro.replaceAll(this.dsData.getColumn(0, "NO_RECPOST"),"-",""));
	this.dsInsert.setColumn(nrow, "DS_RECADDR2"  	, this.dsData.getColumn(0, "DS_RECADDR2"));
	this.dsInsert.setColumn(nrow, "DS_RECADDR3"  	, this.dsData.getColumn(0, "DS_RECADDR3"));
	this.dsInsert.setColumn(nrow, "NO_POST"  		, nexacro.replaceAll(this.dsData.getColumn(0, "NO_POST"),"-",""));
	this.dsInsert.setColumn(nrow, "DS_ADDR2"  		, this.dsData.getColumn(0, "DS_ADDR2"));
	this.dsInsert.setColumn(nrow, "DS_ADDR3"  		, this.dsData.getColumn(0, "DS_ADDR3"));
	this.dsInsert.setColumn(nrow, "NO_TEL"  		, this.dsData.getColumn(0, "NO_TEL"));
	this.dsInsert.setColumn(nrow, "NO_OFFICETEL"  	, this.dsData.getColumn(0, "NO_OFFICETEL"));
	this.dsInsert.setColumn(nrow, "NO_MOBILE"  		, nexacro.replaceAll(this.dsData.getColumn(0, "NO_MOBILE"),"-",""));
	this.dsInsert.setColumn(nrow, "DS_EMAIL"  		, this.dsData.getColumn(0, "DS_EMAIL"));
	this.dsInsert.setColumn(nrow, "CD_VENDOR"  		, nexacro.replaceAll(this.dsData.getColumn(0, "CD_VENDOR"),"-",""));
	this.dsInsert.setColumn(nrow, "DS_VENDOR"  		, this.dsData.getColumn(0, "DS_VENDOR"));
	this.dsInsert.setColumn(nrow, "DS_UPTAE"  		, this.dsData.getColumn(0, "DS_UPTAE"));
	this.dsInsert.setColumn(nrow, "DS_UPJONG"		, this.dsData.getColumn(0, "DS_UPJONG"));
	this.dsInsert.setColumn(nrow, "DS_REMARK"  		, this.dsData.getColumn(0, "DS_REMARK"));
	
	this.dsInsert.setColumn(nrow, "TY_DISTRICT"  	, this.dsData.getColumn(0, "TY_DISTRICT"));
	this.dsInsert.setColumn(nrow, "RT_OPTION"  		, this.dsData.getColumn(0, "RT_OPTION"));
	this.dsInsert.setColumn(nrow, "YN_EBILL"  		, this.dsData.getColumn(0, "YN_EBILL"));
	this.dsInsert.setColumn(nrow, "YN_JOINT"  		, this.dsData.getColumn(0, "YN_JOINT"));
	
	
	this.dsInsert.setColumn(nrow, "AM_RECEIVED"  	, nexacro.toNumber(this.dsData.getColumn(0, "AM_RECEIVED"),0));
	this.dsInsert.setColumn(nrow, "TY_RECEIPT"  	, "");
	this.dsInsert.setColumn(nrow, "TY_MONEY"  		, this.dsData.getColumn(0, "TY_MONEY"));
	this.dsInsert.setColumn(nrow, "CD_GUJA"  		, this.dsData.getColumn(0, "CD_GUJA"));
	this.dsInsert.setColumn(nrow, "NO_FINANCING"  	, this.dsData.getColumn(0, "NO_FINANCING"));
	this.dsInsert.setColumn(nrow, "YN_DELAY"  		, this.dsData.getColumn(0, "YN_DELAY"));
	this.dsInsert.setColumn(nrow, "TY_POSITION"  	, this.dsData.getColumn(0, "TY_POSITION"));
	this.dsInsert.setColumn(nrow, "YN_BUNYANG"  	, this.dsData.getColumn(0, "YN_BUNYANG"));
	this.dsInsert.setColumn(nrow, "CD_CARD"  		, this.dsData.getColumn(0, "CD_CARD"));
	this.dsInsert.setColumn(nrow, "DS_CARD"  		, this.dsData.getColumn(0, "DS_CARD"));
	this.dsInsert.setColumn(nrow, "NO_APPROVAL"  	, this.dsData.getColumn(0, "NO_APPROVAL"));
	this.dsInsert.setColumn(nrow, "DT_PAYBACK"  	, "");
	this.dsInsert.setColumn(nrow, "CD_DEPT_BE"  	, "");
	this.dsInsert.setColumn(nrow, "NO_CONTRACT"  	, this.dsData.getColumn(0, "NO_CONTRACT"));
	this.dsInsert.setColumn(nrow, "ID_UPDATE"		, this.AuthClient.ID_USER);
				
	var strSvcId    = "save";
	var strSvcType  = "save";
	var inProc		= "_dsProc";
	var inData      = "insert=dsInsert";
	var outData     = "";
	var strArg      = "";
	var callBackFnc = "fnCallback";
	
	this.gfnTransaction( strSvcId , 	// transaction을 구분하기 위한 svc id값
						strSvcType , 	// transaction을 요청할 구분
						inProc,			// Procedure 정보 Dataset 이름
						inData , 		// 입력값으로 보낼 dataset id , a=b형태로 실제이름과 입력이름을 매칭
						outData , 		// 처리결과값으로 받을 dataset id, a=b형태로 실제이름과 입력이름을 매칭
						strArg, 		// 입력값으로 보낼 arguments, strFormData="20120607"
						callBackFnc); // 통신방법 정의 [생략가능]	
};

//취소버튼
this.btnCancel_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.getParentContext().close(false);
};
]]></Script>
    <Objects>
      <Dataset id="_dsProc">
        <ColumnInfo>
          <Column id="TARGET" type="STRING" size="256"/>
          <Column id="SP" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="TARGET">insert</Col>
            <Col id="SP">DRBPR_CONTRACTOR_CONTRACT</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsData" oncolumnchanged="dsData_oncolumnchanged">
        <ColumnInfo>
          <Column id="CD_ACNTUNIT" type="STRING" size="256"/>
          <Column id="TY_GUBUN" type="STRING" size="256"/>
          <Column id="NO_CHASU" type="STRING" size="256"/>
          <Column id="NO_DONG" type="STRING" size="256"/>
          <Column id="NO_FLOOR" type="STRING" size="256"/>
          <Column id="NO_HO" type="STRING" size="256"/>
          <Column id="NO_UNIONMEMBER" type="STRING" size="256"/>
          <Column id="DT_CONTRACT" type="STRING" size="256"/>
          <Column id="TY_CONTRACTOR" type="STRING" size="256"/>
          <Column id="DS_CONTRACTOR" type="STRING" size="256"/>
          <Column id="NO_JUMIN" type="STRING" size="256"/>
          <Column id="NO_RECPOST" type="STRING" size="256"/>
          <Column id="DS_RECADDR2" type="STRING" size="256"/>
          <Column id="DS_RECADDR3" type="STRING" size="256"/>
          <Column id="NO_POST" type="STRING" size="256"/>
          <Column id="DS_ADDR2" type="STRING" size="256"/>
          <Column id="DS_ADDR3" type="STRING" size="256"/>
          <Column id="NO_TEL" type="STRING" size="256"/>
          <Column id="NO_OFFICETEL" type="STRING" size="256"/>
          <Column id="NO_MOBILE" type="STRING" size="256"/>
          <Column id="DS_EMAIL" type="STRING" size="256"/>
          <Column id="CD_VENDOR" type="STRING" size="256"/>
          <Column id="DS_VENDOR" type="STRING" size="256"/>
          <Column id="DS_UPTAE" type="STRING" size="256"/>
          <Column id="DS_UPJONG" type="STRING" size="256"/>
          <Column id="DS_REMARK" type="STRING" size="256"/>
          <Column id="TY_DISTRICT" type="STRING" size="256"/>
          <Column id="RT_OPTION" type="STRING" size="256"/>
          <Column id="DS_OPTION" type="STRING" size="256"/>
          <Column id="YN_EBILL" type="STRING" size="256"/>
          <Column id="YN_JOINT" type="STRING" size="256"/>
          <Column id="NO_CONTRACT" type="STRING" size="256"/>
          <Column id="AM_RECEIVED" type="BIGDECIMAL" size="256"/>
          <Column id="TY_RECEIPT" type="STRING" size="256"/>
          <Column id="TY_MONEY" type="STRING" size="256"/>
          <Column id="CD_GUJA" type="STRING" size="256"/>
          <Column id="NO_FINANCING" type="STRING" size="256"/>
          <Column id="YN_DELAY" type="STRING" size="256"/>
          <Column id="TY_POSITION" type="STRING" size="256"/>
          <Column id="YN_BUNYANG" type="STRING" size="256"/>
          <Column id="CD_CARD" type="STRING" size="256"/>
          <Column id="DS_CARD" type="STRING" size="256"/>
          <Column id="NO_APPROVAL" type="STRING" size="256"/>
          <Column id="TY_CUSTOMER" type="STRING" size="256"/>
          <Column id="CD_CUSTOMER" type="STRING" size="256"/>
          <Column id="NO_GUJA" type="STRING" size="256"/>
          <Column id="NO_SIZE" type="STRING" size="256"/>
          <Column id="TY_TYPE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="dsTY_CUSTOMER">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="VALUE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">P</Col>
            <Col id="VALUE">개인</Col>
          </Row>
          <Row>
            <Col id="CODE">C</Col>
            <Col id="VALUE">법인</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsTY_CONTRACTOR">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="VALUE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="VALUE">개인</Col>
            <Col id="CODE">P</Col>
          </Row>
          <Row>
            <Col id="VALUE">법인</Col>
            <Col id="CODE">C</Col>
          </Row>
          <Row>
            <Col id="VALUE">개인사업자</Col>
            <Col id="CODE">A</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsrYN_DELAY">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="VALUE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">Y</Col>
            <Col id="VALUE">적용함</Col>
          </Row>
          <Row>
            <Col id="CODE">N</Col>
            <Col id="VALUE">적용안함</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsTY_MONEY">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="VALUE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">1</Col>
            <Col id="VALUE">본인</Col>
          </Row>
          <Row>
            <Col id="CODE">2</Col>
            <Col id="VALUE">알선융자</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsTY_POSITION">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="VALUE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">1</Col>
            <Col id="VALUE">M/H(현금)</Col>
          </Row>
          <Row>
            <Col id="CODE">2</Col>
            <Col id="VALUE">은행</Col>
          </Row>
          <Row>
            <Col id="CODE">3</Col>
            <Col id="VALUE">본사</Col>
          </Row>
          <Row>
            <Col id="CODE">4</Col>
            <Col id="VALUE">기타</Col>
          </Row>
          <Row>
            <Col id="CODE">5</Col>
            <Col id="VALUE">입금미수</Col>
          </Row>
          <Row>
            <Col id="CODE">F</Col>
            <Col id="VALUE">카드</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsYN_BUNYANG">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="VALUE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">Y</Col>
            <Col id="VALUE">분양</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsTY_EBILL">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="VALUE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">Y</Col>
            <Col id="VALUE">전자</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="dsYN_JOINT">
        <ColumnInfo>
          <Column id="CODE" type="STRING" size="256"/>
          <Column id="VALUE" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="CODE">Y</Col>
            <Col id="VALUE">있음</Col>
          </Row>
          <Row>
            <Col id="CODE">N</Col>
            <Col id="VALUE">없음</Col>
          </Row>
        </Rows>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item2" compid="divData.form.calDT_CONTRACT" propid="value" datasetid="dsData" columnid="DT_CONTRACT"/>
      <BindItem id="item4" compid="divData.form.mskAM_RECEIVED" propid="value" datasetid="dsData" columnid="AM_RECEIVED"/>
      <BindItem id="item17" compid="divSearch.form.rdoTY_CUSTOMER" propid="value" datasetid="dsData" columnid="TY_CUSTOMER"/>
      <BindItem id="item18" compid="divSearch.form.ccfCD_CUSTOMER.form.CDTextBox" propid="value" datasetid="dsData" columnid="CD_CUSTOMER"/>
      <BindItem id="item19" compid="divData.form.rdoTY_CONTRACTOR" propid="value" datasetid="dsData" columnid="TY_CONTRACTOR"/>
      <BindItem id="item0" compid="divData.form.txtDS_CONTRACTOR" propid="value" datasetid="dsData" columnid="DS_CONTRACTOR"/>
      <BindItem id="item1" compid="divData.form.txtNO_TEL" propid="value" datasetid="dsData" columnid="NO_TEL"/>
      <BindItem id="item5" compid="divData.form.txtNO_OFFICETEL" propid="value" datasetid="dsData" columnid="NO_OFFICETEL"/>
      <BindItem id="item14" compid="divData.form.txtTY_DISTRICT" propid="value" datasetid="dsData" columnid="TY_DISTRICT"/>
      <BindItem id="item15" compid="divData.form.ccfRT_OPTION.form.CDTextBox" propid="value" datasetid="dsData" columnid="RT_OPTION"/>
      <BindItem id="item20" compid="divData.form.ccfNO_POST.form.CDTextBox" propid="value" datasetid="dsData" columnid="NO_POST"/>
      <BindItem id="item21" compid="divData.form.ccfNO_POST.form.DSTextBox" propid="value" datasetid="dsData" columnid="DS_ADDR2"/>
      <BindItem id="item22" compid="divData.form.txtDS_RECADDR" propid="value" datasetid="dsData" columnid="DS_RECADDR3"/>
      <BindItem id="item23" compid="divData.form.ccfNO_RECPOST.form.CDTextBox" propid="value" datasetid="dsData" columnid="NO_RECPOST"/>
      <BindItem id="item24" compid="divData.form.ccfNO_RECPOST.form.DSTextBox" propid="value" datasetid="dsData" columnid="DS_RECADDR2"/>
      <BindItem id="item25" compid="divData.form.txtDS_ADDR" propid="value" datasetid="dsData" columnid="DS_ADDR3"/>
      <BindItem id="item26" compid="divData.form.txtDS_EMAIL" propid="value" datasetid="dsData" columnid="DS_EMAIL"/>
      <BindItem id="item27" compid="divData.form.txtDS_UPTAE" propid="value" datasetid="dsData" columnid="DS_UPTAE"/>
      <BindItem id="item28" compid="divData.form.txtDS_UPJONG" propid="value" datasetid="dsData" columnid="DS_UPJONG"/>
      <BindItem id="item29" compid="divData.form.txtCD_VENDOR" propid="value" datasetid="dsData" columnid="CD_VENDOR"/>
      <BindItem id="item30" compid="divData.form.txtDS_VENDOR" propid="value" datasetid="dsData" columnid="DS_VENDOR"/>
      <BindItem id="item31" compid="divData.form.txtNO_CONTRACT" propid="value" datasetid="dsData" columnid="NO_CONTRACT"/>
      <BindItem id="item32" compid="divData.form.rdoYN_EBILL" propid="value" datasetid="dsData" columnid="YN_EBILL"/>
      <BindItem id="item33" compid="divData.form.rdoYN_BUNYANG" propid="value" datasetid="dsData" columnid="YN_BUNYANG"/>
      <BindItem id="item34" compid="divData.form.rdoYN_JOINT" propid="value" datasetid="dsData" columnid="YN_JOINT"/>
      <BindItem id="item35" compid="divData.form.txtDS_REMARK" propid="value" datasetid="dsData" columnid="DS_REMARK"/>
      <BindItem id="item3" compid="divData.form.rdoYN_DELAY" propid="value" datasetid="dsData" columnid="YN_DELAY"/>
      <BindItem id="item8" compid="divData.form.ccfNO_FINANCING.form.CDTextBox" propid="value" datasetid="dsData" columnid="NO_FINANCING"/>
      <BindItem id="item10" compid="divData.form.ccfCD_CARD.form.CDTextBox" propid="value" datasetid="dsData" columnid="CD_CARD"/>
      <BindItem id="item11" compid="divData.form.txtNO_APPROVAL" propid="value" datasetid="dsData" columnid="NO_APPROVAL"/>
      <BindItem id="item12" compid="divData.form.cboTY_POSITION" propid="value" datasetid="dsData" columnid="TY_POSITION"/>
      <BindItem id="item16" compid="divData.form.cboTY_MONEY" propid="value" datasetid="dsData" columnid="TY_MONEY"/>
      <BindItem id="item37" compid="divData.form.ccfCD_CARD.form.DSTextBox" propid="value" datasetid="dsData" columnid="DS_CARD"/>
      <BindItem id="item6" compid="divData.form.txtNO_GUJA" propid="value" datasetid="dsData" columnid="NO_GUJA"/>
      <BindItem id="item7" compid="divData.form.ccfCD_GUJA.form.CDTextBox" propid="value" datasetid="dsData" columnid="CD_GUJA"/>
      <BindItem id="item36" compid="divData.form.ccfRT_OPTION.form.DSTextBox" propid="value" datasetid="dsData" columnid="DS_OPTION"/>
      <BindItem id="item13" compid="divData.form.mskNO_MOBILE" propid="value" datasetid="dsData" columnid="NO_MOBILE"/>
      <BindItem id="item38" compid="divData.form.mskNO_JUMIN" propid="value" datasetid="dsData" columnid="NO_JUMIN"/>
    </Bind>
  </Form>
</FDL>
